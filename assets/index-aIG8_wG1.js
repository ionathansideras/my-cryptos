var sk=Object.defineProperty;var ok=(t,e,n)=>e in t?sk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var P=(t,e,n)=>(ok(t,typeof e!="symbol"?e+"":e,n),n);function ak(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function lk(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var R1={exports:{}},Mh={},P1={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Al=Symbol.for("react.element"),ck=Symbol.for("react.portal"),uk=Symbol.for("react.fragment"),hk=Symbol.for("react.strict_mode"),dk=Symbol.for("react.profiler"),fk=Symbol.for("react.provider"),pk=Symbol.for("react.context"),gk=Symbol.for("react.forward_ref"),mk=Symbol.for("react.suspense"),yk=Symbol.for("react.memo"),_k=Symbol.for("react.lazy"),X_=Symbol.iterator;function vk(t){return t===null||typeof t!="object"?null:(t=X_&&t[X_]||t["@@iterator"],typeof t=="function"?t:null)}var O1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D1=Object.assign,M1={};function mo(t,e,n){this.props=t,this.context=e,this.refs=M1,this.updater=n||O1}mo.prototype.isReactComponent={};mo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};mo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function N1(){}N1.prototype=mo.prototype;function lm(t,e,n){this.props=t,this.context=e,this.refs=M1,this.updater=n||O1}var cm=lm.prototype=new N1;cm.constructor=lm;D1(cm,mo.prototype);cm.isPureReactComponent=!0;var J_=Array.isArray,L1=Object.prototype.hasOwnProperty,um={current:null},V1={key:!0,ref:!0,__self:!0,__source:!0};function F1(t,e,n){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)L1.call(e,i)&&!V1.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:Al,type:t,key:s,ref:o,props:r,_owner:um.current}}function wk(t,e){return{$$typeof:Al,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function hm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Al}function Ek(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Z_=/\/+/g;function Qd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ek(""+t.key):e.toString(36)}function Kc(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Al:case ck:o=!0}}if(o)return o=t,r=r(o),t=i===""?"."+Qd(o,0):i,J_(r)?(n="",t!=null&&(n=t.replace(Z_,"$&/")+"/"),Kc(r,e,n,"",function(c){return c})):r!=null&&(hm(r)&&(r=wk(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(Z_,"$&/")+"/")+t)),e.push(r)),1;if(o=0,i=i===""?".":i+":",J_(t))for(var a=0;a<t.length;a++){s=t[a];var l=i+Qd(s,a);o+=Kc(s,e,n,l,r)}else if(l=vk(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=i+Qd(s,a++),o+=Kc(s,e,n,l,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function rc(t,e,n){if(t==null)return t;var i=[],r=0;return Kc(t,i,"","",function(s){return e.call(n,s,r++)}),i}function Sk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var bt={current:null},Gc={transition:null},Ak={ReactCurrentDispatcher:bt,ReactCurrentBatchConfig:Gc,ReactCurrentOwner:um};Z.Children={map:rc,forEach:function(t,e,n){rc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return rc(t,function(){e++}),e},toArray:function(t){return rc(t,function(e){return e})||[]},only:function(t){if(!hm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Z.Component=mo;Z.Fragment=uk;Z.Profiler=dk;Z.PureComponent=lm;Z.StrictMode=hk;Z.Suspense=mk;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ak;Z.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=D1({},t.props),r=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=um.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)L1.call(e,l)&&!V1.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:Al,type:t.type,key:r,ref:s,props:i,_owner:o}};Z.createContext=function(t){return t={$$typeof:pk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:fk,_context:t},t.Consumer=t};Z.createElement=F1;Z.createFactory=function(t){var e=F1.bind(null,t);return e.type=t,e};Z.createRef=function(){return{current:null}};Z.forwardRef=function(t){return{$$typeof:gk,render:t}};Z.isValidElement=hm;Z.lazy=function(t){return{$$typeof:_k,_payload:{_status:-1,_result:t},_init:Sk}};Z.memo=function(t,e){return{$$typeof:yk,type:t,compare:e===void 0?null:e}};Z.startTransition=function(t){var e=Gc.transition;Gc.transition={};try{t()}finally{Gc.transition=e}};Z.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Z.useCallback=function(t,e){return bt.current.useCallback(t,e)};Z.useContext=function(t){return bt.current.useContext(t)};Z.useDebugValue=function(){};Z.useDeferredValue=function(t){return bt.current.useDeferredValue(t)};Z.useEffect=function(t,e){return bt.current.useEffect(t,e)};Z.useId=function(){return bt.current.useId()};Z.useImperativeHandle=function(t,e,n){return bt.current.useImperativeHandle(t,e,n)};Z.useInsertionEffect=function(t,e){return bt.current.useInsertionEffect(t,e)};Z.useLayoutEffect=function(t,e){return bt.current.useLayoutEffect(t,e)};Z.useMemo=function(t,e){return bt.current.useMemo(t,e)};Z.useReducer=function(t,e,n){return bt.current.useReducer(t,e,n)};Z.useRef=function(t){return bt.current.useRef(t)};Z.useState=function(t){return bt.current.useState(t)};Z.useSyncExternalStore=function(t,e,n){return bt.current.useSyncExternalStore(t,e,n)};Z.useTransition=function(){return bt.current.useTransition()};Z.version="18.2.0";P1.exports=Z;var b=P1.exports;const dm=lk(b),ap=ak({__proto__:null,default:dm},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xk=b,Tk=Symbol.for("react.element"),Ik=Symbol.for("react.fragment"),bk=Object.prototype.hasOwnProperty,Ck=xk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kk={key:!0,ref:!0,__self:!0,__source:!0};function j1(t,e,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)bk.call(e,i)&&!kk.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:Tk,type:t,key:s,ref:o,props:r,_owner:Ck.current}}Mh.Fragment=Ik;Mh.jsx=j1;Mh.jsxs=j1;R1.exports=Mh;var w=R1.exports,lp={},B1={exports:{}},Jt={},U1={exports:{}},z1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,j){var W=M.length;M.push(j);e:for(;0<W;){var de=W-1>>>1,ye=M[de];if(0<r(ye,j))M[de]=j,M[W]=ye,W=de;else break e}}function n(M){return M.length===0?null:M[0]}function i(M){if(M.length===0)return null;var j=M[0],W=M.pop();if(W!==j){M[0]=W;e:for(var de=0,ye=M.length,Tn=ye>>>1;de<Tn;){var Ft=2*(de+1)-1,Hn=M[Ft],jt=Ft+1,ic=M[jt];if(0>r(Hn,W))jt<ye&&0>r(ic,Hn)?(M[de]=ic,M[jt]=W,de=jt):(M[de]=Hn,M[Ft]=W,de=Ft);else if(jt<ye&&0>r(ic,W))M[de]=ic,M[jt]=W,de=jt;else break e}}return j}function r(M,j){var W=M.sortIndex-j.sortIndex;return W!==0?W:M.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,d=3,f=!1,p=!1,g=!1,_=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(M){for(var j=n(c);j!==null;){if(j.callback===null)i(c);else if(j.startTime<=M)i(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(c)}}function E(M){if(g=!1,v(M),!p)if(n(l)!==null)p=!0,he(S);else{var j=n(c);j!==null&&me(E,j.startTime-M)}}function S(M,j){p=!1,g&&(g=!1,m(T),T=-1),f=!0;var W=d;try{for(v(j),h=n(l);h!==null&&(!(h.expirationTime>j)||M&&!U());){var de=h.callback;if(typeof de=="function"){h.callback=null,d=h.priorityLevel;var ye=de(h.expirationTime<=j);j=t.unstable_now(),typeof ye=="function"?h.callback=ye:h===n(l)&&i(l),v(j)}else i(l);h=n(l)}if(h!==null)var Tn=!0;else{var Ft=n(c);Ft!==null&&me(E,Ft.startTime-j),Tn=!1}return Tn}finally{h=null,d=W,f=!1}}var A=!1,x=null,T=-1,O=5,D=-1;function U(){return!(t.unstable_now()-D<O)}function Y(){if(x!==null){var M=t.unstable_now();D=M;var j=!0;try{j=x(!0,M)}finally{j?Ie():(A=!1,x=null)}}else A=!1}var Ie;if(typeof y=="function")Ie=function(){y(Y)};else if(typeof MessageChannel<"u"){var ct=new MessageChannel,ae=ct.port2;ct.port1.onmessage=Y,Ie=function(){ae.postMessage(null)}}else Ie=function(){_(Y,0)};function he(M){x=M,A||(A=!0,Ie())}function me(M,j){T=_(function(){M(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,he(S))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(d){case 1:case 2:case 3:var j=3;break;default:j=d}var W=d;d=j;try{return M()}finally{d=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,j){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var W=d;d=M;try{return j()}finally{d=W}},t.unstable_scheduleCallback=function(M,j,W){var de=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?de+W:de):W=de,M){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=W+ye,M={id:u++,callback:j,priorityLevel:M,startTime:W,expirationTime:ye,sortIndex:-1},W>de?(M.sortIndex=W,e(c,M),n(l)===null&&M===n(c)&&(g?(m(T),T=-1):g=!0,me(E,W-de))):(M.sortIndex=ye,e(l,M),p||f||(p=!0,he(S))),M},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(M){var j=d;return function(){var W=d;d=j;try{return M.apply(this,arguments)}finally{d=W}}}})(z1);U1.exports=z1;var Rk=U1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $1=b,Gt=Rk;function R(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var W1=new Set,Ca={};function os(t,e){qs(t,e),qs(t+"Capture",e)}function qs(t,e){for(Ca[t]=e,t=0;t<e.length;t++)W1.add(e[t])}var ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cp=Object.prototype.hasOwnProperty,Pk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ev={},tv={};function Ok(t){return cp.call(tv,t)?!0:cp.call(ev,t)?!1:Pk.test(t)?tv[t]=!0:(ev[t]=!0,!1)}function Dk(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Mk(t,e,n,i){if(e===null||typeof e>"u"||Dk(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ct(t,e,n,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){lt[t]=new Ct(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];lt[e]=new Ct(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){lt[t]=new Ct(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){lt[t]=new Ct(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){lt[t]=new Ct(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){lt[t]=new Ct(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){lt[t]=new Ct(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){lt[t]=new Ct(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){lt[t]=new Ct(t,5,!1,t.toLowerCase(),null,!1,!1)});var fm=/[\-:]([a-z])/g;function pm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(fm,pm);lt[e]=new Ct(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(fm,pm);lt[e]=new Ct(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(fm,pm);lt[e]=new Ct(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){lt[t]=new Ct(t,1,!1,t.toLowerCase(),null,!1,!1)});lt.xlinkHref=new Ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){lt[t]=new Ct(t,1,!1,t.toLowerCase(),null,!0,!0)});function gm(t,e,n,i){var r=lt.hasOwnProperty(e)?lt[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Mk(e,n,r,i)&&(n=null),i||r===null?Ok(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var vi=$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sc=Symbol.for("react.element"),Es=Symbol.for("react.portal"),Ss=Symbol.for("react.fragment"),mm=Symbol.for("react.strict_mode"),up=Symbol.for("react.profiler"),H1=Symbol.for("react.provider"),q1=Symbol.for("react.context"),ym=Symbol.for("react.forward_ref"),hp=Symbol.for("react.suspense"),dp=Symbol.for("react.suspense_list"),_m=Symbol.for("react.memo"),ki=Symbol.for("react.lazy"),K1=Symbol.for("react.offscreen"),nv=Symbol.iterator;function Co(t){return t===null||typeof t!="object"?null:(t=nv&&t[nv]||t["@@iterator"],typeof t=="function"?t:null)}var ke=Object.assign,Yd;function Ho(t){if(Yd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Yd=e&&e[1]||""}return`
`+Yd+t}var Xd=!1;function Jd(t,e){if(!t||Xd)return"";Xd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Xd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ho(t):""}function Nk(t){switch(t.tag){case 5:return Ho(t.type);case 16:return Ho("Lazy");case 13:return Ho("Suspense");case 19:return Ho("SuspenseList");case 0:case 2:case 15:return t=Jd(t.type,!1),t;case 11:return t=Jd(t.type.render,!1),t;case 1:return t=Jd(t.type,!0),t;default:return""}}function fp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ss:return"Fragment";case Es:return"Portal";case up:return"Profiler";case mm:return"StrictMode";case hp:return"Suspense";case dp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case q1:return(t.displayName||"Context")+".Consumer";case H1:return(t._context.displayName||"Context")+".Provider";case ym:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case _m:return e=t.displayName||null,e!==null?e:fp(t.type)||"Memo";case ki:e=t._payload,t=t._init;try{return fp(t(e))}catch{}}return null}function Lk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fp(e);case 8:return e===mm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function rr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function G1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Vk(t){var e=G1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function oc(t){t._valueTracker||(t._valueTracker=Vk(t))}function Q1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=G1(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Tu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function pp(t,e){var n=e.checked;return ke({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function iv(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=rr(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Y1(t,e){e=e.checked,e!=null&&gm(t,"checked",e,!1)}function gp(t,e){Y1(t,e);var n=rr(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?mp(t,e.type,n):e.hasOwnProperty("defaultValue")&&mp(t,e.type,rr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function rv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function mp(t,e,n){(e!=="number"||Tu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var qo=Array.isArray;function Ms(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+rr(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function yp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(R(91));return ke({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function sv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(R(92));if(qo(n)){if(1<n.length)throw Error(R(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:rr(n)}}function X1(t,e){var n=rr(e.value),i=rr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function ov(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function J1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _p(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?J1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ac,Z1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ac=ac||document.createElement("div"),ac.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ac.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ka(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var la={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fk=["Webkit","ms","Moz","O"];Object.keys(la).forEach(function(t){Fk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),la[e]=la[t]})});function eS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||la.hasOwnProperty(t)&&la[t]?(""+e).trim():e+"px"}function tS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=eS(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var jk=ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vp(t,e){if(e){if(jk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(R(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(R(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(R(61))}if(e.style!=null&&typeof e.style!="object")throw Error(R(62))}}function wp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ep=null;function vm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sp=null,Ns=null,Ls=null;function av(t){if(t=Il(t)){if(typeof Sp!="function")throw Error(R(280));var e=t.stateNode;e&&(e=jh(e),Sp(t.stateNode,t.type,e))}}function nS(t){Ns?Ls?Ls.push(t):Ls=[t]:Ns=t}function iS(){if(Ns){var t=Ns,e=Ls;if(Ls=Ns=null,av(t),e)for(t=0;t<e.length;t++)av(e[t])}}function rS(t,e){return t(e)}function sS(){}var Zd=!1;function oS(t,e,n){if(Zd)return t(e,n);Zd=!0;try{return rS(t,e,n)}finally{Zd=!1,(Ns!==null||Ls!==null)&&(sS(),iS())}}function Ra(t,e){var n=t.stateNode;if(n===null)return null;var i=jh(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(R(231,e,typeof n));return n}var Ap=!1;if(ui)try{var ko={};Object.defineProperty(ko,"passive",{get:function(){Ap=!0}}),window.addEventListener("test",ko,ko),window.removeEventListener("test",ko,ko)}catch{Ap=!1}function Bk(t,e,n,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var ca=!1,Iu=null,bu=!1,xp=null,Uk={onError:function(t){ca=!0,Iu=t}};function zk(t,e,n,i,r,s,o,a,l){ca=!1,Iu=null,Bk.apply(Uk,arguments)}function $k(t,e,n,i,r,s,o,a,l){if(zk.apply(this,arguments),ca){if(ca){var c=Iu;ca=!1,Iu=null}else throw Error(R(198));bu||(bu=!0,xp=c)}}function as(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function aS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function lv(t){if(as(t)!==t)throw Error(R(188))}function Wk(t){var e=t.alternate;if(!e){if(e=as(t),e===null)throw Error(R(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return lv(r),t;if(s===i)return lv(r),e;s=s.sibling}throw Error(R(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o)throw Error(R(189))}}if(n.alternate!==i)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?t:e}function lS(t){return t=Wk(t),t!==null?cS(t):null}function cS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=cS(t);if(e!==null)return e;t=t.sibling}return null}var uS=Gt.unstable_scheduleCallback,cv=Gt.unstable_cancelCallback,Hk=Gt.unstable_shouldYield,qk=Gt.unstable_requestPaint,Ne=Gt.unstable_now,Kk=Gt.unstable_getCurrentPriorityLevel,wm=Gt.unstable_ImmediatePriority,hS=Gt.unstable_UserBlockingPriority,Cu=Gt.unstable_NormalPriority,Gk=Gt.unstable_LowPriority,dS=Gt.unstable_IdlePriority,Nh=null,Nn=null;function Qk(t){if(Nn&&typeof Nn.onCommitFiberRoot=="function")try{Nn.onCommitFiberRoot(Nh,t,void 0,(t.current.flags&128)===128)}catch{}}var yn=Math.clz32?Math.clz32:Jk,Yk=Math.log,Xk=Math.LN2;function Jk(t){return t>>>=0,t===0?32:31-(Yk(t)/Xk|0)|0}var lc=64,cc=4194304;function Ko(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ku(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?i=Ko(a):(s&=o,s!==0&&(i=Ko(s)))}else o=n&~r,o!==0?i=Ko(o):s!==0&&(i=Ko(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-yn(e),r=1<<n,i|=t[n],e&=~r;return i}function Zk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eR(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-yn(s),a=1<<o,l=r[o];l===-1?(!(a&n)||a&i)&&(r[o]=Zk(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Tp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function fS(){var t=lc;return lc<<=1,!(lc&4194240)&&(lc=64),t}function ef(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function xl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-yn(e),t[e]=n}function tR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-yn(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function Em(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-yn(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var ce=0;function pS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var gS,Sm,mS,yS,_S,Ip=!1,uc=[],Wi=null,Hi=null,qi=null,Pa=new Map,Oa=new Map,Pi=[],nR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uv(t,e){switch(t){case"focusin":case"focusout":Wi=null;break;case"dragenter":case"dragleave":Hi=null;break;case"mouseover":case"mouseout":qi=null;break;case"pointerover":case"pointerout":Pa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oa.delete(e.pointerId)}}function Ro(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Il(e),e!==null&&Sm(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function iR(t,e,n,i,r){switch(e){case"focusin":return Wi=Ro(Wi,t,e,n,i,r),!0;case"dragenter":return Hi=Ro(Hi,t,e,n,i,r),!0;case"mouseover":return qi=Ro(qi,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return Pa.set(s,Ro(Pa.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Oa.set(s,Ro(Oa.get(s)||null,t,e,n,i,r)),!0}return!1}function vS(t){var e=Rr(t.target);if(e!==null){var n=as(e);if(n!==null){if(e=n.tag,e===13){if(e=aS(n),e!==null){t.blockedOn=e,_S(t.priority,function(){mS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=bp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Ep=i,n.target.dispatchEvent(i),Ep=null}else return e=Il(n),e!==null&&Sm(e),t.blockedOn=n,!1;e.shift()}return!0}function hv(t,e,n){Qc(t)&&n.delete(e)}function rR(){Ip=!1,Wi!==null&&Qc(Wi)&&(Wi=null),Hi!==null&&Qc(Hi)&&(Hi=null),qi!==null&&Qc(qi)&&(qi=null),Pa.forEach(hv),Oa.forEach(hv)}function Po(t,e){t.blockedOn===e&&(t.blockedOn=null,Ip||(Ip=!0,Gt.unstable_scheduleCallback(Gt.unstable_NormalPriority,rR)))}function Da(t){function e(r){return Po(r,t)}if(0<uc.length){Po(uc[0],t);for(var n=1;n<uc.length;n++){var i=uc[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Wi!==null&&Po(Wi,t),Hi!==null&&Po(Hi,t),qi!==null&&Po(qi,t),Pa.forEach(e),Oa.forEach(e),n=0;n<Pi.length;n++)i=Pi[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<Pi.length&&(n=Pi[0],n.blockedOn===null);)vS(n),n.blockedOn===null&&Pi.shift()}var Vs=vi.ReactCurrentBatchConfig,Ru=!0;function sR(t,e,n,i){var r=ce,s=Vs.transition;Vs.transition=null;try{ce=1,Am(t,e,n,i)}finally{ce=r,Vs.transition=s}}function oR(t,e,n,i){var r=ce,s=Vs.transition;Vs.transition=null;try{ce=4,Am(t,e,n,i)}finally{ce=r,Vs.transition=s}}function Am(t,e,n,i){if(Ru){var r=bp(t,e,n,i);if(r===null)hf(t,e,i,Pu,n),uv(t,i);else if(iR(r,t,e,n,i))i.stopPropagation();else if(uv(t,i),e&4&&-1<nR.indexOf(t)){for(;r!==null;){var s=Il(r);if(s!==null&&gS(s),s=bp(t,e,n,i),s===null&&hf(t,e,i,Pu,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else hf(t,e,i,null,n)}}var Pu=null;function bp(t,e,n,i){if(Pu=null,t=vm(i),t=Rr(t),t!==null)if(e=as(t),e===null)t=null;else if(n=e.tag,n===13){if(t=aS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Pu=t,null}function wS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kk()){case wm:return 1;case hS:return 4;case Cu:case Gk:return 16;case dS:return 536870912;default:return 16}default:return 16}}var Li=null,xm=null,Yc=null;function ES(){if(Yc)return Yc;var t,e=xm,n=e.length,i,r="value"in Li?Li.value:Li.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===r[s-i];i++);return Yc=r.slice(t,1<i?1-i:void 0)}function Xc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function hc(){return!0}function dv(){return!1}function Zt(t){function e(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?hc:dv,this.isPropagationStopped=dv,this}return ke(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hc)},persist:function(){},isPersistent:hc}),e}var yo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tm=Zt(yo),Tl=ke({},yo,{view:0,detail:0}),aR=Zt(Tl),tf,nf,Oo,Lh=ke({},Tl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Im,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Oo&&(Oo&&t.type==="mousemove"?(tf=t.screenX-Oo.screenX,nf=t.screenY-Oo.screenY):nf=tf=0,Oo=t),tf)},movementY:function(t){return"movementY"in t?t.movementY:nf}}),fv=Zt(Lh),lR=ke({},Lh,{dataTransfer:0}),cR=Zt(lR),uR=ke({},Tl,{relatedTarget:0}),rf=Zt(uR),hR=ke({},yo,{animationName:0,elapsedTime:0,pseudoElement:0}),dR=Zt(hR),fR=ke({},yo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),pR=Zt(fR),gR=ke({},yo,{data:0}),pv=Zt(gR),mR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_R={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_R[t])?!!e[t]:!1}function Im(){return vR}var wR=ke({},Tl,{key:function(t){if(t.key){var e=mR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Xc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Im,charCode:function(t){return t.type==="keypress"?Xc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ER=Zt(wR),SR=ke({},Lh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gv=Zt(SR),AR=ke({},Tl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Im}),xR=Zt(AR),TR=ke({},yo,{propertyName:0,elapsedTime:0,pseudoElement:0}),IR=Zt(TR),bR=ke({},Lh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),CR=Zt(bR),kR=[9,13,27,32],bm=ui&&"CompositionEvent"in window,ua=null;ui&&"documentMode"in document&&(ua=document.documentMode);var RR=ui&&"TextEvent"in window&&!ua,SS=ui&&(!bm||ua&&8<ua&&11>=ua),mv=String.fromCharCode(32),yv=!1;function AS(t,e){switch(t){case"keyup":return kR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var As=!1;function PR(t,e){switch(t){case"compositionend":return xS(e);case"keypress":return e.which!==32?null:(yv=!0,mv);case"textInput":return t=e.data,t===mv&&yv?null:t;default:return null}}function OR(t,e){if(As)return t==="compositionend"||!bm&&AS(t,e)?(t=ES(),Yc=xm=Li=null,As=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return SS&&e.locale!=="ko"?null:e.data;default:return null}}var DR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _v(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!DR[t.type]:e==="textarea"}function TS(t,e,n,i){nS(i),e=Ou(e,"onChange"),0<e.length&&(n=new Tm("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var ha=null,Ma=null;function MR(t){LS(t,0)}function Vh(t){var e=Is(t);if(Q1(e))return t}function NR(t,e){if(t==="change")return e}var IS=!1;if(ui){var sf;if(ui){var of="oninput"in document;if(!of){var vv=document.createElement("div");vv.setAttribute("oninput","return;"),of=typeof vv.oninput=="function"}sf=of}else sf=!1;IS=sf&&(!document.documentMode||9<document.documentMode)}function wv(){ha&&(ha.detachEvent("onpropertychange",bS),Ma=ha=null)}function bS(t){if(t.propertyName==="value"&&Vh(Ma)){var e=[];TS(e,Ma,t,vm(t)),oS(MR,e)}}function LR(t,e,n){t==="focusin"?(wv(),ha=e,Ma=n,ha.attachEvent("onpropertychange",bS)):t==="focusout"&&wv()}function VR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vh(Ma)}function FR(t,e){if(t==="click")return Vh(e)}function jR(t,e){if(t==="input"||t==="change")return Vh(e)}function BR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var En=typeof Object.is=="function"?Object.is:BR;function Na(t,e){if(En(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!cp.call(e,r)||!En(t[r],e[r]))return!1}return!0}function Ev(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Sv(t,e){var n=Ev(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ev(n)}}function CS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?CS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function kS(){for(var t=window,e=Tu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Tu(t.document)}return e}function Cm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function UR(t){var e=kS(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&CS(n.ownerDocument.documentElement,n)){if(i!==null&&Cm(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=Sv(n,s);var o=Sv(n,i);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zR=ui&&"documentMode"in document&&11>=document.documentMode,xs=null,Cp=null,da=null,kp=!1;function Av(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;kp||xs==null||xs!==Tu(i)||(i=xs,"selectionStart"in i&&Cm(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),da&&Na(da,i)||(da=i,i=Ou(Cp,"onSelect"),0<i.length&&(e=new Tm("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=xs)))}function dc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ts={animationend:dc("Animation","AnimationEnd"),animationiteration:dc("Animation","AnimationIteration"),animationstart:dc("Animation","AnimationStart"),transitionend:dc("Transition","TransitionEnd")},af={},RS={};ui&&(RS=document.createElement("div").style,"AnimationEvent"in window||(delete Ts.animationend.animation,delete Ts.animationiteration.animation,delete Ts.animationstart.animation),"TransitionEvent"in window||delete Ts.transitionend.transition);function Fh(t){if(af[t])return af[t];if(!Ts[t])return t;var e=Ts[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in RS)return af[t]=e[n];return t}var PS=Fh("animationend"),OS=Fh("animationiteration"),DS=Fh("animationstart"),MS=Fh("transitionend"),NS=new Map,xv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fr(t,e){NS.set(t,e),os(e,[t])}for(var lf=0;lf<xv.length;lf++){var cf=xv[lf],$R=cf.toLowerCase(),WR=cf[0].toUpperCase()+cf.slice(1);fr($R,"on"+WR)}fr(PS,"onAnimationEnd");fr(OS,"onAnimationIteration");fr(DS,"onAnimationStart");fr("dblclick","onDoubleClick");fr("focusin","onFocus");fr("focusout","onBlur");fr(MS,"onTransitionEnd");qs("onMouseEnter",["mouseout","mouseover"]);qs("onMouseLeave",["mouseout","mouseover"]);qs("onPointerEnter",["pointerout","pointerover"]);qs("onPointerLeave",["pointerout","pointerover"]);os("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));os("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));os("onBeforeInput",["compositionend","keypress","textInput","paste"]);os("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));os("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));os("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Go));function Tv(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,$k(i,e,void 0,t),t.currentTarget=null}function LS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;Tv(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;Tv(r,a,c),s=l}}}if(bu)throw t=xp,bu=!1,xp=null,t}function _e(t,e){var n=e[Mp];n===void 0&&(n=e[Mp]=new Set);var i=t+"__bubble";n.has(i)||(VS(e,t,2,!1),n.add(i))}function uf(t,e,n){var i=0;e&&(i|=4),VS(n,t,i,e)}var fc="_reactListening"+Math.random().toString(36).slice(2);function La(t){if(!t[fc]){t[fc]=!0,W1.forEach(function(n){n!=="selectionchange"&&(HR.has(n)||uf(n,!1,t),uf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fc]||(e[fc]=!0,uf("selectionchange",!1,e))}}function VS(t,e,n,i){switch(wS(e)){case 1:var r=sR;break;case 4:r=oR;break;default:r=Am}n=r.bind(null,e,n,t),r=void 0,!Ap||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function hf(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Rr(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}oS(function(){var c=s,u=vm(n),h=[];e:{var d=NS.get(t);if(d!==void 0){var f=Tm,p=t;switch(t){case"keypress":if(Xc(n)===0)break e;case"keydown":case"keyup":f=ER;break;case"focusin":p="focus",f=rf;break;case"focusout":p="blur",f=rf;break;case"beforeblur":case"afterblur":f=rf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=fv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=cR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=xR;break;case PS:case OS:case DS:f=dR;break;case MS:f=IR;break;case"scroll":f=aR;break;case"wheel":f=CR;break;case"copy":case"cut":case"paste":f=pR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=gv}var g=(e&4)!==0,_=!g&&t==="scroll",m=g?d!==null?d+"Capture":null:d;g=[];for(var y=c,v;y!==null;){v=y;var E=v.stateNode;if(v.tag===5&&E!==null&&(v=E,m!==null&&(E=Ra(y,m),E!=null&&g.push(Va(y,E,v)))),_)break;y=y.return}0<g.length&&(d=new f(d,p,null,n,u),h.push({event:d,listeners:g}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&n!==Ep&&(p=n.relatedTarget||n.fromElement)&&(Rr(p)||p[hi]))break e;if((f||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=c,p=p?Rr(p):null,p!==null&&(_=as(p),p!==_||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=c),f!==p)){if(g=fv,E="onMouseLeave",m="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=gv,E="onPointerLeave",m="onPointerEnter",y="pointer"),_=f==null?d:Is(f),v=p==null?d:Is(p),d=new g(E,y+"leave",f,n,u),d.target=_,d.relatedTarget=v,E=null,Rr(u)===c&&(g=new g(m,y+"enter",p,n,u),g.target=v,g.relatedTarget=_,E=g),_=E,f&&p)t:{for(g=f,m=p,y=0,v=g;v;v=ps(v))y++;for(v=0,E=m;E;E=ps(E))v++;for(;0<y-v;)g=ps(g),y--;for(;0<v-y;)m=ps(m),v--;for(;y--;){if(g===m||m!==null&&g===m.alternate)break t;g=ps(g),m=ps(m)}g=null}else g=null;f!==null&&Iv(h,d,f,g,!1),p!==null&&_!==null&&Iv(h,_,p,g,!0)}}e:{if(d=c?Is(c):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var S=NR;else if(_v(d))if(IS)S=jR;else{S=VR;var A=LR}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=FR);if(S&&(S=S(t,c))){TS(h,S,n,u);break e}A&&A(t,d,c),t==="focusout"&&(A=d._wrapperState)&&A.controlled&&d.type==="number"&&mp(d,"number",d.value)}switch(A=c?Is(c):window,t){case"focusin":(_v(A)||A.contentEditable==="true")&&(xs=A,Cp=c,da=null);break;case"focusout":da=Cp=xs=null;break;case"mousedown":kp=!0;break;case"contextmenu":case"mouseup":case"dragend":kp=!1,Av(h,n,u);break;case"selectionchange":if(zR)break;case"keydown":case"keyup":Av(h,n,u)}var x;if(bm)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else As?AS(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(SS&&n.locale!=="ko"&&(As||T!=="onCompositionStart"?T==="onCompositionEnd"&&As&&(x=ES()):(Li=u,xm="value"in Li?Li.value:Li.textContent,As=!0)),A=Ou(c,T),0<A.length&&(T=new pv(T,t,null,n,u),h.push({event:T,listeners:A}),x?T.data=x:(x=xS(n),x!==null&&(T.data=x)))),(x=RR?PR(t,n):OR(t,n))&&(c=Ou(c,"onBeforeInput"),0<c.length&&(u=new pv("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=x))}LS(h,e)})}function Va(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ou(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Ra(t,n),s!=null&&i.unshift(Va(t,s,r)),s=Ra(t,e),s!=null&&i.push(Va(t,s,r))),t=t.return}return i}function ps(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Iv(t,e,n,i,r){for(var s=e._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=Ra(n,s),l!=null&&o.unshift(Va(n,l,a))):r||(l=Ra(n,s),l!=null&&o.push(Va(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var qR=/\r\n?/g,KR=/\u0000|\uFFFD/g;function bv(t){return(typeof t=="string"?t:""+t).replace(qR,`
`).replace(KR,"")}function pc(t,e,n){if(e=bv(e),bv(t)!==e&&n)throw Error(R(425))}function Du(){}var Rp=null,Pp=null;function Op(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Dp=typeof setTimeout=="function"?setTimeout:void 0,GR=typeof clearTimeout=="function"?clearTimeout:void 0,Cv=typeof Promise=="function"?Promise:void 0,QR=typeof queueMicrotask=="function"?queueMicrotask:typeof Cv<"u"?function(t){return Cv.resolve(null).then(t).catch(YR)}:Dp;function YR(t){setTimeout(function(){throw t})}function df(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),Da(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);Da(e)}function Ki(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function kv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var _o=Math.random().toString(36).slice(2),Rn="__reactFiber$"+_o,Fa="__reactProps$"+_o,hi="__reactContainer$"+_o,Mp="__reactEvents$"+_o,XR="__reactListeners$"+_o,JR="__reactHandles$"+_o;function Rr(t){var e=t[Rn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[hi]||n[Rn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=kv(t);t!==null;){if(n=t[Rn])return n;t=kv(t)}return e}t=n,n=t.parentNode}return null}function Il(t){return t=t[Rn]||t[hi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Is(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(R(33))}function jh(t){return t[Fa]||null}var Np=[],bs=-1;function pr(t){return{current:t}}function Se(t){0>bs||(t.current=Np[bs],Np[bs]=null,bs--)}function pe(t,e){bs++,Np[bs]=t.current,t.current=e}var sr={},wt=pr(sr),Mt=pr(!1),Hr=sr;function Ks(t,e){var n=t.type.contextTypes;if(!n)return sr;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Nt(t){return t=t.childContextTypes,t!=null}function Mu(){Se(Mt),Se(wt)}function Rv(t,e,n){if(wt.current!==sr)throw Error(R(168));pe(wt,e),pe(Mt,n)}function FS(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(R(108,Lk(t)||"Unknown",r));return ke({},n,i)}function Nu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||sr,Hr=wt.current,pe(wt,t),pe(Mt,Mt.current),!0}function Pv(t,e,n){var i=t.stateNode;if(!i)throw Error(R(169));n?(t=FS(t,e,Hr),i.__reactInternalMemoizedMergedChildContext=t,Se(Mt),Se(wt),pe(wt,t)):Se(Mt),pe(Mt,n)}var Yn=null,Bh=!1,ff=!1;function jS(t){Yn===null?Yn=[t]:Yn.push(t)}function ZR(t){Bh=!0,jS(t)}function gr(){if(!ff&&Yn!==null){ff=!0;var t=0,e=ce;try{var n=Yn;for(ce=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Yn=null,Bh=!1}catch(r){throw Yn!==null&&(Yn=Yn.slice(t+1)),uS(wm,gr),r}finally{ce=e,ff=!1}}return null}var Cs=[],ks=0,Lu=null,Vu=0,tn=[],nn=0,qr=null,ei=1,ti="";function xr(t,e){Cs[ks++]=Vu,Cs[ks++]=Lu,Lu=t,Vu=e}function BS(t,e,n){tn[nn++]=ei,tn[nn++]=ti,tn[nn++]=qr,qr=t;var i=ei;t=ti;var r=32-yn(i)-1;i&=~(1<<r),n+=1;var s=32-yn(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,ei=1<<32-yn(e)+r|n<<r|i,ti=s+t}else ei=1<<s|n<<r|i,ti=t}function km(t){t.return!==null&&(xr(t,1),BS(t,1,0))}function Rm(t){for(;t===Lu;)Lu=Cs[--ks],Cs[ks]=null,Vu=Cs[--ks],Cs[ks]=null;for(;t===qr;)qr=tn[--nn],tn[nn]=null,ti=tn[--nn],tn[nn]=null,ei=tn[--nn],tn[nn]=null}var qt=null,$t=null,Te=!1,pn=null;function US(t,e){var n=sn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ov(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,qt=t,$t=Ki(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,qt=t,$t=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=qr!==null?{id:ei,overflow:ti}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=sn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,qt=t,$t=null,!0):!1;default:return!1}}function Lp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Vp(t){if(Te){var e=$t;if(e){var n=e;if(!Ov(t,e)){if(Lp(t))throw Error(R(418));e=Ki(n.nextSibling);var i=qt;e&&Ov(t,e)?US(i,n):(t.flags=t.flags&-4097|2,Te=!1,qt=t)}}else{if(Lp(t))throw Error(R(418));t.flags=t.flags&-4097|2,Te=!1,qt=t}}}function Dv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;qt=t}function gc(t){if(t!==qt)return!1;if(!Te)return Dv(t),Te=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Op(t.type,t.memoizedProps)),e&&(e=$t)){if(Lp(t))throw zS(),Error(R(418));for(;e;)US(t,e),e=Ki(e.nextSibling)}if(Dv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(R(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){$t=Ki(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}$t=null}}else $t=qt?Ki(t.stateNode.nextSibling):null;return!0}function zS(){for(var t=$t;t;)t=Ki(t.nextSibling)}function Gs(){$t=qt=null,Te=!1}function Pm(t){pn===null?pn=[t]:pn.push(t)}var eP=vi.ReactCurrentBatchConfig;function dn(t,e){if(t&&t.defaultProps){e=ke({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Fu=pr(null),ju=null,Rs=null,Om=null;function Dm(){Om=Rs=ju=null}function Mm(t){var e=Fu.current;Se(Fu),t._currentValue=e}function Fp(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Fs(t,e){ju=t,Om=Rs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Dt=!0),t.firstContext=null)}function ln(t){var e=t._currentValue;if(Om!==t)if(t={context:t,memoizedValue:e,next:null},Rs===null){if(ju===null)throw Error(R(308));Rs=t,ju.dependencies={lanes:0,firstContext:t}}else Rs=Rs.next=t;return e}var Pr=null;function Nm(t){Pr===null?Pr=[t]:Pr.push(t)}function $S(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,Nm(e)):(n.next=r.next,r.next=n),e.interleaved=n,di(t,i)}function di(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ri=!1;function Lm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function WS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function li(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Gi(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,re&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,di(t,n)}return r=i.interleaved,r===null?(e.next=e,Nm(i)):(e.next=r.next,r.next=e),i.interleaved=e,di(t,n)}function Jc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Em(t,n)}}function Mv(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Bu(t,e,n,i){var r=t.updateQueue;Ri=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=r.baseState;o=0,u=c=l=null,a=s;do{var d=a.lane,f=a.eventTime;if((i&d)===d){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,g=a;switch(d=e,f=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,d=typeof p=="function"?p.call(f,h,d):p,d==null)break e;h=ke({},h,d);break e;case 2:Ri=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=r.effects,d===null?r.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=h):u=u.next=f,o|=d;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;d=a,a=d.next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}while(1);if(u===null&&(l=h),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);Gr|=o,t.lanes=o,t.memoizedState=h}}function Nv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(R(191,r));r.call(i)}}}var HS=new $1.Component().refs;function jp(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:ke({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Uh={isMounted:function(t){return(t=t._reactInternals)?as(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=It(),r=Yi(t),s=li(i,r);s.payload=e,n!=null&&(s.callback=n),e=Gi(t,s,r),e!==null&&(_n(e,t,r,i),Jc(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=It(),r=Yi(t),s=li(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Gi(t,s,r),e!==null&&(_n(e,t,r,i),Jc(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=It(),i=Yi(t),r=li(n,i);r.tag=2,e!=null&&(r.callback=e),e=Gi(t,r,i),e!==null&&(_n(e,t,i,n),Jc(e,t,i))}};function Lv(t,e,n,i,r,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!Na(n,i)||!Na(r,s):!0}function qS(t,e,n){var i=!1,r=sr,s=e.contextType;return typeof s=="object"&&s!==null?s=ln(s):(r=Nt(e)?Hr:wt.current,i=e.contextTypes,s=(i=i!=null)?Ks(t,r):sr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Uh,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function Vv(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Uh.enqueueReplaceState(e,e.state,null)}function Bp(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs=HS,Lm(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=ln(s):(s=Nt(e)?Hr:wt.current,r.context=Ks(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(jp(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Uh.enqueueReplaceState(r,r.state,null),Bu(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Do(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var i=n.stateNode}if(!i)throw Error(R(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;a===HS&&(a=r.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,t))}return t}function mc(t,e){throw t=Object.prototype.toString.call(e),Error(R(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Fv(t){var e=t._init;return e(t._payload)}function KS(t){function e(m,y){if(t){var v=m.deletions;v===null?(m.deletions=[y],m.flags|=16):v.push(y)}}function n(m,y){if(!t)return null;for(;y!==null;)e(m,y),y=y.sibling;return null}function i(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function r(m,y){return m=Xi(m,y),m.index=0,m.sibling=null,m}function s(m,y,v){return m.index=v,t?(v=m.alternate,v!==null?(v=v.index,v<y?(m.flags|=2,y):v):(m.flags|=2,y)):(m.flags|=1048576,y)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,y,v,E){return y===null||y.tag!==6?(y=wf(v,m.mode,E),y.return=m,y):(y=r(y,v),y.return=m,y)}function l(m,y,v,E){var S=v.type;return S===Ss?u(m,y,v.props.children,E,v.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ki&&Fv(S)===y.type)?(E=r(y,v.props),E.ref=Do(m,y,v),E.return=m,E):(E=ru(v.type,v.key,v.props,null,m.mode,E),E.ref=Do(m,y,v),E.return=m,E)}function c(m,y,v,E){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=Ef(v,m.mode,E),y.return=m,y):(y=r(y,v.children||[]),y.return=m,y)}function u(m,y,v,E,S){return y===null||y.tag!==7?(y=jr(v,m.mode,E,S),y.return=m,y):(y=r(y,v),y.return=m,y)}function h(m,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return y=wf(""+y,m.mode,v),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case sc:return v=ru(y.type,y.key,y.props,null,m.mode,v),v.ref=Do(m,null,y),v.return=m,v;case Es:return y=Ef(y,m.mode,v),y.return=m,y;case ki:var E=y._init;return h(m,E(y._payload),v)}if(qo(y)||Co(y))return y=jr(y,m.mode,v,null),y.return=m,y;mc(m,y)}return null}function d(m,y,v,E){var S=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return S!==null?null:a(m,y,""+v,E);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case sc:return v.key===S?l(m,y,v,E):null;case Es:return v.key===S?c(m,y,v,E):null;case ki:return S=v._init,d(m,y,S(v._payload),E)}if(qo(v)||Co(v))return S!==null?null:u(m,y,v,E,null);mc(m,v)}return null}function f(m,y,v,E,S){if(typeof E=="string"&&E!==""||typeof E=="number")return m=m.get(v)||null,a(y,m,""+E,S);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case sc:return m=m.get(E.key===null?v:E.key)||null,l(y,m,E,S);case Es:return m=m.get(E.key===null?v:E.key)||null,c(y,m,E,S);case ki:var A=E._init;return f(m,y,v,A(E._payload),S)}if(qo(E)||Co(E))return m=m.get(v)||null,u(y,m,E,S,null);mc(y,E)}return null}function p(m,y,v,E){for(var S=null,A=null,x=y,T=y=0,O=null;x!==null&&T<v.length;T++){x.index>T?(O=x,x=null):O=x.sibling;var D=d(m,x,v[T],E);if(D===null){x===null&&(x=O);break}t&&x&&D.alternate===null&&e(m,x),y=s(D,y,T),A===null?S=D:A.sibling=D,A=D,x=O}if(T===v.length)return n(m,x),Te&&xr(m,T),S;if(x===null){for(;T<v.length;T++)x=h(m,v[T],E),x!==null&&(y=s(x,y,T),A===null?S=x:A.sibling=x,A=x);return Te&&xr(m,T),S}for(x=i(m,x);T<v.length;T++)O=f(x,m,T,v[T],E),O!==null&&(t&&O.alternate!==null&&x.delete(O.key===null?T:O.key),y=s(O,y,T),A===null?S=O:A.sibling=O,A=O);return t&&x.forEach(function(U){return e(m,U)}),Te&&xr(m,T),S}function g(m,y,v,E){var S=Co(v);if(typeof S!="function")throw Error(R(150));if(v=S.call(v),v==null)throw Error(R(151));for(var A=S=null,x=y,T=y=0,O=null,D=v.next();x!==null&&!D.done;T++,D=v.next()){x.index>T?(O=x,x=null):O=x.sibling;var U=d(m,x,D.value,E);if(U===null){x===null&&(x=O);break}t&&x&&U.alternate===null&&e(m,x),y=s(U,y,T),A===null?S=U:A.sibling=U,A=U,x=O}if(D.done)return n(m,x),Te&&xr(m,T),S;if(x===null){for(;!D.done;T++,D=v.next())D=h(m,D.value,E),D!==null&&(y=s(D,y,T),A===null?S=D:A.sibling=D,A=D);return Te&&xr(m,T),S}for(x=i(m,x);!D.done;T++,D=v.next())D=f(x,m,T,D.value,E),D!==null&&(t&&D.alternate!==null&&x.delete(D.key===null?T:D.key),y=s(D,y,T),A===null?S=D:A.sibling=D,A=D);return t&&x.forEach(function(Y){return e(m,Y)}),Te&&xr(m,T),S}function _(m,y,v,E){if(typeof v=="object"&&v!==null&&v.type===Ss&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case sc:e:{for(var S=v.key,A=y;A!==null;){if(A.key===S){if(S=v.type,S===Ss){if(A.tag===7){n(m,A.sibling),y=r(A,v.props.children),y.return=m,m=y;break e}}else if(A.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ki&&Fv(S)===A.type){n(m,A.sibling),y=r(A,v.props),y.ref=Do(m,A,v),y.return=m,m=y;break e}n(m,A);break}else e(m,A);A=A.sibling}v.type===Ss?(y=jr(v.props.children,m.mode,E,v.key),y.return=m,m=y):(E=ru(v.type,v.key,v.props,null,m.mode,E),E.ref=Do(m,y,v),E.return=m,m=E)}return o(m);case Es:e:{for(A=v.key;y!==null;){if(y.key===A)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){n(m,y.sibling),y=r(y,v.children||[]),y.return=m,m=y;break e}else{n(m,y);break}else e(m,y);y=y.sibling}y=Ef(v,m.mode,E),y.return=m,m=y}return o(m);case ki:return A=v._init,_(m,y,A(v._payload),E)}if(qo(v))return p(m,y,v,E);if(Co(v))return g(m,y,v,E);mc(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,y!==null&&y.tag===6?(n(m,y.sibling),y=r(y,v),y.return=m,m=y):(n(m,y),y=wf(v,m.mode,E),y.return=m,m=y),o(m)):n(m,y)}return _}var Qs=KS(!0),GS=KS(!1),bl={},Ln=pr(bl),ja=pr(bl),Ba=pr(bl);function Or(t){if(t===bl)throw Error(R(174));return t}function Vm(t,e){switch(pe(Ba,e),pe(ja,t),pe(Ln,bl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:_p(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=_p(e,t)}Se(Ln),pe(Ln,e)}function Ys(){Se(Ln),Se(ja),Se(Ba)}function QS(t){Or(Ba.current);var e=Or(Ln.current),n=_p(e,t.type);e!==n&&(pe(ja,t),pe(Ln,n))}function Fm(t){ja.current===t&&(Se(Ln),Se(ja))}var be=pr(0);function Uu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pf=[];function jm(){for(var t=0;t<pf.length;t++)pf[t]._workInProgressVersionPrimary=null;pf.length=0}var Zc=vi.ReactCurrentDispatcher,gf=vi.ReactCurrentBatchConfig,Kr=0,Ce=null,ze=null,Qe=null,zu=!1,fa=!1,Ua=0,tP=0;function ut(){throw Error(R(321))}function Bm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!En(t[n],e[n]))return!1;return!0}function Um(t,e,n,i,r,s){if(Kr=s,Ce=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Zc.current=t===null||t.memoizedState===null?sP:oP,t=n(i,r),fa){s=0;do{if(fa=!1,Ua=0,25<=s)throw Error(R(301));s+=1,Qe=ze=null,e.updateQueue=null,Zc.current=aP,t=n(i,r)}while(fa)}if(Zc.current=$u,e=ze!==null&&ze.next!==null,Kr=0,Qe=ze=Ce=null,zu=!1,e)throw Error(R(300));return t}function zm(){var t=Ua!==0;return Ua=0,t}function Cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?Ce.memoizedState=Qe=t:Qe=Qe.next=t,Qe}function cn(){if(ze===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=ze.next;var e=Qe===null?Ce.memoizedState:Qe.next;if(e!==null)Qe=e,ze=t;else{if(t===null)throw Error(R(310));ze=t,t={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},Qe===null?Ce.memoizedState=Qe=t:Qe=Qe.next=t}return Qe}function za(t,e){return typeof e=="function"?e(t):e}function mf(t){var e=cn(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var i=ze,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Kr&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=i):l=l.next=h,Ce.lanes|=u,Gr|=u}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,En(i,e.memoizedState)||(Dt=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,Ce.lanes|=s,Gr|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function yf(t){var e=cn(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=t(s,o.action),o=o.next;while(o!==r);En(s,e.memoizedState)||(Dt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function YS(){}function XS(t,e){var n=Ce,i=cn(),r=e(),s=!En(i.memoizedState,r);if(s&&(i.memoizedState=r,Dt=!0),i=i.queue,$m(eA.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||Qe!==null&&Qe.memoizedState.tag&1){if(n.flags|=2048,$a(9,ZS.bind(null,n,i,r,e),void 0,null),Xe===null)throw Error(R(349));Kr&30||JS(n,e,r)}return r}function JS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ce.updateQueue,e===null?(e={lastEffect:null,stores:null},Ce.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ZS(t,e,n,i){e.value=n,e.getSnapshot=i,tA(e)&&nA(t)}function eA(t,e,n){return n(function(){tA(e)&&nA(t)})}function tA(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!En(t,n)}catch{return!0}}function nA(t){var e=di(t,1);e!==null&&_n(e,t,1,-1)}function jv(t){var e=Cn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:t},e.queue=t,t=t.dispatch=rP.bind(null,Ce,t),[e.memoizedState,t]}function $a(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Ce.updateQueue,e===null?(e={lastEffect:null,stores:null},Ce.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function iA(){return cn().memoizedState}function eu(t,e,n,i){var r=Cn();Ce.flags|=t,r.memoizedState=$a(1|e,n,void 0,i===void 0?null:i)}function zh(t,e,n,i){var r=cn();i=i===void 0?null:i;var s=void 0;if(ze!==null){var o=ze.memoizedState;if(s=o.destroy,i!==null&&Bm(i,o.deps)){r.memoizedState=$a(e,n,s,i);return}}Ce.flags|=t,r.memoizedState=$a(1|e,n,s,i)}function Bv(t,e){return eu(8390656,8,t,e)}function $m(t,e){return zh(2048,8,t,e)}function rA(t,e){return zh(4,2,t,e)}function sA(t,e){return zh(4,4,t,e)}function oA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function aA(t,e,n){return n=n!=null?n.concat([t]):null,zh(4,4,oA.bind(null,e,t),n)}function Wm(){}function lA(t,e){var n=cn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Bm(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function cA(t,e){var n=cn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Bm(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function uA(t,e,n){return Kr&21?(En(n,e)||(n=fS(),Ce.lanes|=n,Gr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Dt=!0),t.memoizedState=n)}function nP(t,e){var n=ce;ce=n!==0&&4>n?n:4,t(!0);var i=gf.transition;gf.transition={};try{t(!1),e()}finally{ce=n,gf.transition=i}}function hA(){return cn().memoizedState}function iP(t,e,n){var i=Yi(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},dA(t))fA(e,n);else if(n=$S(t,e,n,i),n!==null){var r=It();_n(n,t,i,r),pA(n,e,i)}}function rP(t,e,n){var i=Yi(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(dA(t))fA(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,En(a,o)){var l=e.interleaved;l===null?(r.next=r,Nm(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=$S(t,e,r,i),n!==null&&(r=It(),_n(n,t,i,r),pA(n,e,i))}}function dA(t){var e=t.alternate;return t===Ce||e!==null&&e===Ce}function fA(t,e){fa=zu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function pA(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Em(t,n)}}var $u={readContext:ln,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useInsertionEffect:ut,useLayoutEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useMutableSource:ut,useSyncExternalStore:ut,useId:ut,unstable_isNewReconciler:!1},sP={readContext:ln,useCallback:function(t,e){return Cn().memoizedState=[t,e===void 0?null:e],t},useContext:ln,useEffect:Bv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,eu(4194308,4,oA.bind(null,e,t),n)},useLayoutEffect:function(t,e){return eu(4194308,4,t,e)},useInsertionEffect:function(t,e){return eu(4,2,t,e)},useMemo:function(t,e){var n=Cn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Cn();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=iP.bind(null,Ce,t),[i.memoizedState,t]},useRef:function(t){var e=Cn();return t={current:t},e.memoizedState=t},useState:jv,useDebugValue:Wm,useDeferredValue:function(t){return Cn().memoizedState=t},useTransition:function(){var t=jv(!1),e=t[0];return t=nP.bind(null,t[1]),Cn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Ce,r=Cn();if(Te){if(n===void 0)throw Error(R(407));n=n()}else{if(n=e(),Xe===null)throw Error(R(349));Kr&30||JS(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,Bv(eA.bind(null,i,s,t),[t]),i.flags|=2048,$a(9,ZS.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=Cn(),e=Xe.identifierPrefix;if(Te){var n=ti,i=ei;n=(i&~(1<<32-yn(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ua++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=tP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},oP={readContext:ln,useCallback:lA,useContext:ln,useEffect:$m,useImperativeHandle:aA,useInsertionEffect:rA,useLayoutEffect:sA,useMemo:cA,useReducer:mf,useRef:iA,useState:function(){return mf(za)},useDebugValue:Wm,useDeferredValue:function(t){var e=cn();return uA(e,ze.memoizedState,t)},useTransition:function(){var t=mf(za)[0],e=cn().memoizedState;return[t,e]},useMutableSource:YS,useSyncExternalStore:XS,useId:hA,unstable_isNewReconciler:!1},aP={readContext:ln,useCallback:lA,useContext:ln,useEffect:$m,useImperativeHandle:aA,useInsertionEffect:rA,useLayoutEffect:sA,useMemo:cA,useReducer:yf,useRef:iA,useState:function(){return yf(za)},useDebugValue:Wm,useDeferredValue:function(t){var e=cn();return ze===null?e.memoizedState=t:uA(e,ze.memoizedState,t)},useTransition:function(){var t=yf(za)[0],e=cn().memoizedState;return[t,e]},useMutableSource:YS,useSyncExternalStore:XS,useId:hA,unstable_isNewReconciler:!1};function Xs(t,e){try{var n="",i=e;do n+=Nk(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function _f(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Up(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var lP=typeof WeakMap=="function"?WeakMap:Map;function gA(t,e,n){n=li(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Hu||(Hu=!0,Xp=i),Up(t,e)},n}function mA(t,e,n){n=li(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){Up(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Up(t,e),typeof i!="function"&&(Qi===null?Qi=new Set([this]):Qi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Uv(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new lP;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=SP.bind(null,t,e,n),e.then(t,t))}function zv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function $v(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=li(-1,1),e.tag=2,Gi(n,e,1))),n.lanes|=1),t)}var cP=vi.ReactCurrentOwner,Dt=!1;function xt(t,e,n,i){e.child=t===null?GS(e,null,n,i):Qs(e,t.child,n,i)}function Wv(t,e,n,i,r){n=n.render;var s=e.ref;return Fs(e,r),i=Um(t,e,n,i,s,r),n=zm(),t!==null&&!Dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,fi(t,e,r)):(Te&&n&&km(e),e.flags|=1,xt(t,e,i,r),e.child)}function Hv(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!Jm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,yA(t,e,s,i,r)):(t=ru(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Na,n(o,i)&&t.ref===e.ref)return fi(t,e,r)}return e.flags|=1,t=Xi(s,i),t.ref=e.ref,t.return=e,e.child=t}function yA(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(Na(s,i)&&t.ref===e.ref)if(Dt=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&(Dt=!0);else return e.lanes=t.lanes,fi(t,e,r)}return zp(t,e,n,i,r)}function _A(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},pe(Os,Ut),Ut|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,pe(Os,Ut),Ut|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,pe(Os,Ut),Ut|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,pe(Os,Ut),Ut|=i;return xt(t,e,r,n),e.child}function vA(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function zp(t,e,n,i,r){var s=Nt(n)?Hr:wt.current;return s=Ks(e,s),Fs(e,r),n=Um(t,e,n,i,s,r),i=zm(),t!==null&&!Dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,fi(t,e,r)):(Te&&i&&km(e),e.flags|=1,xt(t,e,n,r),e.child)}function qv(t,e,n,i,r){if(Nt(n)){var s=!0;Nu(e)}else s=!1;if(Fs(e,r),e.stateNode===null)tu(t,e),qS(e,n,i),Bp(e,n,i,r),i=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=ln(c):(c=Nt(n)?Hr:wt.current,c=Ks(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&Vv(e,o,i,c),Ri=!1;var d=e.memoizedState;o.state=d,Bu(e,i,o,r),l=e.memoizedState,a!==i||d!==l||Mt.current||Ri?(typeof u=="function"&&(jp(e,n,u,i),l=e.memoizedState),(a=Ri||Lv(e,n,a,i,d,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,WS(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:dn(e.type,a),o.props=c,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ln(l):(l=Nt(n)?Hr:wt.current,l=Ks(e,l));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&Vv(e,o,i,l),Ri=!1,d=e.memoizedState,o.state=d,Bu(e,i,o,r);var p=e.memoizedState;a!==h||d!==p||Mt.current||Ri?(typeof f=="function"&&(jp(e,n,f,i),p=e.memoizedState),(c=Ri||Lv(e,n,c,i,d,p,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),o.props=i,o.state=p,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),i=!1)}return $p(t,e,n,i,s,r)}function $p(t,e,n,i,r,s){vA(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&Pv(e,n,!1),fi(t,e,s);i=e.stateNode,cP.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=Qs(e,t.child,null,s),e.child=Qs(e,null,a,s)):xt(t,e,a,s),e.memoizedState=i.state,r&&Pv(e,n,!0),e.child}function wA(t){var e=t.stateNode;e.pendingContext?Rv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Rv(t,e.context,!1),Vm(t,e.containerInfo)}function Kv(t,e,n,i,r){return Gs(),Pm(r),e.flags|=256,xt(t,e,n,i),e.child}var Wp={dehydrated:null,treeContext:null,retryLane:0};function Hp(t){return{baseLanes:t,cachePool:null,transitions:null}}function EA(t,e,n){var i=e.pendingProps,r=be.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),pe(be,r&1),t===null)return Vp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Hh(o,i,0,null),t=jr(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Hp(n),e.memoizedState=Wp,t):Hm(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return uP(t,e,o,i,a,r,n);if(s){s=i.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Xi(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=Xi(a,s):(s=jr(s,o,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=t.child.memoizedState,o=o===null?Hp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Wp,i}return s=t.child,t=s.sibling,i=Xi(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Hm(t,e){return e=Hh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yc(t,e,n,i){return i!==null&&Pm(i),Qs(e,t.child,null,n),t=Hm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function uP(t,e,n,i,r,s,o){if(n)return e.flags&256?(e.flags&=-257,i=_f(Error(R(422))),yc(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Hh({mode:"visible",children:i.children},r,0,null),s=jr(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Qs(e,t.child,null,o),e.child.memoizedState=Hp(o),e.memoizedState=Wp,s);if(!(e.mode&1))return yc(t,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(R(419)),i=_f(s,i,void 0),yc(t,e,o,i)}if(a=(o&t.childLanes)!==0,Dt||a){if(i=Xe,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,di(t,r),_n(i,t,r,-1))}return Xm(),i=_f(Error(R(421))),yc(t,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=AP.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,$t=Ki(r.nextSibling),qt=e,Te=!0,pn=null,t!==null&&(tn[nn++]=ei,tn[nn++]=ti,tn[nn++]=qr,ei=t.id,ti=t.overflow,qr=e),e=Hm(e,i.children),e.flags|=4096,e)}function Gv(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Fp(t.return,e,n)}function vf(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function SA(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(xt(t,e,i.children,n),i=be.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Gv(t,n,e);else if(t.tag===19)Gv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(pe(be,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Uu(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),vf(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Uu(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}vf(e,!0,n,null,s);break;case"together":vf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function tu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function fi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Gr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(R(153));if(e.child!==null){for(t=e.child,n=Xi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Xi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function hP(t,e,n){switch(e.tag){case 3:wA(e),Gs();break;case 5:QS(e);break;case 1:Nt(e.type)&&Nu(e);break;case 4:Vm(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;pe(Fu,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(pe(be,be.current&1),e.flags|=128,null):n&e.child.childLanes?EA(t,e,n):(pe(be,be.current&1),t=fi(t,e,n),t!==null?t.sibling:null);pe(be,be.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return SA(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),pe(be,be.current),i)break;return null;case 22:case 23:return e.lanes=0,_A(t,e,n)}return fi(t,e,n)}var AA,qp,xA,TA;AA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};qp=function(){};xA=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,Or(Ln.current);var s=null;switch(n){case"input":r=pp(t,r),i=pp(t,i),s=[];break;case"select":r=ke({},r,{value:void 0}),i=ke({},i,{value:void 0}),s=[];break;case"textarea":r=yp(t,r),i=yp(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Du)}vp(n,i);var o;n=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ca.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ca.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&_e("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};TA=function(t,e,n,i){n!==i&&(e.flags|=4)};function Mo(t,e){if(!Te)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function ht(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function dP(t,e,n){var i=e.pendingProps;switch(Rm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(e),null;case 1:return Nt(e.type)&&Mu(),ht(e),null;case 3:return i=e.stateNode,Ys(),Se(Mt),Se(wt),jm(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(gc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,pn!==null&&(eg(pn),pn=null))),qp(t,e),ht(e),null;case 5:Fm(e);var r=Or(Ba.current);if(n=e.type,t!==null&&e.stateNode!=null)xA(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(R(166));return ht(e),null}if(t=Or(Ln.current),gc(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[Rn]=e,i[Fa]=s,t=(e.mode&1)!==0,n){case"dialog":_e("cancel",i),_e("close",i);break;case"iframe":case"object":case"embed":_e("load",i);break;case"video":case"audio":for(r=0;r<Go.length;r++)_e(Go[r],i);break;case"source":_e("error",i);break;case"img":case"image":case"link":_e("error",i),_e("load",i);break;case"details":_e("toggle",i);break;case"input":iv(i,s),_e("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},_e("invalid",i);break;case"textarea":sv(i,s),_e("invalid",i)}vp(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&pc(i.textContent,a,t),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&pc(i.textContent,a,t),r=["children",""+a]):Ca.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&_e("scroll",i)}switch(n){case"input":oc(i),rv(i,s,!0);break;case"textarea":oc(i),ov(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Du)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=J1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[Rn]=e,t[Fa]=i,AA(t,e,!1,!1),e.stateNode=t;e:{switch(o=wp(n,i),n){case"dialog":_e("cancel",t),_e("close",t),r=i;break;case"iframe":case"object":case"embed":_e("load",t),r=i;break;case"video":case"audio":for(r=0;r<Go.length;r++)_e(Go[r],t);r=i;break;case"source":_e("error",t),r=i;break;case"img":case"image":case"link":_e("error",t),_e("load",t),r=i;break;case"details":_e("toggle",t),r=i;break;case"input":iv(t,i),r=pp(t,i),_e("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=ke({},i,{value:void 0}),_e("invalid",t);break;case"textarea":sv(t,i),r=yp(t,i),_e("invalid",t);break;default:r=i}vp(n,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?tS(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Z1(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ka(t,l):typeof l=="number"&&ka(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ca.hasOwnProperty(s)?l!=null&&s==="onScroll"&&_e("scroll",t):l!=null&&gm(t,s,l,o))}switch(n){case"input":oc(t),rv(t,i,!1);break;case"textarea":oc(t),ov(t);break;case"option":i.value!=null&&t.setAttribute("value",""+rr(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?Ms(t,!!i.multiple,s,!1):i.defaultValue!=null&&Ms(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Du)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ht(e),null;case 6:if(t&&e.stateNode!=null)TA(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(R(166));if(n=Or(Ba.current),Or(Ln.current),gc(e)){if(i=e.stateNode,n=e.memoizedProps,i[Rn]=e,(s=i.nodeValue!==n)&&(t=qt,t!==null))switch(t.tag){case 3:pc(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&pc(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Rn]=e,e.stateNode=i}return ht(e),null;case 13:if(Se(be),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Te&&$t!==null&&e.mode&1&&!(e.flags&128))zS(),Gs(),e.flags|=98560,s=!1;else if(s=gc(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(R(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(R(317));s[Rn]=e}else Gs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ht(e),s=!1}else pn!==null&&(eg(pn),pn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||be.current&1?$e===0&&($e=3):Xm())),e.updateQueue!==null&&(e.flags|=4),ht(e),null);case 4:return Ys(),qp(t,e),t===null&&La(e.stateNode.containerInfo),ht(e),null;case 10:return Mm(e.type._context),ht(e),null;case 17:return Nt(e.type)&&Mu(),ht(e),null;case 19:if(Se(be),s=e.memoizedState,s===null)return ht(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)Mo(s,!1);else{if($e!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Uu(t),o!==null){for(e.flags|=128,Mo(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return pe(be,be.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ne()>Js&&(e.flags|=128,i=!0,Mo(s,!1),e.lanes=4194304)}else{if(!i)if(t=Uu(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Mo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Te)return ht(e),null}else 2*Ne()-s.renderingStartTime>Js&&n!==1073741824&&(e.flags|=128,i=!0,Mo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ne(),e.sibling=null,n=be.current,pe(be,i?n&1|2:n&1),e):(ht(e),null);case 22:case 23:return Ym(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Ut&1073741824&&(ht(e),e.subtreeFlags&6&&(e.flags|=8192)):ht(e),null;case 24:return null;case 25:return null}throw Error(R(156,e.tag))}function fP(t,e){switch(Rm(e),e.tag){case 1:return Nt(e.type)&&Mu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ys(),Se(Mt),Se(wt),jm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Fm(e),null;case 13:if(Se(be),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(R(340));Gs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Se(be),null;case 4:return Ys(),null;case 10:return Mm(e.type._context),null;case 22:case 23:return Ym(),null;case 24:return null;default:return null}}var _c=!1,gt=!1,pP=typeof WeakSet=="function"?WeakSet:Set,L=null;function Ps(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Pe(t,e,i)}else n.current=null}function Kp(t,e,n){try{n()}catch(i){Pe(t,e,i)}}var Qv=!1;function gP(t,e){if(Rp=Ru,t=kS(),Cm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,d=null;t:for(;;){for(var f;h!==n||r!==0&&h.nodeType!==3||(a=o+r),h!==s||i!==0&&h.nodeType!==3||(l=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===n&&++c===r&&(a=o),d===s&&++u===i&&(l=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Pp={focusedElem:t,selectionRange:n},Ru=!1,L=e;L!==null;)if(e=L,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,L=t;else for(;L!==null;){e=L;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,_=p.memoizedState,m=e.stateNode,y=m.getSnapshotBeforeUpdate(e.elementType===e.type?g:dn(e.type,g),_);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(E){Pe(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,L=t;break}L=e.return}return p=Qv,Qv=!1,p}function pa(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&Kp(e,n,s)}r=r.next}while(r!==i)}}function $h(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Gp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function IA(t){var e=t.alternate;e!==null&&(t.alternate=null,IA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Rn],delete e[Fa],delete e[Mp],delete e[XR],delete e[JR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function bA(t){return t.tag===5||t.tag===3||t.tag===4}function Yv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||bA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qp(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Du));else if(i!==4&&(t=t.child,t!==null))for(Qp(t,e,n),t=t.sibling;t!==null;)Qp(t,e,n),t=t.sibling}function Yp(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Yp(t,e,n),t=t.sibling;t!==null;)Yp(t,e,n),t=t.sibling}var tt=null,fn=!1;function Ti(t,e,n){for(n=n.child;n!==null;)CA(t,e,n),n=n.sibling}function CA(t,e,n){if(Nn&&typeof Nn.onCommitFiberUnmount=="function")try{Nn.onCommitFiberUnmount(Nh,n)}catch{}switch(n.tag){case 5:gt||Ps(n,e);case 6:var i=tt,r=fn;tt=null,Ti(t,e,n),tt=i,fn=r,tt!==null&&(fn?(t=tt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):tt.removeChild(n.stateNode));break;case 18:tt!==null&&(fn?(t=tt,n=n.stateNode,t.nodeType===8?df(t.parentNode,n):t.nodeType===1&&df(t,n),Da(t)):df(tt,n.stateNode));break;case 4:i=tt,r=fn,tt=n.stateNode.containerInfo,fn=!0,Ti(t,e,n),tt=i,fn=r;break;case 0:case 11:case 14:case 15:if(!gt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Kp(n,e,o),r=r.next}while(r!==i)}Ti(t,e,n);break;case 1:if(!gt&&(Ps(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Pe(n,e,a)}Ti(t,e,n);break;case 21:Ti(t,e,n);break;case 22:n.mode&1?(gt=(i=gt)||n.memoizedState!==null,Ti(t,e,n),gt=i):Ti(t,e,n);break;default:Ti(t,e,n)}}function Xv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new pP),e.forEach(function(i){var r=xP.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function hn(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:tt=a.stateNode,fn=!1;break e;case 3:tt=a.stateNode.containerInfo,fn=!0;break e;case 4:tt=a.stateNode.containerInfo,fn=!0;break e}a=a.return}if(tt===null)throw Error(R(160));CA(s,o,r),tt=null,fn=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){Pe(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)kA(e,t),e=e.sibling}function kA(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(hn(e,t),In(t),i&4){try{pa(3,t,t.return),$h(3,t)}catch(g){Pe(t,t.return,g)}try{pa(5,t,t.return)}catch(g){Pe(t,t.return,g)}}break;case 1:hn(e,t),In(t),i&512&&n!==null&&Ps(n,n.return);break;case 5:if(hn(e,t),In(t),i&512&&n!==null&&Ps(n,n.return),t.flags&32){var r=t.stateNode;try{ka(r,"")}catch(g){Pe(t,t.return,g)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Y1(r,s),wp(a,o);var c=wp(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?tS(r,h):u==="dangerouslySetInnerHTML"?Z1(r,h):u==="children"?ka(r,h):gm(r,u,h,c)}switch(a){case"input":gp(r,s);break;case"textarea":X1(r,s);break;case"select":var d=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Ms(r,!!s.multiple,f,!1):d!==!!s.multiple&&(s.defaultValue!=null?Ms(r,!!s.multiple,s.defaultValue,!0):Ms(r,!!s.multiple,s.multiple?[]:"",!1))}r[Fa]=s}catch(g){Pe(t,t.return,g)}}break;case 6:if(hn(e,t),In(t),i&4){if(t.stateNode===null)throw Error(R(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(g){Pe(t,t.return,g)}}break;case 3:if(hn(e,t),In(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Da(e.containerInfo)}catch(g){Pe(t,t.return,g)}break;case 4:hn(e,t),In(t);break;case 13:hn(e,t),In(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(Gm=Ne())),i&4&&Xv(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(gt=(c=gt)||u,hn(e,t),gt=c):hn(e,t),In(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(L=t,u=t.child;u!==null;){for(h=L=u;L!==null;){switch(d=L,f=d.child,d.tag){case 0:case 11:case 14:case 15:pa(4,d,d.return);break;case 1:Ps(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){i=d,n=d.return;try{e=i,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(g){Pe(i,n,g)}}break;case 5:Ps(d,d.return);break;case 22:if(d.memoizedState!==null){Zv(h);continue}}f!==null?(f.return=d,L=f):Zv(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{r=h.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=eS("display",o))}catch(g){Pe(t,t.return,g)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){Pe(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:hn(e,t),In(t),i&4&&Xv(t);break;case 21:break;default:hn(e,t),In(t)}}function In(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(bA(n)){var i=n;break e}n=n.return}throw Error(R(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(ka(r,""),i.flags&=-33);var s=Yv(t);Yp(t,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=Yv(t);Qp(t,a,o);break;default:throw Error(R(161))}}catch(l){Pe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function mP(t,e,n){L=t,RA(t)}function RA(t,e,n){for(var i=(t.mode&1)!==0;L!==null;){var r=L,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||_c;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||gt;a=_c;var c=gt;if(_c=o,(gt=l)&&!c)for(L=r;L!==null;)o=L,l=o.child,o.tag===22&&o.memoizedState!==null?e0(r):l!==null?(l.return=o,L=l):e0(r);for(;s!==null;)L=s,RA(s),s=s.sibling;L=r,_c=a,gt=c}Jv(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,L=s):Jv(t)}}function Jv(t){for(;L!==null;){var e=L;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:gt||$h(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!gt)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:dn(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Nv(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Nv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Da(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}gt||e.flags&512&&Gp(e)}catch(d){Pe(e,e.return,d)}}if(e===t){L=null;break}if(n=e.sibling,n!==null){n.return=e.return,L=n;break}L=e.return}}function Zv(t){for(;L!==null;){var e=L;if(e===t){L=null;break}var n=e.sibling;if(n!==null){n.return=e.return,L=n;break}L=e.return}}function e0(t){for(;L!==null;){var e=L;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{$h(4,e)}catch(l){Pe(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Pe(e,r,l)}}var s=e.return;try{Gp(e)}catch(l){Pe(e,s,l)}break;case 5:var o=e.return;try{Gp(e)}catch(l){Pe(e,o,l)}}}catch(l){Pe(e,e.return,l)}if(e===t){L=null;break}var a=e.sibling;if(a!==null){a.return=e.return,L=a;break}L=e.return}}var yP=Math.ceil,Wu=vi.ReactCurrentDispatcher,qm=vi.ReactCurrentOwner,on=vi.ReactCurrentBatchConfig,re=0,Xe=null,je=null,st=0,Ut=0,Os=pr(0),$e=0,Wa=null,Gr=0,Wh=0,Km=0,ga=null,Rt=null,Gm=0,Js=1/0,Qn=null,Hu=!1,Xp=null,Qi=null,vc=!1,Vi=null,qu=0,ma=0,Jp=null,nu=-1,iu=0;function It(){return re&6?Ne():nu!==-1?nu:nu=Ne()}function Yi(t){return t.mode&1?re&2&&st!==0?st&-st:eP.transition!==null?(iu===0&&(iu=fS()),iu):(t=ce,t!==0||(t=window.event,t=t===void 0?16:wS(t.type)),t):1}function _n(t,e,n,i){if(50<ma)throw ma=0,Jp=null,Error(R(185));xl(t,n,i),(!(re&2)||t!==Xe)&&(t===Xe&&(!(re&2)&&(Wh|=n),$e===4&&Oi(t,st)),Lt(t,i),n===1&&re===0&&!(e.mode&1)&&(Js=Ne()+500,Bh&&gr()))}function Lt(t,e){var n=t.callbackNode;eR(t,e);var i=ku(t,t===Xe?st:0);if(i===0)n!==null&&cv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&cv(n),e===1)t.tag===0?ZR(t0.bind(null,t)):jS(t0.bind(null,t)),QR(function(){!(re&6)&&gr()}),n=null;else{switch(pS(i)){case 1:n=wm;break;case 4:n=hS;break;case 16:n=Cu;break;case 536870912:n=dS;break;default:n=Cu}n=FA(n,PA.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function PA(t,e){if(nu=-1,iu=0,re&6)throw Error(R(327));var n=t.callbackNode;if(js()&&t.callbackNode!==n)return null;var i=ku(t,t===Xe?st:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=Ku(t,i);else{e=i;var r=re;re|=2;var s=DA();(Xe!==t||st!==e)&&(Qn=null,Js=Ne()+500,Fr(t,e));do try{wP();break}catch(a){OA(t,a)}while(1);Dm(),Wu.current=s,re=r,je!==null?e=0:(Xe=null,st=0,e=$e)}if(e!==0){if(e===2&&(r=Tp(t),r!==0&&(i=r,e=Zp(t,r))),e===1)throw n=Wa,Fr(t,0),Oi(t,i),Lt(t,Ne()),n;if(e===6)Oi(t,i);else{if(r=t.current.alternate,!(i&30)&&!_P(r)&&(e=Ku(t,i),e===2&&(s=Tp(t),s!==0&&(i=s,e=Zp(t,s))),e===1))throw n=Wa,Fr(t,0),Oi(t,i),Lt(t,Ne()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(R(345));case 2:Tr(t,Rt,Qn);break;case 3:if(Oi(t,i),(i&130023424)===i&&(e=Gm+500-Ne(),10<e)){if(ku(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){It(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Dp(Tr.bind(null,t,Rt,Qn),e);break}Tr(t,Rt,Qn);break;case 4:if(Oi(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var o=31-yn(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=Ne()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*yP(i/1960))-i,10<i){t.timeoutHandle=Dp(Tr.bind(null,t,Rt,Qn),i);break}Tr(t,Rt,Qn);break;case 5:Tr(t,Rt,Qn);break;default:throw Error(R(329))}}}return Lt(t,Ne()),t.callbackNode===n?PA.bind(null,t):null}function Zp(t,e){var n=ga;return t.current.memoizedState.isDehydrated&&(Fr(t,e).flags|=256),t=Ku(t,e),t!==2&&(e=Rt,Rt=n,e!==null&&eg(e)),t}function eg(t){Rt===null?Rt=t:Rt.push.apply(Rt,t)}function _P(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!En(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Oi(t,e){for(e&=~Km,e&=~Wh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-yn(e),i=1<<n;t[n]=-1,e&=~i}}function t0(t){if(re&6)throw Error(R(327));js();var e=ku(t,0);if(!(e&1))return Lt(t,Ne()),null;var n=Ku(t,e);if(t.tag!==0&&n===2){var i=Tp(t);i!==0&&(e=i,n=Zp(t,i))}if(n===1)throw n=Wa,Fr(t,0),Oi(t,e),Lt(t,Ne()),n;if(n===6)throw Error(R(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Tr(t,Rt,Qn),Lt(t,Ne()),null}function Qm(t,e){var n=re;re|=1;try{return t(e)}finally{re=n,re===0&&(Js=Ne()+500,Bh&&gr())}}function Qr(t){Vi!==null&&Vi.tag===0&&!(re&6)&&js();var e=re;re|=1;var n=on.transition,i=ce;try{if(on.transition=null,ce=1,t)return t()}finally{ce=i,on.transition=n,re=e,!(re&6)&&gr()}}function Ym(){Ut=Os.current,Se(Os)}function Fr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,GR(n)),je!==null)for(n=je.return;n!==null;){var i=n;switch(Rm(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Mu();break;case 3:Ys(),Se(Mt),Se(wt),jm();break;case 5:Fm(i);break;case 4:Ys();break;case 13:Se(be);break;case 19:Se(be);break;case 10:Mm(i.type._context);break;case 22:case 23:Ym()}n=n.return}if(Xe=t,je=t=Xi(t.current,null),st=Ut=e,$e=0,Wa=null,Km=Wh=Gr=0,Rt=ga=null,Pr!==null){for(e=0;e<Pr.length;e++)if(n=Pr[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}Pr=null}return t}function OA(t,e){do{var n=je;try{if(Dm(),Zc.current=$u,zu){for(var i=Ce.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}zu=!1}if(Kr=0,Qe=ze=Ce=null,fa=!1,Ua=0,qm.current=null,n===null||n.return===null){$e=1,Wa=e,je=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=st,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=zv(o);if(f!==null){f.flags&=-257,$v(f,o,a,s,e),f.mode&1&&Uv(s,c,e),e=f,l=c;var p=e.updateQueue;if(p===null){var g=new Set;g.add(l),e.updateQueue=g}else p.add(l);break e}else{if(!(e&1)){Uv(s,c,e),Xm();break e}l=Error(R(426))}}else if(Te&&a.mode&1){var _=zv(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),$v(_,o,a,s,e),Pm(Xs(l,a));break e}}s=l=Xs(l,a),$e!==4&&($e=2),ga===null?ga=[s]:ga.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=gA(s,l,e);Mv(s,m);break e;case 1:a=l;var y=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Qi===null||!Qi.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=mA(s,a,e);Mv(s,E);break e}}s=s.return}while(s!==null)}NA(n)}catch(S){e=S,je===n&&n!==null&&(je=n=n.return);continue}break}while(1)}function DA(){var t=Wu.current;return Wu.current=$u,t===null?$u:t}function Xm(){($e===0||$e===3||$e===2)&&($e=4),Xe===null||!(Gr&268435455)&&!(Wh&268435455)||Oi(Xe,st)}function Ku(t,e){var n=re;re|=2;var i=DA();(Xe!==t||st!==e)&&(Qn=null,Fr(t,e));do try{vP();break}catch(r){OA(t,r)}while(1);if(Dm(),re=n,Wu.current=i,je!==null)throw Error(R(261));return Xe=null,st=0,$e}function vP(){for(;je!==null;)MA(je)}function wP(){for(;je!==null&&!Hk();)MA(je)}function MA(t){var e=VA(t.alternate,t,Ut);t.memoizedProps=t.pendingProps,e===null?NA(t):je=e,qm.current=null}function NA(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=fP(n,e),n!==null){n.flags&=32767,je=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{$e=6,je=null;return}}else if(n=dP(n,e,Ut),n!==null){je=n;return}if(e=e.sibling,e!==null){je=e;return}je=e=t}while(e!==null);$e===0&&($e=5)}function Tr(t,e,n){var i=ce,r=on.transition;try{on.transition=null,ce=1,EP(t,e,n,i)}finally{on.transition=r,ce=i}return null}function EP(t,e,n,i){do js();while(Vi!==null);if(re&6)throw Error(R(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(R(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(tR(t,s),t===Xe&&(je=Xe=null,st=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||vc||(vc=!0,FA(Cu,function(){return js(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=on.transition,on.transition=null;var o=ce;ce=1;var a=re;re|=4,qm.current=null,gP(t,n),kA(n,t),UR(Pp),Ru=!!Rp,Pp=Rp=null,t.current=n,mP(n),qk(),re=a,ce=o,on.transition=s}else t.current=n;if(vc&&(vc=!1,Vi=t,qu=r),s=t.pendingLanes,s===0&&(Qi=null),Qk(n.stateNode),Lt(t,Ne()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Hu)throw Hu=!1,t=Xp,Xp=null,t;return qu&1&&t.tag!==0&&js(),s=t.pendingLanes,s&1?t===Jp?ma++:(ma=0,Jp=t):ma=0,gr(),null}function js(){if(Vi!==null){var t=pS(qu),e=on.transition,n=ce;try{if(on.transition=null,ce=16>t?16:t,Vi===null)var i=!1;else{if(t=Vi,Vi=null,qu=0,re&6)throw Error(R(331));var r=re;for(re|=4,L=t.current;L!==null;){var s=L,o=s.child;if(L.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(L=c;L!==null;){var u=L;switch(u.tag){case 0:case 11:case 15:pa(8,u,s)}var h=u.child;if(h!==null)h.return=u,L=h;else for(;L!==null;){u=L;var d=u.sibling,f=u.return;if(IA(u),u===c){L=null;break}if(d!==null){d.return=f,L=d;break}L=f}}}var p=s.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var _=g.sibling;g.sibling=null,g=_}while(g!==null)}}L=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,L=o;else e:for(;L!==null;){if(s=L,s.flags&2048)switch(s.tag){case 0:case 11:case 15:pa(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,L=m;break e}L=s.return}}var y=t.current;for(L=y;L!==null;){o=L;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,L=v;else e:for(o=y;L!==null;){if(a=L,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:$h(9,a)}}catch(S){Pe(a,a.return,S)}if(a===o){L=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,L=E;break e}L=a.return}}if(re=r,gr(),Nn&&typeof Nn.onPostCommitFiberRoot=="function")try{Nn.onPostCommitFiberRoot(Nh,t)}catch{}i=!0}return i}finally{ce=n,on.transition=e}}return!1}function n0(t,e,n){e=Xs(n,e),e=gA(t,e,1),t=Gi(t,e,1),e=It(),t!==null&&(xl(t,1,e),Lt(t,e))}function Pe(t,e,n){if(t.tag===3)n0(t,t,n);else for(;e!==null;){if(e.tag===3){n0(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Qi===null||!Qi.has(i))){t=Xs(n,t),t=mA(e,t,1),e=Gi(e,t,1),t=It(),e!==null&&(xl(e,1,t),Lt(e,t));break}}e=e.return}}function SP(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=It(),t.pingedLanes|=t.suspendedLanes&n,Xe===t&&(st&n)===n&&($e===4||$e===3&&(st&130023424)===st&&500>Ne()-Gm?Fr(t,0):Km|=n),Lt(t,e)}function LA(t,e){e===0&&(t.mode&1?(e=cc,cc<<=1,!(cc&130023424)&&(cc=4194304)):e=1);var n=It();t=di(t,e),t!==null&&(xl(t,e,n),Lt(t,n))}function AP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),LA(t,n)}function xP(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(R(314))}i!==null&&i.delete(e),LA(t,n)}var VA;VA=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Mt.current)Dt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Dt=!1,hP(t,e,n);Dt=!!(t.flags&131072)}else Dt=!1,Te&&e.flags&1048576&&BS(e,Vu,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;tu(t,e),t=e.pendingProps;var r=Ks(e,wt.current);Fs(e,n),r=Um(null,e,i,t,r,n);var s=zm();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Nt(i)?(s=!0,Nu(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Lm(e),r.updater=Uh,e.stateNode=r,r._reactInternals=e,Bp(e,i,t,n),e=$p(null,e,i,!0,s,n)):(e.tag=0,Te&&s&&km(e),xt(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(tu(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=IP(i),t=dn(i,t),r){case 0:e=zp(null,e,i,t,n);break e;case 1:e=qv(null,e,i,t,n);break e;case 11:e=Wv(null,e,i,t,n);break e;case 14:e=Hv(null,e,i,dn(i.type,t),n);break e}throw Error(R(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:dn(i,r),zp(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:dn(i,r),qv(t,e,i,r,n);case 3:e:{if(wA(e),t===null)throw Error(R(387));i=e.pendingProps,s=e.memoizedState,r=s.element,WS(t,e),Bu(e,i,null,n);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Xs(Error(R(423)),e),e=Kv(t,e,i,n,r);break e}else if(i!==r){r=Xs(Error(R(424)),e),e=Kv(t,e,i,n,r);break e}else for($t=Ki(e.stateNode.containerInfo.firstChild),qt=e,Te=!0,pn=null,n=GS(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Gs(),i===r){e=fi(t,e,n);break e}xt(t,e,i,n)}e=e.child}return e;case 5:return QS(e),t===null&&Vp(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,o=r.children,Op(i,r)?o=null:s!==null&&Op(i,s)&&(e.flags|=32),vA(t,e),xt(t,e,o,n),e.child;case 6:return t===null&&Vp(e),null;case 13:return EA(t,e,n);case 4:return Vm(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Qs(e,null,i,n):xt(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:dn(i,r),Wv(t,e,i,r,n);case 7:return xt(t,e,e.pendingProps,n),e.child;case 8:return xt(t,e,e.pendingProps.children,n),e.child;case 12:return xt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,pe(Fu,i._currentValue),i._currentValue=o,s!==null)if(En(s.value,o)){if(s.children===r.children&&!Mt.current){e=fi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=li(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Fp(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(R(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Fp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}xt(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Fs(e,n),r=ln(r),i=i(r),e.flags|=1,xt(t,e,i,n),e.child;case 14:return i=e.type,r=dn(i,e.pendingProps),r=dn(i.type,r),Hv(t,e,i,r,n);case 15:return yA(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:dn(i,r),tu(t,e),e.tag=1,Nt(i)?(t=!0,Nu(e)):t=!1,Fs(e,n),qS(e,i,r),Bp(e,i,r,n),$p(null,e,i,!0,t,n);case 19:return SA(t,e,n);case 22:return _A(t,e,n)}throw Error(R(156,e.tag))};function FA(t,e){return uS(t,e)}function TP(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(t,e,n,i){return new TP(t,e,n,i)}function Jm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function IP(t){if(typeof t=="function")return Jm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ym)return 11;if(t===_m)return 14}return 2}function Xi(t,e){var n=t.alternate;return n===null?(n=sn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ru(t,e,n,i,r,s){var o=2;if(i=t,typeof t=="function")Jm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ss:return jr(n.children,r,s,e);case mm:o=8,r|=8;break;case up:return t=sn(12,n,e,r|2),t.elementType=up,t.lanes=s,t;case hp:return t=sn(13,n,e,r),t.elementType=hp,t.lanes=s,t;case dp:return t=sn(19,n,e,r),t.elementType=dp,t.lanes=s,t;case K1:return Hh(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case H1:o=10;break e;case q1:o=9;break e;case ym:o=11;break e;case _m:o=14;break e;case ki:o=16,i=null;break e}throw Error(R(130,t==null?t:typeof t,""))}return e=sn(o,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function jr(t,e,n,i){return t=sn(7,t,i,e),t.lanes=n,t}function Hh(t,e,n,i){return t=sn(22,t,i,e),t.elementType=K1,t.lanes=n,t.stateNode={isHidden:!1},t}function wf(t,e,n){return t=sn(6,t,null,e),t.lanes=n,t}function Ef(t,e,n){return e=sn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function bP(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ef(0),this.expirationTimes=ef(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ef(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Zm(t,e,n,i,r,s,o,a,l){return t=new bP(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=sn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lm(s),t}function CP(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Es,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function jA(t){if(!t)return sr;t=t._reactInternals;e:{if(as(t)!==t||t.tag!==1)throw Error(R(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Nt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(R(171))}if(t.tag===1){var n=t.type;if(Nt(n))return FS(t,n,e)}return e}function BA(t,e,n,i,r,s,o,a,l){return t=Zm(n,i,!0,t,r,s,o,a,l),t.context=jA(null),n=t.current,i=It(),r=Yi(n),s=li(i,r),s.callback=e??null,Gi(n,s,r),t.current.lanes=r,xl(t,r,i),Lt(t,i),t}function qh(t,e,n,i){var r=e.current,s=It(),o=Yi(r);return n=jA(n),e.context===null?e.context=n:e.pendingContext=n,e=li(s,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=Gi(r,e,o),t!==null&&(_n(t,r,o,s),Jc(t,r,o)),o}function Gu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function i0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ey(t,e){i0(t,e),(t=t.alternate)&&i0(t,e)}function kP(){return null}var UA=typeof reportError=="function"?reportError:function(t){console.error(t)};function ty(t){this._internalRoot=t}Kh.prototype.render=ty.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(R(409));qh(t,e,null,null)};Kh.prototype.unmount=ty.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Qr(function(){qh(null,t,null,null)}),e[hi]=null}};function Kh(t){this._internalRoot=t}Kh.prototype.unstable_scheduleHydration=function(t){if(t){var e=yS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Pi.length&&e!==0&&e<Pi[n].priority;n++);Pi.splice(n,0,t),n===0&&vS(t)}};function ny(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Gh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function r0(){}function RP(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=Gu(o);s.call(c)}}var o=BA(e,i,t,0,null,!1,!1,"",r0);return t._reactRootContainer=o,t[hi]=o.current,La(t.nodeType===8?t.parentNode:t),Qr(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=Gu(l);a.call(c)}}var l=Zm(t,0,!1,null,null,!1,!1,"",r0);return t._reactRootContainer=l,t[hi]=l.current,La(t.nodeType===8?t.parentNode:t),Qr(function(){qh(e,l,n,i)}),l}function Qh(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=Gu(o);a.call(l)}}qh(e,o,t,r)}else o=RP(n,e,t,r,i);return Gu(o)}gS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ko(e.pendingLanes);n!==0&&(Em(e,n|1),Lt(e,Ne()),!(re&6)&&(Js=Ne()+500,gr()))}break;case 13:Qr(function(){var i=di(t,1);if(i!==null){var r=It();_n(i,t,1,r)}}),ey(t,1)}};Sm=function(t){if(t.tag===13){var e=di(t,134217728);if(e!==null){var n=It();_n(e,t,134217728,n)}ey(t,134217728)}};mS=function(t){if(t.tag===13){var e=Yi(t),n=di(t,e);if(n!==null){var i=It();_n(n,t,e,i)}ey(t,e)}};yS=function(){return ce};_S=function(t,e){var n=ce;try{return ce=t,e()}finally{ce=n}};Sp=function(t,e,n){switch(e){case"input":if(gp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=jh(i);if(!r)throw Error(R(90));Q1(i),gp(i,r)}}}break;case"textarea":X1(t,n);break;case"select":e=n.value,e!=null&&Ms(t,!!n.multiple,e,!1)}};rS=Qm;sS=Qr;var PP={usingClientEntryPoint:!1,Events:[Il,Is,jh,nS,iS,Qm]},No={findFiberByHostInstance:Rr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},OP={bundleType:No.bundleType,version:No.version,rendererPackageName:No.rendererPackageName,rendererConfig:No.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=lS(t),t===null?null:t.stateNode},findFiberByHostInstance:No.findFiberByHostInstance||kP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wc.isDisabled&&wc.supportsFiber)try{Nh=wc.inject(OP),Nn=wc}catch{}}Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PP;Jt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ny(e))throw Error(R(200));return CP(t,e,null,n)};Jt.createRoot=function(t,e){if(!ny(t))throw Error(R(299));var n=!1,i="",r=UA;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Zm(t,1,!1,null,null,n,!1,i,r),t[hi]=e.current,La(t.nodeType===8?t.parentNode:t),new ty(e)};Jt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(R(188)):(t=Object.keys(t).join(","),Error(R(268,t)));return t=lS(e),t=t===null?null:t.stateNode,t};Jt.flushSync=function(t){return Qr(t)};Jt.hydrate=function(t,e,n){if(!Gh(e))throw Error(R(200));return Qh(null,t,e,!0,n)};Jt.hydrateRoot=function(t,e,n){if(!ny(t))throw Error(R(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=UA;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=BA(e,null,t,1,n??null,r,!1,s,o),t[hi]=e.current,La(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Kh(e)};Jt.render=function(t,e,n){if(!Gh(e))throw Error(R(200));return Qh(null,t,e,!1,n)};Jt.unmountComponentAtNode=function(t){if(!Gh(t))throw Error(R(40));return t._reactRootContainer?(Qr(function(){Qh(null,null,t,!1,function(){t._reactRootContainer=null,t[hi]=null})}),!0):!1};Jt.unstable_batchedUpdates=Qm;Jt.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Gh(n))throw Error(R(200));if(t==null||t._reactInternals===void 0)throw Error(R(38));return Qh(t,e,n,!1,i)};Jt.version="18.2.0-next-9e3b772b8-20220608";function zA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zA)}catch(t){console.error(t)}}zA(),B1.exports=Jt;var $A=B1.exports,s0=$A;lp.createRoot=s0.createRoot,lp.hydrateRoot=s0.hydrateRoot;function WA(t,e){return function(){return t.apply(e,arguments)}}const{toString:DP}=Object.prototype,{getPrototypeOf:iy}=Object,Yh=(t=>e=>{const n=DP.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Wn=t=>(t=t.toLowerCase(),e=>Yh(e)===t),Xh=t=>e=>typeof e===t,{isArray:vo}=Array,Ha=Xh("undefined");function MP(t){return t!==null&&!Ha(t)&&t.constructor!==null&&!Ha(t.constructor)&&an(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const HA=Wn("ArrayBuffer");function NP(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&HA(t.buffer),e}const LP=Xh("string"),an=Xh("function"),qA=Xh("number"),Jh=t=>t!==null&&typeof t=="object",VP=t=>t===!0||t===!1,su=t=>{if(Yh(t)!=="object")return!1;const e=iy(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},FP=Wn("Date"),jP=Wn("File"),BP=Wn("Blob"),UP=Wn("FileList"),zP=t=>Jh(t)&&an(t.pipe),$P=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||an(t.append)&&((e=Yh(t))==="formdata"||e==="object"&&an(t.toString)&&t.toString()==="[object FormData]"))},WP=Wn("URLSearchParams"),HP=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Cl(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,r;if(typeof t!="object"&&(t=[t]),vo(t))for(i=0,r=t.length;i<r;i++)e.call(null,t[i],i,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(i=0;i<o;i++)a=s[i],e.call(null,t[a],a,t)}}function KA(t,e){e=e.toLowerCase();const n=Object.keys(t);let i=n.length,r;for(;i-- >0;)if(r=n[i],e===r.toLowerCase())return r;return null}const GA=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),QA=t=>!Ha(t)&&t!==GA;function tg(){const{caseless:t}=QA(this)&&this||{},e={},n=(i,r)=>{const s=t&&KA(e,r)||r;su(e[s])&&su(i)?e[s]=tg(e[s],i):su(i)?e[s]=tg({},i):vo(i)?e[s]=i.slice():e[s]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&Cl(arguments[i],n);return e}const qP=(t,e,n,{allOwnKeys:i}={})=>(Cl(e,(r,s)=>{n&&an(r)?t[s]=WA(r,n):t[s]=r},{allOwnKeys:i}),t),KP=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),GP=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},QP=(t,e,n,i)=>{let r,s,o;const a={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),s=r.length;s-- >0;)o=r[s],(!i||i(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&iy(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},YP=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},XP=t=>{if(!t)return null;if(vo(t))return t;let e=t.length;if(!qA(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},JP=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&iy(Uint8Array)),ZP=(t,e)=>{const i=(t&&t[Symbol.iterator]).call(t);let r;for(;(r=i.next())&&!r.done;){const s=r.value;e.call(t,s[0],s[1])}},eO=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},tO=Wn("HTMLFormElement"),nO=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,r){return i.toUpperCase()+r}),o0=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),iO=Wn("RegExp"),YA=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};Cl(n,(r,s)=>{let o;(o=e(r,s,t))!==!1&&(i[s]=o||r)}),Object.defineProperties(t,i)},rO=t=>{YA(t,(e,n)=>{if(an(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(an(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},sO=(t,e)=>{const n={},i=r=>{r.forEach(s=>{n[s]=!0})};return vo(t)?i(t):i(String(t).split(e)),n},oO=()=>{},aO=(t,e)=>(t=+t,Number.isFinite(t)?t:e),Sf="abcdefghijklmnopqrstuvwxyz",a0="0123456789",XA={DIGIT:a0,ALPHA:Sf,ALPHA_DIGIT:Sf+Sf.toUpperCase()+a0},lO=(t=16,e=XA.ALPHA_DIGIT)=>{let n="";const{length:i}=e;for(;t--;)n+=e[Math.random()*i|0];return n};function cO(t){return!!(t&&an(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const uO=t=>{const e=new Array(10),n=(i,r)=>{if(Jh(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[r]=i;const s=vo(i)?[]:{};return Cl(i,(o,a)=>{const l=n(o,r+1);!Ha(l)&&(s[a]=l)}),e[r]=void 0,s}}return i};return n(t,0)},hO=Wn("AsyncFunction"),dO=t=>t&&(Jh(t)||an(t))&&an(t.then)&&an(t.catch),I={isArray:vo,isArrayBuffer:HA,isBuffer:MP,isFormData:$P,isArrayBufferView:NP,isString:LP,isNumber:qA,isBoolean:VP,isObject:Jh,isPlainObject:su,isUndefined:Ha,isDate:FP,isFile:jP,isBlob:BP,isRegExp:iO,isFunction:an,isStream:zP,isURLSearchParams:WP,isTypedArray:JP,isFileList:UP,forEach:Cl,merge:tg,extend:qP,trim:HP,stripBOM:KP,inherits:GP,toFlatObject:QP,kindOf:Yh,kindOfTest:Wn,endsWith:YP,toArray:XP,forEachEntry:ZP,matchAll:eO,isHTMLForm:tO,hasOwnProperty:o0,hasOwnProp:o0,reduceDescriptors:YA,freezeMethods:rO,toObjectSet:sO,toCamelCase:nO,noop:oO,toFiniteNumber:aO,findKey:KA,global:GA,isContextDefined:QA,ALPHABET:XA,generateString:lO,isSpecCompliantForm:cO,toJSONObject:uO,isAsyncFn:hO,isThenable:dO};function ne(t,e,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r)}I.inherits(ne,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:I.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const JA=ne.prototype,ZA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{ZA[t]={value:t}});Object.defineProperties(ne,ZA);Object.defineProperty(JA,"isAxiosError",{value:!0});ne.from=(t,e,n,i,r,s)=>{const o=Object.create(JA);return I.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),ne.call(o,t.message,e,n,i,r),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const fO=null;function ng(t){return I.isPlainObject(t)||I.isArray(t)}function ex(t){return I.endsWith(t,"[]")?t.slice(0,-2):t}function l0(t,e,n){return t?t.concat(e).map(function(r,s){return r=ex(r),!n&&s?"["+r+"]":r}).join(n?".":""):e}function pO(t){return I.isArray(t)&&!t.some(ng)}const gO=I.toFlatObject(I,{},null,function(e){return/^is[A-Z]/.test(e)});function Zh(t,e,n){if(!I.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=I.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,_){return!I.isUndefined(_[g])});const i=n.metaTokens,r=n.visitor||u,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&I.isSpecCompliantForm(e);if(!I.isFunction(r))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(I.isDate(p))return p.toISOString();if(!l&&I.isBlob(p))throw new ne("Blob is not supported. Use a Buffer instead.");return I.isArrayBuffer(p)||I.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,g,_){let m=p;if(p&&!_&&typeof p=="object"){if(I.endsWith(g,"{}"))g=i?g:g.slice(0,-2),p=JSON.stringify(p);else if(I.isArray(p)&&pO(p)||(I.isFileList(p)||I.endsWith(g,"[]"))&&(m=I.toArray(p)))return g=ex(g),m.forEach(function(v,E){!(I.isUndefined(v)||v===null)&&e.append(o===!0?l0([g],E,s):o===null?g:g+"[]",c(v))}),!1}return ng(p)?!0:(e.append(l0(_,g,s),c(p)),!1)}const h=[],d=Object.assign(gO,{defaultVisitor:u,convertValue:c,isVisitable:ng});function f(p,g){if(!I.isUndefined(p)){if(h.indexOf(p)!==-1)throw Error("Circular reference detected in "+g.join("."));h.push(p),I.forEach(p,function(m,y){(!(I.isUndefined(m)||m===null)&&r.call(e,m,I.isString(y)?y.trim():y,g,d))===!0&&f(m,g?g.concat(y):[y])}),h.pop()}}if(!I.isObject(t))throw new TypeError("data must be an object");return f(t),e}function c0(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function ry(t,e){this._pairs=[],t&&Zh(t,this,e)}const tx=ry.prototype;tx.append=function(e,n){this._pairs.push([e,n])};tx.toString=function(e){const n=e?function(i){return e.call(this,i,c0)}:c0;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function mO(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function nx(t,e,n){if(!e)return t;const i=n&&n.encode||mO,r=n&&n.serialize;let s;if(r?s=r(e,n):s=I.isURLSearchParams(e)?e.toString():new ry(e,n).toString(i),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class yO{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){I.forEach(this.handlers,function(i){i!==null&&e(i)})}}const u0=yO,ix={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_O=typeof URLSearchParams<"u"?URLSearchParams:ry,vO=typeof FormData<"u"?FormData:null,wO=typeof Blob<"u"?Blob:null,EO={isBrowser:!0,classes:{URLSearchParams:_O,FormData:vO,Blob:wO},protocols:["http","https","file","blob","url","data"]},rx=typeof window<"u"&&typeof document<"u",SO=(t=>rx&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),AO=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),xO=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:rx,hasStandardBrowserEnv:SO,hasStandardBrowserWebWorkerEnv:AO},Symbol.toStringTag,{value:"Module"})),On={...xO,...EO};function TO(t,e){return Zh(t,new On.classes.URLSearchParams,Object.assign({visitor:function(n,i,r,s){return On.isNode&&I.isBuffer(n)?(this.append(i,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function IO(t){return I.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function bO(t){const e={},n=Object.keys(t);let i;const r=n.length;let s;for(i=0;i<r;i++)s=n[i],e[s]=t[s];return e}function sx(t){function e(n,i,r,s){let o=n[s++];const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&I.isArray(r)?r.length:o,l?(I.hasOwnProp(r,o)?r[o]=[r[o],i]:r[o]=i,!a):((!r[o]||!I.isObject(r[o]))&&(r[o]=[]),e(n,i,r[o],s)&&I.isArray(r[o])&&(r[o]=bO(r[o])),!a)}if(I.isFormData(t)&&I.isFunction(t.entries)){const n={};return I.forEachEntry(t,(i,r)=>{e(IO(i),r,n,0)}),n}return null}function CO(t,e,n){if(I.isString(t))try{return(e||JSON.parse)(t),I.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const sy={transitional:ix,adapter:["xhr","http"],transformRequest:[function(e,n){const i=n.getContentType()||"",r=i.indexOf("application/json")>-1,s=I.isObject(e);if(s&&I.isHTMLForm(e)&&(e=new FormData(e)),I.isFormData(e))return r&&r?JSON.stringify(sx(e)):e;if(I.isArrayBuffer(e)||I.isBuffer(e)||I.isStream(e)||I.isFile(e)||I.isBlob(e))return e;if(I.isArrayBufferView(e))return e.buffer;if(I.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return TO(e,this.formSerializer).toString();if((a=I.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Zh(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||r?(n.setContentType("application/json",!1),CO(e)):e}],transformResponse:[function(e){const n=this.transitional||sy.transitional,i=n&&n.forcedJSONParsing,r=this.responseType==="json";if(e&&I.isString(e)&&(i&&!this.responseType||r)){const o=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?ne.from(a,ne.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:On.classes.FormData,Blob:On.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};I.forEach(["delete","get","head","post","put","patch"],t=>{sy.headers[t]={}});const oy=sy,kO=I.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),RO=t=>{const e={};let n,i,r;return t&&t.split(`
`).forEach(function(o){r=o.indexOf(":"),n=o.substring(0,r).trim().toLowerCase(),i=o.substring(r+1).trim(),!(!n||e[n]&&kO[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},h0=Symbol("internals");function Lo(t){return t&&String(t).trim().toLowerCase()}function ou(t){return t===!1||t==null?t:I.isArray(t)?t.map(ou):String(t)}function PO(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const OO=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Af(t,e,n,i,r){if(I.isFunction(i))return i.call(this,e,n);if(r&&(e=n),!!I.isString(e)){if(I.isString(i))return e.indexOf(i)!==-1;if(I.isRegExp(i))return i.test(e)}}function DO(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function MO(t,e){const n=I.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(r,s,o){return this[i].call(this,e,r,s,o)},configurable:!0})})}class ed{constructor(e){e&&this.set(e)}set(e,n,i){const r=this;function s(a,l,c){const u=Lo(l);if(!u)throw new Error("header name must be a non-empty string");const h=I.findKey(r,u);(!h||r[h]===void 0||c===!0||c===void 0&&r[h]!==!1)&&(r[h||l]=ou(a))}const o=(a,l)=>I.forEach(a,(c,u)=>s(c,u,l));return I.isPlainObject(e)||e instanceof this.constructor?o(e,n):I.isString(e)&&(e=e.trim())&&!OO(e)?o(RO(e),n):e!=null&&s(n,e,i),this}get(e,n){if(e=Lo(e),e){const i=I.findKey(this,e);if(i){const r=this[i];if(!n)return r;if(n===!0)return PO(r);if(I.isFunction(n))return n.call(this,r,i);if(I.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Lo(e),e){const i=I.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||Af(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let r=!1;function s(o){if(o=Lo(o),o){const a=I.findKey(i,o);a&&(!n||Af(i,i[a],a,n))&&(delete i[a],r=!0)}}return I.isArray(e)?e.forEach(s):s(e),r}clear(e){const n=Object.keys(this);let i=n.length,r=!1;for(;i--;){const s=n[i];(!e||Af(this,this[s],s,e,!0))&&(delete this[s],r=!0)}return r}normalize(e){const n=this,i={};return I.forEach(this,(r,s)=>{const o=I.findKey(i,s);if(o){n[o]=ou(r),delete n[s];return}const a=e?DO(s):String(s).trim();a!==s&&delete n[s],n[a]=ou(r),i[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return I.forEach(this,(i,r)=>{i!=null&&i!==!1&&(n[r]=e&&I.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[h0]=this[h0]={accessors:{}}).accessors,r=this.prototype;function s(o){const a=Lo(o);i[a]||(MO(r,o),i[a]=!0)}return I.isArray(e)?e.forEach(s):s(e),this}}ed.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);I.reduceDescriptors(ed.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});I.freezeMethods(ed);const ci=ed;function xf(t,e){const n=this||oy,i=e||n,r=ci.from(i.headers);let s=i.data;return I.forEach(t,function(a){s=a.call(n,s,r.normalize(),e?e.status:void 0)}),r.normalize(),s}function ox(t){return!!(t&&t.__CANCEL__)}function kl(t,e,n){ne.call(this,t??"canceled",ne.ERR_CANCELED,e,n),this.name="CanceledError"}I.inherits(kl,ne,{__CANCEL__:!0});function NO(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new ne("Request failed with status code "+n.status,[ne.ERR_BAD_REQUEST,ne.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const LO=On.hasStandardBrowserEnv?{write(t,e,n,i,r,s){const o=[t+"="+encodeURIComponent(e)];I.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),I.isString(i)&&o.push("path="+i),I.isString(r)&&o.push("domain="+r),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function VO(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function FO(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function ax(t,e){return t&&!VO(e)?FO(t,e):e}const jO=On.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let i;function r(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=r(window.location.href),function(o){const a=I.isString(o)?r(o):o;return a.protocol===i.protocol&&a.host===i.host}}():function(){return function(){return!0}}();function BO(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function UO(t,e){t=t||10;const n=new Array(t),i=new Array(t);let r=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=i[s];o||(o=c),n[r]=l,i[r]=c;let h=s,d=0;for(;h!==r;)d+=n[h++],h=h%t;if(r=(r+1)%t,r===s&&(s=(s+1)%t),c-o<e)return;const f=u&&c-u;return f?Math.round(d*1e3/f):void 0}}function d0(t,e){let n=0;const i=UO(50,250);return r=>{const s=r.loaded,o=r.lengthComputable?r.total:void 0,a=s-n,l=i(a),c=s<=o;n=s;const u={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&c?(o-s)/l:void 0,event:r};u[e?"download":"upload"]=!0,t(u)}}const zO=typeof XMLHttpRequest<"u",$O=zO&&function(t){return new Promise(function(n,i){let r=t.data;const s=ci.from(t.headers).normalize();let{responseType:o,withXSRFToken:a}=t,l;function c(){t.cancelToken&&t.cancelToken.unsubscribe(l),t.signal&&t.signal.removeEventListener("abort",l)}let u;if(I.isFormData(r)){if(On.hasStandardBrowserEnv||On.hasStandardBrowserWebWorkerEnv)s.setContentType(!1);else if((u=s.getContentType())!==!1){const[g,..._]=u?u.split(";").map(m=>m.trim()).filter(Boolean):[];s.setContentType([g||"multipart/form-data",..._].join("; "))}}let h=new XMLHttpRequest;if(t.auth){const g=t.auth.username||"",_=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(g+":"+_))}const d=ax(t.baseURL,t.url);h.open(t.method.toUpperCase(),nx(d,t.params,t.paramsSerializer),!0),h.timeout=t.timeout;function f(){if(!h)return;const g=ci.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),m={data:!o||o==="text"||o==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:g,config:t,request:h};NO(function(v){n(v),c()},function(v){i(v),c()},m),h=null}if("onloadend"in h?h.onloadend=f:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(f)},h.onabort=function(){h&&(i(new ne("Request aborted",ne.ECONNABORTED,t,h)),h=null)},h.onerror=function(){i(new ne("Network Error",ne.ERR_NETWORK,t,h)),h=null},h.ontimeout=function(){let _=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const m=t.transitional||ix;t.timeoutErrorMessage&&(_=t.timeoutErrorMessage),i(new ne(_,m.clarifyTimeoutError?ne.ETIMEDOUT:ne.ECONNABORTED,t,h)),h=null},On.hasStandardBrowserEnv&&(a&&I.isFunction(a)&&(a=a(t)),a||a!==!1&&jO(d))){const g=t.xsrfHeaderName&&t.xsrfCookieName&&LO.read(t.xsrfCookieName);g&&s.set(t.xsrfHeaderName,g)}r===void 0&&s.setContentType(null),"setRequestHeader"in h&&I.forEach(s.toJSON(),function(_,m){h.setRequestHeader(m,_)}),I.isUndefined(t.withCredentials)||(h.withCredentials=!!t.withCredentials),o&&o!=="json"&&(h.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&h.addEventListener("progress",d0(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&h.upload&&h.upload.addEventListener("progress",d0(t.onUploadProgress)),(t.cancelToken||t.signal)&&(l=g=>{h&&(i(!g||g.type?new kl(null,t,h):g),h.abort(),h=null)},t.cancelToken&&t.cancelToken.subscribe(l),t.signal&&(t.signal.aborted?l():t.signal.addEventListener("abort",l)));const p=BO(d);if(p&&On.protocols.indexOf(p)===-1){i(new ne("Unsupported protocol "+p+":",ne.ERR_BAD_REQUEST,t));return}h.send(r||null)})},ig={http:fO,xhr:$O};I.forEach(ig,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const f0=t=>`- ${t}`,WO=t=>I.isFunction(t)||t===null||t===!1,lx={getAdapter:t=>{t=I.isArray(t)?t:[t];const{length:e}=t;let n,i;const r={};for(let s=0;s<e;s++){n=t[s];let o;if(i=n,!WO(n)&&(i=ig[(o=String(n)).toLowerCase()],i===void 0))throw new ne(`Unknown adapter '${o}'`);if(i)break;r[o||"#"+s]=i}if(!i){const s=Object.entries(r).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(f0).join(`
`):" "+f0(s[0]):"as no adapter specified";throw new ne("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i},adapters:ig};function Tf(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new kl(null,t)}function p0(t){return Tf(t),t.headers=ci.from(t.headers),t.data=xf.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),lx.getAdapter(t.adapter||oy.adapter)(t).then(function(i){return Tf(t),i.data=xf.call(t,t.transformResponse,i),i.headers=ci.from(i.headers),i},function(i){return ox(i)||(Tf(t),i&&i.response&&(i.response.data=xf.call(t,t.transformResponse,i.response),i.response.headers=ci.from(i.response.headers))),Promise.reject(i)})}const g0=t=>t instanceof ci?t.toJSON():t;function Zs(t,e){e=e||{};const n={};function i(c,u,h){return I.isPlainObject(c)&&I.isPlainObject(u)?I.merge.call({caseless:h},c,u):I.isPlainObject(u)?I.merge({},u):I.isArray(u)?u.slice():u}function r(c,u,h){if(I.isUndefined(u)){if(!I.isUndefined(c))return i(void 0,c,h)}else return i(c,u,h)}function s(c,u){if(!I.isUndefined(u))return i(void 0,u)}function o(c,u){if(I.isUndefined(u)){if(!I.isUndefined(c))return i(void 0,c)}else return i(void 0,u)}function a(c,u,h){if(h in e)return i(c,u);if(h in t)return i(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u)=>r(g0(c),g0(u),!0)};return I.forEach(Object.keys(Object.assign({},t,e)),function(u){const h=l[u]||r,d=h(t[u],e[u],u);I.isUndefined(d)&&h!==a||(n[u]=d)}),n}const cx="1.6.2",ay={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{ay[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const m0={};ay.transitional=function(e,n,i){function r(s,o){return"[Axios v"+cx+"] Transitional option '"+s+"'"+o+(i?". "+i:"")}return(s,o,a)=>{if(e===!1)throw new ne(r(o," has been removed"+(n?" in "+n:"")),ne.ERR_DEPRECATED);return n&&!m0[o]&&(m0[o]=!0,console.warn(r(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function HO(t,e,n){if(typeof t!="object")throw new ne("options must be an object",ne.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let r=i.length;for(;r-- >0;){const s=i[r],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new ne("option "+s+" must be "+l,ne.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ne("Unknown option "+s,ne.ERR_BAD_OPTION)}}const rg={assertOptions:HO,validators:ay},Ii=rg.validators;class Qu{constructor(e){this.defaults=e,this.interceptors={request:new u0,response:new u0}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Zs(this.defaults,n);const{transitional:i,paramsSerializer:r,headers:s}=n;i!==void 0&&rg.assertOptions(i,{silentJSONParsing:Ii.transitional(Ii.boolean),forcedJSONParsing:Ii.transitional(Ii.boolean),clarifyTimeoutError:Ii.transitional(Ii.boolean)},!1),r!=null&&(I.isFunction(r)?n.paramsSerializer={serialize:r}:rg.assertOptions(r,{encode:Ii.function,serialize:Ii.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&I.merge(s.common,s[n.method]);s&&I.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),n.headers=ci.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(l=l&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let u,h=0,d;if(!l){const p=[p0.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,c),d=p.length,u=Promise.resolve(n);h<d;)u=u.then(p[h++],p[h++]);return u}d=a.length;let f=n;for(h=0;h<d;){const p=a[h++],g=a[h++];try{f=p(f)}catch(_){g.call(this,_);break}}try{u=p0.call(this,f)}catch(p){return Promise.reject(p)}for(h=0,d=c.length;h<d;)u=u.then(c[h++],c[h++]);return u}getUri(e){e=Zs(this.defaults,e);const n=ax(e.baseURL,e.url);return nx(n,e.params,e.paramsSerializer)}}I.forEach(["delete","get","head","options"],function(e){Qu.prototype[e]=function(n,i){return this.request(Zs(i||{},{method:e,url:n,data:(i||{}).data}))}});I.forEach(["post","put","patch"],function(e){function n(i){return function(s,o,a){return this.request(Zs(a||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Qu.prototype[e]=n(),Qu.prototype[e+"Form"]=n(!0)});const au=Qu;class ly{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const i=this;this.promise.then(r=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](r);i._listeners=null}),this.promise.then=r=>{let s;const o=new Promise(a=>{i.subscribe(a),s=a}).then(r);return o.cancel=function(){i.unsubscribe(s)},o},e(function(s,o,a){i.reason||(i.reason=new kl(s,o,a),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new ly(function(r){e=r}),cancel:e}}}const qO=ly;function KO(t){return function(n){return t.apply(null,n)}}function GO(t){return I.isObject(t)&&t.isAxiosError===!0}const sg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(sg).forEach(([t,e])=>{sg[e]=t});const QO=sg;function ux(t){const e=new au(t),n=WA(au.prototype.request,e);return I.extend(n,au.prototype,e,{allOwnKeys:!0}),I.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return ux(Zs(t,r))},n}const Ue=ux(oy);Ue.Axios=au;Ue.CanceledError=kl;Ue.CancelToken=qO;Ue.isCancel=ox;Ue.VERSION=cx;Ue.toFormData=Zh;Ue.AxiosError=ne;Ue.Cancel=Ue.CanceledError;Ue.all=function(e){return Promise.all(e)};Ue.spread=KO;Ue.isAxiosError=GO;Ue.mergeConfig=Zs;Ue.AxiosHeaders=ci;Ue.formToJSON=t=>sx(I.isHTMLForm(t)?new FormData(t):t);Ue.getAdapter=lx.getAdapter;Ue.HttpStatusCode=QO;Ue.default=Ue;const Rl=Ue,YO="KW9OH19UOXYXJLUEWL3A",XO="Nya94uvgPtekyjJJ4BPYhpo8VoYgO7HefY9S6rIsXebREQcN";async function JO(){try{return(await Rl.get("https://quantifycrypto.com/api/v1/coins/prices",{headers:{"QC-Access-Key":YO,"QC-Secret-Key":XO}})).data.data}catch(t){throw console.error("Error fetching data:",t.message),t}}const ZO="KW9OH19UOXYXJLUEWL3A",eD="Nya94uvgPtekyjJJ4BPYhpo8VoYgO7HefY9S6rIsXebREQcN";async function tD(){try{return(await Rl.get("https://quantifycrypto.com/api/v1/coins/percent-change",{headers:{"QC-Access-Key":ZO,"QC-Secret-Key":eD}})).data.data}catch(t){throw console.error("Error fetching data:",t.message),t}}var y0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},nD=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],o=t[n++],a=t[n++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},dx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,u=s>>2,h=(s&3)<<4|a>>4;let d=(a&15)<<2|c>>6,f=c&63;l||(f=64,o||(d=64)),i.push(n[u],n[h],n[d],n[f])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):nD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const h=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||c==null||h==null)throw new iD;const d=s<<2|a>>4;if(i.push(d),c!==64){const f=a<<4&240|c>>2;if(i.push(f),h!==64){const p=c<<6&192|h;i.push(p)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class iD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rD=function(t){const e=hx(t);return dx.encodeByteArray(e,!0)},Yu=function(t){return rD(t).replace(/\./g,"")},fx=function(t){try{return dx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=()=>sD().__FIREBASE_DEFAULTS__,aD=()=>{if(typeof process>"u"||typeof y0>"u")return;const t=y0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},lD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&fx(t[1]);return e&&JSON.parse(e)},cy=()=>{try{return oD()||aD()||lD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},px=t=>{var e,n;return(n=(e=cy())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},cD=t=>{const e=px(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},gx=()=>{var t;return(t=cy())===null||t===void 0?void 0:t.config},mx=t=>{var e;return(e=cy())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Yu(JSON.stringify(n)),Yu(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Et())}function fD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function pD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gD(){const t=Et();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function mD(){try{return typeof indexedDB=="object"}catch{return!1}}function yD(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D="FirebaseError";class wi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=_D,Object.setPrototypeOf(this,wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pl.prototype.create)}}class Pl{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?vD(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new wi(r,a,i)}}function vD(t,e){return t.replace(wD,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const wD=/\{\$([^}]+)}/g;function ED(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Xu(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],o=e[r];if(_0(s)&&_0(o)){if(!Xu(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function _0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Qo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function Yo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function SD(t,e){const n=new AD(t,e);return n.subscribe.bind(n)}class AD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");xD(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=If),r.error===void 0&&(r.error=If),r.complete===void 0&&(r.complete=If);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function If(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(t){return t&&t._delegate?t._delegate:t}class Yr{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TD=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new uD;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bD(e))try{this.getOrInitializeService({instanceIdentifier:Ir})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Ir){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ir){return this.instances.has(e)}getOptions(e=Ir){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:ID(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ir){return this.component?this.component.multipleInstances?e:Ir:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function ID(t){return t===Ir?void 0:t}function bD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new TD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ee||(ee={}));const kD={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},RD=ee.INFO,PD={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},OD=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=PD[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class uy{constructor(e){this.name=e,this._logLevel=RD,this._logHandler=OD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...e),this._logHandler(this,ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...e),this._logHandler(this,ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...e),this._logHandler(this,ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...e),this._logHandler(this,ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...e),this._logHandler(this,ee.ERROR,...e)}}const DD=(t,e)=>e.some(n=>t instanceof n);let v0,w0;function MD(){return v0||(v0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ND(){return w0||(w0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yx=new WeakMap,og=new WeakMap,_x=new WeakMap,bf=new WeakMap,hy=new WeakMap;function LD(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ji(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&yx.set(n,t)}).catch(()=>{}),hy.set(e,t),e}function VD(t){if(og.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});og.set(t,e)}let ag={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return og.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_x.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ji(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function FD(t){ag=t(ag)}function jD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Cf(this),e,...n);return _x.set(i,e.sort?e.sort():[e]),Ji(i)}:ND().includes(t)?function(...e){return t.apply(Cf(this),e),Ji(yx.get(this))}:function(...e){return Ji(t.apply(Cf(this),e))}}function BD(t){return typeof t=="function"?jD(t):(t instanceof IDBTransaction&&VD(t),DD(t,MD())?new Proxy(t,ag):t)}function Ji(t){if(t instanceof IDBRequest)return LD(t);if(bf.has(t))return bf.get(t);const e=BD(t);return e!==t&&(bf.set(t,e),hy.set(e,t)),e}const Cf=t=>hy.get(t);function UD(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),a=Ji(o);return i&&o.addEventListener("upgradeneeded",l=>{i(Ji(o.result),l.oldVersion,l.newVersion,Ji(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const zD=["get","getKey","getAll","getAllKeys","count"],$D=["put","add","delete","clear"],kf=new Map;function E0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(kf.get(e))return kf.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=$D.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||zD.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&l.done]))[0]};return kf.set(e,s),s}FD(t=>({...t,get:(e,n,i)=>E0(e,n)||t.get(e,n,i),has:(e,n)=>!!E0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(HD(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function HD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const lg="@firebase/app",S0="0.9.24";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr=new uy("@firebase/app"),qD="@firebase/app-compat",KD="@firebase/analytics-compat",GD="@firebase/analytics",QD="@firebase/app-check-compat",YD="@firebase/app-check",XD="@firebase/auth",JD="@firebase/auth-compat",ZD="@firebase/database",eM="@firebase/database-compat",tM="@firebase/functions",nM="@firebase/functions-compat",iM="@firebase/installations",rM="@firebase/installations-compat",sM="@firebase/messaging",oM="@firebase/messaging-compat",aM="@firebase/performance",lM="@firebase/performance-compat",cM="@firebase/remote-config",uM="@firebase/remote-config-compat",hM="@firebase/storage",dM="@firebase/storage-compat",fM="@firebase/firestore",pM="@firebase/firestore-compat",gM="firebase",mM="10.7.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg="[DEFAULT]",yM={[lg]:"fire-core",[qD]:"fire-core-compat",[GD]:"fire-analytics",[KD]:"fire-analytics-compat",[YD]:"fire-app-check",[QD]:"fire-app-check-compat",[XD]:"fire-auth",[JD]:"fire-auth-compat",[ZD]:"fire-rtdb",[eM]:"fire-rtdb-compat",[tM]:"fire-fn",[nM]:"fire-fn-compat",[iM]:"fire-iid",[rM]:"fire-iid-compat",[sM]:"fire-fcm",[oM]:"fire-fcm-compat",[aM]:"fire-perf",[lM]:"fire-perf-compat",[cM]:"fire-rc",[uM]:"fire-rc-compat",[hM]:"fire-gcs",[dM]:"fire-gcs-compat",[fM]:"fire-fst",[pM]:"fire-fst-compat","fire-js":"fire-js",[gM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju=new Map,ug=new Map;function _M(t,e){try{t.container.addComponent(e)}catch(n){Xr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function eo(t){const e=t.name;if(ug.has(e))return Xr.debug(`There were multiple attempts to register component ${e}.`),!1;ug.set(e,t);for(const n of Ju.values())_M(n,t);return!0}function dy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Zi=new Pl("app","Firebase",vM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Yr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo=mM;function vx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:cg,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Zi.create("bad-app-name",{appName:String(r)});if(n||(n=gx()),!n)throw Zi.create("no-options");const s=Ju.get(r);if(s){if(Xu(n,s.options)&&Xu(i,s.config))return s;throw Zi.create("duplicate-app",{appName:r})}const o=new CD(r);for(const l of ug.values())o.addComponent(l);const a=new wM(n,i,o);return Ju.set(r,a),a}function wx(t=cg){const e=Ju.get(t);if(!e&&t===cg&&gx())return vx();if(!e)throw Zi.create("no-app",{appName:t});return e}function er(t,e,n){var i;let r=(i=yM[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xr.warn(a.join(" "));return}eo(new Yr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM="firebase-heartbeat-database",SM=1,qa="firebase-heartbeat-store";let Rf=null;function Ex(){return Rf||(Rf=UD(EM,SM,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(qa)}}}).catch(t=>{throw Zi.create("idb-open",{originalErrorMessage:t.message})})),Rf}async function AM(t){try{return await(await Ex()).transaction(qa).objectStore(qa).get(Sx(t))}catch(e){if(e instanceof wi)Xr.warn(e.message);else{const n=Zi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xr.warn(n.message)}}}async function A0(t,e){try{const i=(await Ex()).transaction(qa,"readwrite");await i.objectStore(qa).put(e,Sx(t)),await i.done}catch(n){if(n instanceof wi)Xr.warn(n.message);else{const i=Zi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Xr.warn(i.message)}}}function Sx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM=1024,TM=30*24*60*60*1e3;class IM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new CM(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=x0();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=TM}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=x0(),{heartbeatsToSend:i,unsentEntries:r}=bM(this._heartbeatsCache.heartbeats),s=Yu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function x0(){return new Date().toISOString().substring(0,10)}function bM(t,e=xM){const n=[];let i=t.slice();for(const r of t){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),T0(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),T0(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class CM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mD()?yD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await AM(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return A0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return A0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function T0(t){return Yu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(t){eo(new Yr("platform-logger",e=>new WD(e),"PRIVATE")),eo(new Yr("heartbeat",e=>new IM(e),"PRIVATE")),er(lg,S0,t),er(lg,S0,"esm2017"),er("fire-js","")}kM("");function fy(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function Ax(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RM=Ax,xx=new Pl("auth","Firebase",Ax());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu=new uy("@firebase/auth");function PM(t,...e){Zu.logLevel<=ee.WARN&&Zu.warn(`Auth (${wo}): ${t}`,...e)}function lu(t,...e){Zu.logLevel<=ee.ERROR&&Zu.error(`Auth (${wo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(t,...e){throw py(t,...e)}function Vn(t,...e){return py(t,...e)}function Tx(t,e,n){const i=Object.assign(Object.assign({},RM()),{[e]:n});return new Pl("auth","Firebase",i).create(e,{appName:t.name})}function OM(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&un(t,"argument-error"),Tx(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function py(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return xx.create(t,...e)}function z(t,e,...n){if(!t)throw py(e,...n)}function ni(t){const e="INTERNAL ASSERTION FAILED: "+t;throw lu(e),new Error(e)}function pi(t,e){t||ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function DM(){return I0()==="http:"||I0()==="https:"}function I0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DM()||fD()||"connection"in navigator)?navigator.onLine:!0}function NM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,n){this.shortDelay=e,this.longDelay=n,pi(n>e,"Short delay should be less than long delay!"),this.isMobile=dD()||pD()}get(){return MM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(t,e){pi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM=new Dl(3e4,6e4);function Ei(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Si(t,e,n,i,r={}){return bx(t,r,async()=>{let s={},o={};i&&(e==="GET"?o=i:s={body:JSON.stringify(i)});const a=Ol(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),Ix.fetch()(Cx(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function bx(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},LM),e);try{const r=new jM(t),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Ec(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ec(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ec(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ec(t,"user-disabled",o);const u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Tx(t,u,c);un(t,u)}}catch(r){if(r instanceof wi)throw r;un(t,"network-request-failed",{message:String(r)})}}async function Ml(t,e,n,i,r={}){const s=await Si(t,e,n,i,r);return"mfaPendingCredential"in s&&un(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Cx(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?gy(t.config,r):`${t.config.apiScheme}://${r}`}function FM(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class jM{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Vn(this.auth,"network-request-failed")),VM.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ec(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Vn(t,e,i);return r.customData._tokenResponse=n,r}function b0(t){return t!==void 0&&t.enterprise!==void 0}class BM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return FM(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function UM(t,e){return Si(t,"GET","/v2/recaptchaConfig",Ei(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zM(t,e){return Si(t,"POST","/v1/accounts:delete",e)}async function $M(t,e){return Si(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function WM(t,e=!1){const n=Ke(t),i=await n.getIdToken(e),r=my(i);z(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:ya(Pf(r.auth_time)),issuedAtTime:ya(Pf(r.iat)),expirationTime:ya(Pf(r.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Pf(t){return Number(t)*1e3}function my(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return lu("JWT malformed, contained fewer than 3 sections"),null;try{const r=fx(n);return r?JSON.parse(r):(lu("Failed to decode base64 JWT payload"),null)}catch(r){return lu("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function HM(t){const e=my(t);return z(e,"internal-error"),z(typeof e.exp<"u","internal-error"),z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ka(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof wi&&qM(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function qM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ya(this.lastLoginAt),this.creationTime=ya(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eh(t){var e;const n=t.auth,i=await t.getIdToken(),r=await Ka(t,$M(n,{idToken:i}));z(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?YM(s.providerUserInfo):[],a=QM(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new kx(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function GM(t){const e=Ke(t);await eh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function QM(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function YM(t){return t.map(e=>{var{providerId:n}=e,i=fy(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XM(t,e){const n=await bx(t,{},async()=>{const i=Ol({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=Cx(t,r,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Ix.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function JM(t,e){return Si(t,"POST","/v2/accounts:revokeToken",Ei(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){z(e.idToken,"internal-error"),z(typeof e.idToken<"u","internal-error"),z(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):HM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return z(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await XM(e,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new Ga;return i&&(z(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(z(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(z(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ga,this.toJSON())}_performRefresh(){return ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(t,e){z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Br{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=fy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new KM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new kx(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ka(this,this.stsTokenManager.getToken(this.auth,e));return z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return WM(this,e)}reload(){return GM(this)}_assign(e){this!==e&&(z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Br(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await eh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ka(this,zM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,a,l,c,u;const h=(i=n.displayName)!==null&&i!==void 0?i:void 0,d=(r=n.email)!==null&&r!==void 0?r:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:v,emailVerified:E,isAnonymous:S,providerData:A,stsTokenManager:x}=n;z(v&&x,e,"internal-error");const T=Ga.fromJSON(this.name,x);z(typeof v=="string",e,"internal-error"),bi(h,e.name),bi(d,e.name),z(typeof E=="boolean",e,"internal-error"),z(typeof S=="boolean",e,"internal-error"),bi(f,e.name),bi(p,e.name),bi(g,e.name),bi(_,e.name),bi(m,e.name),bi(y,e.name);const O=new Br({uid:v,auth:e,email:d,emailVerified:E,displayName:h,isAnonymous:S,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:T,createdAt:m,lastLoginAt:y});return A&&Array.isArray(A)&&(O.providerData=A.map(D=>Object.assign({},D))),_&&(O._redirectEventId=_),O}static async _fromIdTokenResponse(e,n,i=!1){const r=new Ga;r.updateFromServerResponse(n);const s=new Br({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await eh(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0=new Map;function ii(t){pi(t instanceof Function,"Expected a class definition");let e=C0.get(t);return e?(pi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,C0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Rx.type="NONE";const k0=Rx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(t,e,n){return`firebase:${t}:${e}:${n}`}class Bs{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=cu(this.userKey,r.apiKey,s),this.fullPersistenceKey=cu("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Br._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Bs(ii(k0),e,i);const r=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=r[0]||ii(k0);const o=cu(i,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const h=Br._fromJSON(e,u);c!==s&&(a=h),s=c;break}}catch{}const l=r.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Bs(s,e,i):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Bs(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Dx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Px(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Nx(e))return"Blackberry";if(Lx(e))return"Webos";if(yy(e))return"Safari";if((e.includes("chrome/")||Ox(e))&&!e.includes("edge/"))return"Chrome";if(Mx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Px(t=Et()){return/firefox\//i.test(t)}function yy(t=Et()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ox(t=Et()){return/crios\//i.test(t)}function Dx(t=Et()){return/iemobile/i.test(t)}function Mx(t=Et()){return/android/i.test(t)}function Nx(t=Et()){return/blackberry/i.test(t)}function Lx(t=Et()){return/webos/i.test(t)}function td(t=Et()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ZM(t=Et()){var e;return td(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function e2(){return gD()&&document.documentMode===10}function Vx(t=Et()){return td(t)||Mx(t)||Lx(t)||Nx(t)||/windows phone/i.test(t)||Dx(t)}function t2(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(t,e=[]){let n;switch(t){case"Browser":n=R0(Et());break;case"Worker":n=`${R0(Et())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${wo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i2(t,e={}){return Si(t,"GET","/v2/passwordPolicy",Ei(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=6;class s2{constructor(e){var n,i,r,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:r2,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new P0(this),this.idTokenSubscription=new P0(this),this.beforeStateQueue=new n2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ii(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await Bs.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return z(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await eh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=NM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Ke(e):null;return n&&z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ii(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await i2(this),n=new s2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Pl("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await JM(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ii(e)||this._popupRedirectResolver;z(n,this,"argument-error"),this.redirectPersistenceManager=await Bs.create(this,[ii(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(z(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,i,r);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Fx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&PM(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ai(t){return Ke(t)}class P0{constructor(e){this.auth=e,this.observer=null,this.addObserver=SD(n=>this.observer=n)}get next(){return z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function jx(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=Vn("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",a2().appendChild(i)})}function l2(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const c2="https://www.google.com/recaptcha/enterprise.js?render=",u2="recaptcha-enterprise",h2="NO_RECAPTCHA";class d2{constructor(e){this.type=u2,this.auth=Ai(e)}async verify(e="verify",n=!1){async function i(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{UM(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new BM(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function r(s,o,a){const l=window.grecaptcha;b0(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(h2)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{i(this.auth).then(a=>{if(!n&&b0(window.grecaptcha))r(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}jx(c2+a).then(()=>{r(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function O0(t,e,n,i=!1){const r=new d2(t);let s;try{s=await r.verify(n)}catch{s=await r.verify(n,!0)}const o=Object.assign({},e);return i?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function th(t,e,n,i){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await O0(t,e,n,n==="getOobCode");return i(t,s)}else return i(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await O0(t,e,n,n==="getOobCode");return i(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(t,e){const n=dy(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(Xu(s,e??{}))return r;un(r,"already-initialized")}return n.initialize({options:e})}function p2(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(ii);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function g2(t,e,n){const i=Ai(t);z(i._canInitEmulator,i,"emulator-config-failed"),z(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!(n!=null&&n.disableWarnings),s=Bx(e),{host:o,port:a}=m2(e),l=a===null?"":`:${a}`;i.config.emulator={url:`${s}//${o}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||y2()}function Bx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function m2(t){const e=Bx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:D0(i.substr(s.length+1))}}else{const[s,o]=i.split(":");return{host:s,port:D0(o)}}}function D0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function y2(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ni("not implemented")}_getIdTokenResponse(e){return ni("not implemented")}_linkToIdToken(e,n){return ni("not implemented")}_getReauthenticationResolver(e){return ni("not implemented")}}async function _2(t,e){return Si(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v2(t,e){return Ml(t,"POST","/v1/accounts:signInWithPassword",Ei(t,e))}async function Ux(t,e){return Si(t,"POST","/v1/accounts:sendOobCode",Ei(t,e))}async function w2(t,e){return Ux(t,e)}async function E2(t,e){return Ux(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S2(t,e){return Ml(t,"POST","/v1/accounts:signInWithEmailLink",Ei(t,e))}async function A2(t,e){return Ml(t,"POST","/v1/accounts:signInWithEmailLink",Ei(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa extends _y{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Qa(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Qa(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return th(e,n,"signInWithPassword",v2);case"emailLink":return S2(e,{email:this._email,oobCode:this._password});default:un(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return th(e,i,"signUpPassword",_2);case"emailLink":return A2(e,{idToken:n,email:this._email,oobCode:this._password});default:un(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Us(t,e){return Ml(t,"POST","/v1/accounts:signInWithIdp",Ei(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2="http://localhost";class Jr extends _y{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Jr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):un("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,s=fy(n,["providerId","signInMethod"]);if(!i||!r)return null;const o=new Jr(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Us(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Us(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Us(e,n)}buildRequest(){const e={requestUri:x2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ol(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function I2(t){const e=Qo(Yo(t)).link,n=e?Qo(Yo(e)).deep_link_id:null,i=Qo(Yo(t)).deep_link_id;return(i?Qo(Yo(i)).link:null)||i||n||e||t}class vy{constructor(e){var n,i,r,s,o,a;const l=Qo(Yo(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(i=l.oobCode)!==null&&i!==void 0?i:null,h=T2((r=l.mode)!==null&&r!==void 0?r:null);z(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=I2(e);try{return new vy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.providerId=Eo.PROVIDER_ID}static credential(e,n){return Qa._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=vy.parseLink(n);return z(i,"argument-error"),Qa._fromEmailAndCode(e,i.code,i.tenantId)}}Eo.PROVIDER_ID="password";Eo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Eo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl extends wy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends Nl{constructor(){super("facebook.com")}static credential(e){return Jr._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Di.credential(e.oauthAccessToken)}catch{return null}}}Di.FACEBOOK_SIGN_IN_METHOD="facebook.com";Di.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn extends Nl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Jr._fromParams({providerId:Zn.PROVIDER_ID,signInMethod:Zn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zn.credentialFromTaggedObject(e)}static credentialFromError(e){return Zn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Zn.credential(n,i)}catch{return null}}}Zn.GOOGLE_SIGN_IN_METHOD="google.com";Zn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends Nl{constructor(){super("github.com")}static credential(e){return Jr._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mi.credential(e.oauthAccessToken)}catch{return null}}}Mi.GITHUB_SIGN_IN_METHOD="github.com";Mi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends Nl{constructor(){super("twitter.com")}static credential(e,n){return Jr._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Ni.credential(n,i)}catch{return null}}}Ni.TWITTER_SIGN_IN_METHOD="twitter.com";Ni.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b2(t,e){return Ml(t,"POST","/v1/accounts:signUp",Ei(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const s=await Br._fromIdTokenResponse(e,i,r),o=M0(i);return new Zr({user:s,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=M0(i);return new Zr({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function M0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh extends wi{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,nh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new nh(e,n,i,r)}}function zx(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?nh._fromErrorAndOperation(t,s,e,i):s})}async function C2(t,e,n=!1){const i=await Ka(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Zr._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k2(t,e,n=!1){const{auth:i}=t,r="reauthenticate";try{const s=await Ka(t,zx(i,r,e,t),n);z(s.idToken,i,"internal-error");const o=my(s.idToken);z(o,i,"internal-error");const{sub:a}=o;return z(t.uid===a,i,"user-mismatch"),Zr._forOperation(t,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&un(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $x(t,e,n=!1){const i="signIn",r=await zx(t,i,e),s=await Zr._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}async function R2(t,e){return $x(Ai(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(t,e,n){var i;z(((i=n.url)===null||i===void 0?void 0:i.length)>0,t,"invalid-continue-uri"),z(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(z(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(z(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hx(t){const e=Ai(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function P2(t,e,n){const i=Ai(t),r={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&Wx(i,r,n),await th(i,r,"getOobCode",E2)}async function O2(t,e,n){const i=Ai(t),o=await th(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",b2).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Hx(t),l}),a=await Zr._fromIdTokenResponse(i,"signIn",o);return await i._updateCurrentUser(a.user),a}function qx(t,e,n){return R2(Ke(t),Eo.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Hx(t),i})}async function Kx(t,e){const n=Ke(t),r={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&Wx(n.auth,r,e);const{email:s}=await w2(n.auth,r);s!==t.email&&await t.reload()}function D2(t,e,n,i){return Ke(t).onIdTokenChanged(e,n,i)}function M2(t,e,n){return Ke(t).beforeAuthStateChanged(e,n)}function Ey(t,e,n,i){return Ke(t).onAuthStateChanged(e,n,i)}function to(t){return Ke(t).signOut()}const ih="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ih,"1"),this.storage.removeItem(ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(){const t=Et();return yy(t)||td(t)}const L2=1e3,V2=10;class Qx extends Gx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=N2()&&t2(),this.fallbackToPolling=Vx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(i);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!n)return}const r=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},s=this.storage.getItem(i);e2()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,V2):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},L2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Qx.type="LOCAL";const F2=Qx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx extends Gx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Yx.type="SESSION";const Xx=Yx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new nd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:s}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await j2(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=Sy("",20);r.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(h){const d=h;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(){return window}function U2(t){Fn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(){return typeof Fn().WorkerGlobalScope<"u"&&typeof Fn().importScripts=="function"}async function z2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $2(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function W2(){return Jx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx="firebaseLocalStorageDb",H2=1,rh="firebaseLocalStorage",eT="fbase_key";class Ll{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function id(t,e){return t.transaction([rh],e?"readwrite":"readonly").objectStore(rh)}function q2(){const t=indexedDB.deleteDatabase(Zx);return new Ll(t).toPromise()}function dg(){const t=indexedDB.open(Zx,H2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(rh,{keyPath:eT})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(rh)?e(i):(i.close(),await q2(),e(await dg()))})})}async function N0(t,e,n){const i=id(t,!0).put({[eT]:e,value:n});return new Ll(i).toPromise()}async function K2(t,e){const n=id(t,!1).get(e),i=await new Ll(n).toPromise();return i===void 0?null:i.value}function L0(t,e){const n=id(t,!0).delete(e);return new Ll(n).toPromise()}const G2=800,Q2=3;class tT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>Q2)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Jx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nd._getInstance(W2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await z2(),!this.activeServiceWorker)return;this.sender=new B2(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dg();return await N0(e,ih,"1"),await L0(e,ih),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>N0(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>K2(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>L0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=id(r,!1).getAll();return new Ll(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),G2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tT.type="LOCAL";const Y2=tT;new Dl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(t,e){return e?ii(e):(z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay extends _y{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Us(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Us(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Us(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function X2(t){return $x(t.auth,new Ay(t),t.bypassAuthState)}function J2(t){const{auth:e,user:n}=t;return z(n,e,"internal-error"),k2(n,new Ay(t),t.bypassAuthState)}async function Z2(t){const{auth:e,user:n}=t;return z(n,e,"internal-error"),C2(n,new Ay(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return X2;case"linkViaPopup":case"linkViaRedirect":return Z2;case"reauthViaPopup":case"reauthViaRedirect":return J2;default:un(this.auth,"internal-error")}}resolve(e){pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=new Dl(2e3,1e4);async function tN(t,e,n){const i=Ai(t);OM(t,e,wy);const r=nT(i,n);return new Dr(i,"signInViaPopup",e,r).executeNotNull()}class Dr extends iT{constructor(e,n,i,r,s){super(e,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,Dr.currentPopupAction&&Dr.currentPopupAction.cancel(),Dr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return z(e,this.auth,"internal-error"),e}async onExecution(){pi(this.filter.length===1,"Popup operations only handle one event");const e=Sy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Vn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Vn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Dr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,eN.get())};e()}}Dr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN="pendingRedirect",uu=new Map;class iN extends iT{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=uu.get(this.auth._key());if(!e){try{const i=await rN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}uu.set(this.auth._key(),e)}return this.bypassAuthState||uu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rN(t,e){const n=aN(e),i=oN(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function sN(t,e){uu.set(t._key(),e)}function oN(t){return ii(t._redirectPersistence)}function aN(t){return cu(nN,t.config.apiKey,t.name)}async function lN(t,e,n=!1){const i=Ai(t),r=nT(i,e),o=await new iN(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=10*60*1e3;class uN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!rT(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Vn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cN&&this.cachedEventUids.clear(),this.cachedEventUids.has(V0(e))}saveEventToCache(e){this.cachedEventUids.add(V0(e)),this.lastProcessedEventTime=Date.now()}}function V0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function rT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function hN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dN(t,e={}){return Si(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pN=/^https?/;async function gN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await dN(t);for(const n of e)try{if(mN(n))return}catch{}un(t,"unauthorized-domain")}function mN(t){const e=hg(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!pN.test(n))return!1;if(fN.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=new Dl(3e4,6e4);function F0(){const t=Fn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function _N(t){return new Promise((e,n)=>{var i,r,s;function o(){F0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{F0(),n(Vn(t,"network-request-failed"))},timeout:yN.get()})}if(!((r=(i=Fn().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=Fn().gapi)===null||s===void 0)&&s.load)o();else{const a=l2("iframefcb");return Fn()[a]=()=>{gapi.load?o():n(Vn(t,"network-request-failed"))},jx(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw hu=null,e})}let hu=null;function vN(t){return hu=hu||_N(t),hu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=new Dl(5e3,15e3),EN="__/auth/iframe",SN="emulator/auth/iframe",AN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TN(t){const e=t.config;z(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?gy(e,SN):`https://${t.config.authDomain}/${EN}`,i={apiKey:e.apiKey,appName:t.name,v:wo},r=xN.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${Ol(i).slice(1)}`}async function IN(t){const e=await vN(t),n=Fn().gapi;return z(n,t,"internal-error"),e.open({where:document.body,url:TN(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AN,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const o=Vn(t,"network-request-failed"),a=Fn().setTimeout(()=>{s(o)},wN.get());function l(){Fn().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CN=500,kN=600,RN="_blank",PN="http://localhost";class j0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ON(t,e,n,i=CN,r=kN){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},bN),{width:i.toString(),height:r.toString(),top:s,left:o}),c=Et().toLowerCase();n&&(a=Ox(c)?RN:n),Px(c)&&(e=e||PN,l.scrollbars="yes");const u=Object.entries(l).reduce((d,[f,p])=>`${d}${f}=${p},`,"");if(ZM(c)&&a!=="_self")return DN(e||"",a),new j0(null);const h=window.open(e||"",a,u);z(h,t,"popup-blocked");try{h.focus()}catch{}return new j0(h)}function DN(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN="__/auth/handler",NN="emulator/auth/handler",LN=encodeURIComponent("fac");async function B0(t,e,n,i,r,s){z(t.config.authDomain,t,"auth-domain-config-required"),z(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:wo,eventId:r};if(e instanceof wy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",ED(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries(s||{}))o[u]=h}if(e instanceof Nl){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${LN}=${encodeURIComponent(l)}`:"";return`${VN(t)}?${Ol(a).slice(1)}${c}`}function VN({config:t}){return t.emulator?gy(t,NN):`https://${t.authDomain}/${MN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of="webStorageSupport";class FN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xx,this._completeRedirectFn=lN,this._overrideRedirectResult=sN}async _openPopup(e,n,i,r){var s;pi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await B0(e,n,i,hg(),r);return ON(e,o,Sy())}async _openRedirect(e,n,i,r){await this._originValidation(e);const s=await B0(e,n,i,hg(),r);return U2(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(pi(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await IN(e),i=new uN(e);return n.register("authEvent",r=>(z(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Of,{type:Of},r=>{var s;const o=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[Of];o!==void 0&&n(!!o),un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=gN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Vx()||yy()||td()}}const jN=FN;var U0="@firebase/auth",z0="1.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function zN(t){eo(new Yr("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;z(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fx(t)},c=new o2(i,r,s,l);return p2(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),eo(new Yr("auth-internal",e=>{const n=Ai(e.getProvider("auth").getImmediate());return(i=>new BN(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),er(U0,z0,UN(t)),er(U0,z0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=5*60,WN=mx("authIdTokenMaxAge")||$N;let $0=null;const HN=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>WN)return;const r=n==null?void 0:n.token;$0!==r&&($0=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function qN(t=wx()){const e=dy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=f2(t,{popupRedirectResolver:jN,persistence:[Y2,F2,Xx]}),i=mx("authTokenSyncURL");if(i){const s=HN(i);M2(n,s,()=>s(n.currentUser)),D2(n,o=>s(o))}const r=px("auth");return r&&g2(n,`http://${r}`),n}zN("Browser");/**
 * @remix-run/router v1.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ya(){return Ya=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ya.apply(this,arguments)}var Fi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Fi||(Fi={}));const W0="popstate";function KN(t){t===void 0&&(t={});function e(r,s){let{pathname:o="/",search:a="",hash:l=""}=ls(r.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),fg("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){let o=r.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=r.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof s=="string"?s:sT(s))}function i(r,s){rd(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return QN(e,n,i,t)}function He(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function rd(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GN(){return Math.random().toString(36).substr(2,8)}function H0(t,e){return{usr:t.state,key:t.key,idx:e}}function fg(t,e,n,i){return n===void 0&&(n=null),Ya({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ls(e):e,{state:n,key:e&&e.key||i||GN()})}function sT(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function ls(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function QN(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=Fi.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Ya({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=Fi.Pop;let _=u(),m=_==null?null:_-c;c=_,l&&l({action:a,location:g.location,delta:m})}function d(_,m){a=Fi.Push;let y=fg(g.location,_,m);n&&n(y,_),c=u()+1;let v=H0(y,c),E=g.createHref(y);try{o.pushState(v,"",E)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;r.location.assign(E)}s&&l&&l({action:a,location:g.location,delta:1})}function f(_,m){a=Fi.Replace;let y=fg(g.location,_,m);n&&n(y,_),c=u();let v=H0(y,c),E=g.createHref(y);o.replaceState(v,"",E),s&&l&&l({action:a,location:g.location,delta:0})}function p(_){let m=r.location.origin!=="null"?r.location.origin:r.location.href,y=typeof _=="string"?_:sT(_);return He(m,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,m)}let g={get action(){return a},get location(){return t(r,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(W0,h),l=_,()=>{r.removeEventListener(W0,h),l=null}},createHref(_){return e(r,_)},createURL:p,encodeLocation(_){let m=p(_);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:d,replace:f,go(_){return o.go(_)}};return g}var q0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(q0||(q0={}));function YN(t,e,n){n===void 0&&(n="/");let i=typeof e=="string"?ls(e):e,r=lT(i.pathname||"/",n);if(r==null)return null;let s=oT(t);XN(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=oL(s[a],cL(r));return o}function oT(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(He(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=Ur([i,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(He(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),oT(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:rL(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of aT(s.path))r(s,o,l)}),e}function aT(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=aT(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function XN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:sL(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const JN=/^:\w+$/,ZN=3,eL=2,tL=1,nL=10,iL=-2,K0=t=>t==="*";function rL(t,e){let n=t.split("/"),i=n.length;return n.some(K0)&&(i+=iL),e&&(i+=eL),n.filter(r=>!K0(r)).reduce((r,s)=>r+(JN.test(s)?ZN:s===""?tL:nL),i)}function sL(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function oL(t,e){let{routesMeta:n}=t,i={},r="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=r==="/"?e:e.slice(r.length)||"/",u=aL({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(i,u.params);let h=a.route;s.push({params:i,pathname:Ur([r,u.pathname]),pathnameBase:gL(Ur([r,u.pathnameBase])),route:h}),u.pathnameBase!=="/"&&(r=Ur([r,u.pathnameBase]))}return s}function aL(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=lL(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((c,u,h)=>{let{paramName:d,isOptional:f}=u;if(d==="*"){let g=a[h]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const p=a[h];return f&&!p?c[d]=void 0:c[d]=uL(p||"",d),c},{}),pathname:s,pathnameBase:o,pattern:t}}function lL(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),rd(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function cL(t){try{return decodeURI(t)}catch(e){return rd(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function uL(t,e){try{return decodeURIComponent(t)}catch(n){return rd(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function lT(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function hL(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?ls(t):t;return{pathname:n?n.startsWith("/")?n:dL(n,e):e,search:mL(i),hash:yL(r)}}function dL(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Df(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function fL(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function pL(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=ls(t):(r=Ya({},t),He(!r.pathname||!r.pathname.includes("?"),Df("?","pathname","search",r)),He(!r.pathname||!r.pathname.includes("#"),Df("#","pathname","hash",r)),He(!r.search||!r.search.includes("#"),Df("#","search","hash",r)));let s=t===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=n;else if(i){let h=e[e.length-1].replace(/^\//,"").split("/");if(o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),h.pop();r.pathname=d.join("/")}a="/"+h.join("/")}else{let h=e.length-1;if(o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),h-=1;r.pathname=d.join("/")}a=h>=0?e[h]:"/"}let l=hL(r,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Ur=t=>t.join("/").replace(/\/\/+/g,"/"),gL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),mL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,yL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function _L(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const cT=["post","put","patch","delete"];new Set(cT);const vL=["get",...cT];new Set(vL);/**
 * React Router v6.19.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sh(){return sh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},sh.apply(this,arguments)}const xy=b.createContext(null),wL=b.createContext(null),sd=b.createContext(null),od=b.createContext(null),cs=b.createContext({outlet:null,matches:[],isDataRoute:!1}),uT=b.createContext(null);function ad(){return b.useContext(od)!=null}function hT(){return ad()||He(!1),b.useContext(od).location}function dT(t){b.useContext(sd).static||b.useLayoutEffect(t)}function xi(){let{isDataRoute:t}=b.useContext(cs);return t?ML():EL()}function EL(){ad()||He(!1);let t=b.useContext(xy),{basename:e,navigator:n}=b.useContext(sd),{matches:i}=b.useContext(cs),{pathname:r}=hT(),s=JSON.stringify(fL(i).map(l=>l.pathnameBase)),o=b.useRef(!1);return dT(()=>{o.current=!0}),b.useCallback(function(l,c){if(c===void 0&&(c={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let u=pL(l,JSON.parse(s),r,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Ur([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,s,r,t])}function SL(){let{matches:t}=b.useContext(cs),e=t[t.length-1];return e?e.params:{}}function AL(t,e){return xL(t,e)}function xL(t,e,n){ad()||He(!1);let{navigator:i}=b.useContext(sd),{matches:r}=b.useContext(cs),s=r[r.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=hT(),c;if(e){var u;let g=typeof e=="string"?ls(e):e;a==="/"||(u=g.pathname)!=null&&u.startsWith(a)||He(!1),c=g}else c=l;let h=c.pathname||"/",d=a==="/"?h:h.slice(a.length)||"/",f=YN(t,{pathname:d}),p=kL(f&&f.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:Ur([a,i.encodeLocation?i.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?a:Ur([a,i.encodeLocation?i.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),r,n);return e&&p?b.createElement(od.Provider,{value:{location:sh({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Fi.Pop}},p):p}function TL(){let t=DL(),e=_L(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:r},n):null,s)}const IL=b.createElement(TL,null);class bL extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?b.createElement(cs.Provider,{value:this.props.routeContext},b.createElement(uT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function CL(t){let{routeContext:e,match:n,children:i}=t,r=b.useContext(xy);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(cs.Provider,{value:e},i)}function kL(t,e,n){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var r;if((r=n)!=null&&r.errors)t=n.matches;else return null}let s=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||He(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,c)=>{let u=l.route.id?o==null?void 0:o[l.route.id]:null,h=null;n&&(h=l.route.errorElement||IL);let d=e.concat(s.slice(0,c+1)),f=()=>{let p;return u?p=h:l.route.Component?p=b.createElement(l.route.Component,null):l.route.element?p=l.route.element:p=a,b.createElement(CL,{match:l,routeContext:{outlet:a,matches:d,isDataRoute:n!=null},children:p})};return n&&(l.route.ErrorBoundary||l.route.errorElement||c===0)?b.createElement(bL,{location:n.location,revalidation:n.revalidation,component:h,error:u,children:f(),routeContext:{outlet:null,matches:d,isDataRoute:!0}}):f()},null)}var fT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(fT||{}),oh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(oh||{});function RL(t){let e=b.useContext(xy);return e||He(!1),e}function PL(t){let e=b.useContext(wL);return e||He(!1),e}function OL(t){let e=b.useContext(cs);return e||He(!1),e}function pT(t){let e=OL(),n=e.matches[e.matches.length-1];return n.route.id||He(!1),n.route.id}function DL(){var t;let e=b.useContext(uT),n=PL(oh.UseRouteError),i=pT(oh.UseRouteError);return e||((t=n.errors)==null?void 0:t[i])}function ML(){let{router:t}=RL(fT.UseNavigateStable),e=pT(oh.UseNavigateStable),n=b.useRef(!1);return dT(()=>{n.current=!0}),b.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,sh({fromRouteId:e},s)))},[t,e])}function Ci(t){He(!1)}function NL(t){let{basename:e="/",children:n=null,location:i,navigationType:r=Fi.Pop,navigator:s,static:o=!1}=t;ad()&&He(!1);let a=e.replace(/^\/*/,"/"),l=b.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof i=="string"&&(i=ls(i));let{pathname:c="/",search:u="",hash:h="",state:d=null,key:f="default"}=i,p=b.useMemo(()=>{let g=lT(c,a);return g==null?null:{location:{pathname:g,search:u,hash:h,state:d,key:f},navigationType:r}},[a,c,u,h,d,f,r]);return p==null?null:b.createElement(sd.Provider,{value:l},b.createElement(od.Provider,{children:n,value:p}))}function LL(t){let{children:e,location:n}=t;return AL(pg(e),n)}new Promise(()=>{});function pg(t,e){e===void 0&&(e=[]);let n=[];return b.Children.forEach(t,(i,r)=>{if(!b.isValidElement(i))return;let s=[...e,r];if(i.type===b.Fragment){n.push.apply(n,pg(i.props.children,s));return}i.type!==Ci&&He(!1),!i.props.index||!i.props.children||He(!1);let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=pg(i.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.19.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const VL="startTransition",G0=ap[VL];function FL(t){let{basename:e,children:n,future:i,window:r}=t,s=b.useRef();s.current==null&&(s.current=KN({window:r,v5Compat:!0}));let o=s.current,[a,l]=b.useState({action:o.action,location:o.location}),{v7_startTransition:c}=i||{},u=b.useCallback(h=>{c&&G0?G0(()=>l(h)):l(h)},[l,c]);return b.useLayoutEffect(()=>o.listen(u),[o,u]),b.createElement(NL,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o})}var Q0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Q0||(Q0={}));var Y0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Y0||(Y0={}));var jL="firebase",BL="10.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */er(jL,BL,"app");var UL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},N,Ty=Ty||{},H=UL||self;function ld(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Vl(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function zL(t){return Object.prototype.hasOwnProperty.call(t,Mf)&&t[Mf]||(t[Mf]=++$L)}var Mf="closure_uid_"+(1e9*Math.random()>>>0),$L=0;function WL(t,e,n){return t.call.apply(t.bind,arguments)}function HL(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function _t(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_t=WL:_t=HL,_t.apply(null,arguments)}function Sc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function Ze(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(i,r,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[r].apply(i,o)}}function mr(){this.s=this.s,this.o=this.o}var qL=0;mr.prototype.s=!1;mr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),qL!=0)&&zL(this)};mr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const gT=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Iy(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function X0(t,e){for(let n=1;n<arguments.length;n++){const i=arguments[n];if(ld(i)){const r=t.length||0,s=i.length||0;t.length=r+s;for(let o=0;o<s;o++)t[r+o]=i[o]}else t.push(i)}}function vt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}vt.prototype.h=function(){this.defaultPrevented=!0};var KL=function(){if(!H.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};H.addEventListener("test",n,e),H.removeEventListener("test",n,e)}catch{}return t}();function Xa(t){return/^[\s\xa0]*$/.test(t)}function cd(){var t=H.navigator;return t&&(t=t.userAgent)?t:""}function Pn(t){return cd().indexOf(t)!=-1}function by(t){return by[" "](t),t}by[" "]=function(){};function GL(t,e){var n=BV;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var QL=Pn("Opera"),no=Pn("Trident")||Pn("MSIE"),mT=Pn("Edge"),gg=mT||no,yT=Pn("Gecko")&&!(cd().toLowerCase().indexOf("webkit")!=-1&&!Pn("Edge"))&&!(Pn("Trident")||Pn("MSIE"))&&!Pn("Edge"),YL=cd().toLowerCase().indexOf("webkit")!=-1&&!Pn("Edge");function _T(){var t=H.document;return t?t.documentMode:void 0}var mg;e:{var Nf="",Lf=function(){var t=cd();if(yT)return/rv:([^\);]+)(\)|;)/.exec(t);if(mT)return/Edge\/([\d\.]+)/.exec(t);if(no)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(YL)return/WebKit\/(\S+)/.exec(t);if(QL)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Lf&&(Nf=Lf?Lf[1]:""),no){var Vf=_T();if(Vf!=null&&Vf>parseFloat(Nf)){mg=String(Vf);break e}}mg=Nf}var yg;if(H.document&&no){var J0=_T();yg=J0||parseInt(mg,10)||void 0}else yg=void 0;var XL=yg;function Ja(t,e){if(vt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(yT){e:{try{by(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:JL[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ja.$.h.call(this)}}Ze(Ja,vt);var JL={2:"touch",3:"pen",4:"mouse"};Ja.prototype.h=function(){Ja.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Fl="closure_listenable_"+(1e6*Math.random()|0),ZL=0;function eV(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=r,this.key=++ZL,this.fa=this.ia=!1}function ud(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Cy(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function tV(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function vT(t){const e={};for(const n in t)e[n]=t[n];return e}const Z0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wT(t,e){let n,i;for(let r=1;r<arguments.length;r++){i=arguments[r];for(n in i)t[n]=i[n];for(let s=0;s<Z0.length;s++)n=Z0[s],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function hd(t){this.src=t,this.g={},this.h=0}hd.prototype.add=function(t,e,n,i,r){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=vg(t,e,i,r);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new eV(e,this.src,s,!!i,r),e.ia=n,t.push(e)),e};function _g(t,e){var n=e.type;if(n in t.g){var i=t.g[n],r=gT(i,e),s;(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(ud(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function vg(t,e,n,i){for(var r=0;r<t.length;++r){var s=t[r];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==i)return r}return-1}var ky="closure_lm_"+(1e6*Math.random()|0),Ff={};function ET(t,e,n,i,r){if(i&&i.once)return AT(t,e,n,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)ET(t,e[s],n,i,r);return null}return n=Oy(n),t&&t[Fl]?t.O(e,n,Vl(i)?!!i.capture:!!i,r):ST(t,e,n,!1,i,r)}function ST(t,e,n,i,r,s){if(!e)throw Error("Invalid event type");var o=Vl(r)?!!r.capture:!!r,a=Py(t);if(a||(t[ky]=a=new hd(t)),n=a.add(e,n,i,o,s),n.proxy)return n;if(i=nV(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)KL||(r=o),r===void 0&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(TT(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function nV(){function t(n){return e.call(t.src,t.listener,n)}const e=iV;return t}function AT(t,e,n,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)AT(t,e[s],n,i,r);return null}return n=Oy(n),t&&t[Fl]?t.P(e,n,Vl(i)?!!i.capture:!!i,r):ST(t,e,n,!0,i,r)}function xT(t,e,n,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)xT(t,e[s],n,i,r);else i=Vl(i)?!!i.capture:!!i,n=Oy(n),t&&t[Fl]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=vg(s,n,i,r),-1<n&&(ud(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Py(t))&&(e=t.g[e.toString()],t=-1,e&&(t=vg(e,n,i,r)),(n=-1<t?e[t]:null)&&Ry(n))}function Ry(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Fl])_g(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(TT(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=Py(e))?(_g(n,t),n.h==0&&(n.src=null,e[ky]=null)):ud(t)}}}function TT(t){return t in Ff?Ff[t]:Ff[t]="on"+t}function iV(t,e){if(t.fa)t=!0;else{e=new Ja(e,this);var n=t.listener,i=t.la||t.src;t.ia&&Ry(t),t=n.call(i,e)}return t}function Py(t){return t=t[ky],t instanceof hd?t:null}var jf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Oy(t){return typeof t=="function"?t:(t[jf]||(t[jf]=function(e){return t.handleEvent(e)}),t[jf])}function Je(){mr.call(this),this.i=new hd(this),this.S=this,this.J=null}Ze(Je,mr);Je.prototype[Fl]=!0;Je.prototype.removeEventListener=function(t,e,n,i){xT(this,t,e,n,i)};function ot(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,typeof e=="string")e=new vt(e,t);else if(e instanceof vt)e.target=e.target||t;else{var r=e;e=new vt(i,t),wT(e,r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];r=Ac(o,i,!0,e)&&r}if(o=e.g=t,r=Ac(o,i,!0,e)&&r,r=Ac(o,i,!1,e)&&r,n)for(s=0;s<n.length;s++)o=e.g=n[s],r=Ac(o,i,!1,e)&&r}Je.prototype.N=function(){if(Je.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)ud(n[i]);delete t.g[e],t.h--}}this.J=null};Je.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};Je.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function Ac(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&_g(t.i,o),r=a.call(l,i)!==!1&&r}}return r&&!i.defaultPrevented}var Dy=H.JSON.stringify;class rV{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function sV(){var t=My;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class oV{constructor(){this.h=this.g=null}add(e,n){const i=IT.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}}var IT=new rV(()=>new aV,t=>t.reset());class aV{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function lV(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function cV(t){H.setTimeout(()=>{throw t},0)}let Za,el=!1,My=new oV,bT=()=>{const t=H.Promise.resolve(void 0);Za=()=>{t.then(uV)}};var uV=()=>{for(var t;t=sV();){try{t.h.call(t.g)}catch(n){cV(n)}var e=IT;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}el=!1};function dd(t,e){Je.call(this),this.h=t||1,this.g=e||H,this.j=_t(this.qb,this),this.l=Date.now()}Ze(dd,Je);N=dd.prototype;N.ga=!1;N.T=null;N.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ot(this,"tick"),this.ga&&(Ny(this),this.start()))}};N.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Ny(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}N.N=function(){dd.$.N.call(this),Ny(this),delete this.g};function Ly(t,e,n){if(typeof t=="function")n&&(t=_t(t,n));else if(t&&typeof t.handleEvent=="function")t=_t(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:H.setTimeout(t,e||0)}function CT(t){t.g=Ly(()=>{t.g=null,t.i&&(t.i=!1,CT(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class hV extends mr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:CT(this)}N(){super.N(),this.g&&(H.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tl(t){mr.call(this),this.h=t,this.g={}}Ze(tl,mr);var ew=[];function kT(t,e,n,i){Array.isArray(n)||(n&&(ew[0]=n.toString()),n=ew);for(var r=0;r<n.length;r++){var s=ET(e,n[r],i||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function RT(t){Cy(t.g,function(e,n){this.g.hasOwnProperty(n)&&Ry(e)},t),t.g={}}tl.prototype.N=function(){tl.$.N.call(this),RT(this)};tl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function fd(){this.g=!0}fd.prototype.Ea=function(){this.g=!1};function dV(t,e,n,i,r,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+`
`+n+`
`+o})}function fV(t,e,n,i,r,s,o){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+`
`+n+`
`+s+" "+o})}function Ds(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+gV(t,n)+(i?" "+i:"")})}function pV(t,e){t.info(function(){return"TIMEOUT: "+e})}fd.prototype.info=function(){};function gV(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<r.length;o++)r[o]=""}}}}return Dy(n)}catch{return e}}var us={},tw=null;function pd(){return tw=tw||new Je}us.Ta="serverreachability";function PT(t){vt.call(this,us.Ta,t)}Ze(PT,vt);function nl(t){const e=pd();ot(e,new PT(e))}us.STAT_EVENT="statevent";function OT(t,e){vt.call(this,us.STAT_EVENT,t),this.stat=e}Ze(OT,vt);function Tt(t){const e=pd();ot(e,new OT(e,t))}us.Ua="timingevent";function DT(t,e){vt.call(this,us.Ua,t),this.size=e}Ze(DT,vt);function jl(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return H.setTimeout(function(){t()},e)}var gd={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},MT={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Vy(){}Vy.prototype.h=null;function nw(t){return t.h||(t.h=t.i())}function NT(){}var Bl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Fy(){vt.call(this,"d")}Ze(Fy,vt);function jy(){vt.call(this,"c")}Ze(jy,vt);var wg;function md(){}Ze(md,Vy);md.prototype.g=function(){return new XMLHttpRequest};md.prototype.i=function(){return{}};wg=new md;function Ul(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new tl(this),this.P=mV,t=gg?125:void 0,this.V=new dd(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new LT}function LT(){this.i=null,this.g="",this.h=!1}var mV=45e3,VT={},Eg={};N=Ul.prototype;N.setTimeout=function(t){this.P=t};function Sg(t,e,n){t.L=1,t.A=_d(gi(e)),t.u=n,t.S=!0,FT(t,null)}function FT(t,e){t.G=Date.now(),zl(t),t.B=gi(t.A);var n=t.B,i=t.W;Array.isArray(i)||(i=[String(i)]),qT(n.i,"t",i),t.o=0,n=t.l.J,t.h=new LT,t.g=fI(t.l,n?e:null,!t.u),0<t.O&&(t.M=new hV(_t(t.Pa,t,t.g),t.O)),kT(t.U,t.g,"readystatechange",t.nb),e=t.I?vT(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),nl(),dV(t.j,t.v,t.B,t.m,t.W,t.u)}N.nb=function(t){t=t.target;const e=this.M;e&&Dn(t)==3?e.l():this.Pa(t)};N.Pa=function(t){try{if(t==this.g)e:{const u=Dn(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||gg||this.g&&(this.h.h||this.g.ja()||ow(this.g)))){this.J||u!=4||e==7||(e==8||0>=h?nl(3):nl(2)),yd(this);var n=this.g.da();this.ca=n;t:if(jT(this)){var i=ow(this.g);t="";var r=i.length,s=Dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mr(this),_a(this);var o="";break t}this.h.i=new H.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,fV(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Xa(a)){var c=a;break t}}c=null}if(n=c)Ds(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ag(this,n);else{this.i=!1,this.s=3,Tt(12),Mr(this),_a(this);break e}}this.S?(BT(this,u,o),gg&&this.i&&u==3&&(kT(this.U,this.V,"tick",this.mb),this.V.start())):(Ds(this.j,this.m,o,null),Ag(this,o)),u==4&&Mr(this),this.i&&!this.J&&(u==4?cI(this.l,this):(this.i=!1,zl(this)))}else VV(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Tt(12)):(this.s=0,Tt(13)),Mr(this),_a(this)}}}catch{}finally{}};function jT(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function BT(t,e,n){let i=!0,r;for(;!t.J&&t.o<n.length;)if(r=yV(t,n),r==Eg){e==4&&(t.s=4,Tt(14),i=!1),Ds(t.j,t.m,null,"[Incomplete Response]");break}else if(r==VT){t.s=4,Tt(15),Ds(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else Ds(t.j,t.m,r,null),Ag(t,r);jT(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Tt(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Hy(e),e.M=!0,Tt(11))):(Ds(t.j,t.m,n,"[Invalid Chunked Response]"),Mr(t),_a(t))}N.mb=function(){if(this.g){var t=Dn(this.g),e=this.g.ja();this.o<e.length&&(yd(this),BT(this,t,e),this.i&&t!=4&&zl(this))}};function yV(t,e){var n=t.o,i=e.indexOf(`
`,n);return i==-1?Eg:(n=Number(e.substring(n,i)),isNaN(n)?VT:(i+=1,i+n>e.length?Eg:(e=e.slice(i,i+n),t.o=i+n,e)))}N.cancel=function(){this.J=!0,Mr(this)};function zl(t){t.Y=Date.now()+t.P,UT(t,t.P)}function UT(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=jl(_t(t.lb,t),e)}function yd(t){t.C&&(H.clearTimeout(t.C),t.C=null)}N.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(pV(this.j,this.B),this.L!=2&&(nl(),Tt(17)),Mr(this),this.s=2,_a(this)):UT(this,this.Y-t)};function _a(t){t.l.H==0||t.J||cI(t.l,t)}function Mr(t){yd(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Ny(t.V),RT(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Ag(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||xg(n.i,t))){if(!t.K&&xg(n.i,t)&&n.H==3){try{var i=n.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)ch(n),Sd(n);else break e;Wy(n),Tt(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&n.A==0&&!n.v&&(n.v=jl(_t(n.ib,n),6e3));if(1>=QT(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Nr(n,11)}else if((t.K||n.g==t)&&ch(n),!Xa(e))for(r=n.Ja.g.parse(e),e=0;e<r.length;e++){let c=r[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const h=c[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const d=c[5];d!=null&&typeof d=="number"&&0<d&&(i=1.5*d,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=i.i;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(By(s,s.h),s.h=null))}if(i.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(i.Da=g,ve(i.I,i.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var o=t;if(i.wa=dI(i,i.J?i.pa:null,i.Y),o.K){YT(i.i,o);var a=o,l=i.L;l&&a.setTimeout(l),a.C&&(yd(a),zl(a)),i.g=o}else aI(i);0<n.j.length&&Ad(n)}else c[0]!="stop"&&c[0]!="close"||Nr(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Nr(n,7):$y(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}nl(4)}catch{}}function _V(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(ld(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function vV(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(ld(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const i in t)e[n++]=i;return e}}}function zT(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(ld(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=vV(t),i=_V(t),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],n&&n[s],t)}var $T=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wV(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var s=t[n].substring(0,i);r=t[n].substring(i+1)}else s=t[n];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function zr(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof zr){this.h=t.h,ah(this,t.j),this.s=t.s,this.g=t.g,lh(this,t.m),this.l=t.l;var e=t.i,n=new il;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),iw(this,n),this.o=t.o}else t&&(e=String(t).match($T))?(this.h=!1,ah(this,e[1]||"",!0),this.s=Xo(e[2]||""),this.g=Xo(e[3]||"",!0),lh(this,e[4]),this.l=Xo(e[5]||"",!0),iw(this,e[6]||"",!0),this.o=Xo(e[7]||"")):(this.h=!1,this.i=new il(null,this.h))}zr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Jo(e,rw,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Jo(e,rw,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Jo(n,n.charAt(0)=="/"?AV:SV,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Jo(n,TV)),t.join("")};function gi(t){return new zr(t)}function ah(t,e,n){t.j=n?Xo(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function lh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function iw(t,e,n){e instanceof il?(t.i=e,IV(t.i,t.h)):(n||(e=Jo(e,xV)),t.i=new il(e,t.h))}function ve(t,e,n){t.i.set(e,n)}function _d(t){return ve(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Xo(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Jo(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,EV),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function EV(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var rw=/[#\/\?@]/g,SV=/[#\?:]/g,AV=/[#\?]/g,xV=/[#\?@]/g,TV=/#/g;function il(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function yr(t){t.g||(t.g=new Map,t.h=0,t.i&&wV(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}N=il.prototype;N.add=function(t,e){yr(this),this.i=null,t=So(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function WT(t,e){yr(t),e=So(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function HT(t,e){return yr(t),e=So(t,e),t.g.has(e)}N.forEach=function(t,e){yr(this),this.g.forEach(function(n,i){n.forEach(function(r){t.call(e,r,i,this)},this)},this)};N.ta=function(){yr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){const r=t[i];for(let s=0;s<r.length;s++)n.push(e[i])}return n};N.Z=function(t){yr(this);let e=[];if(typeof t=="string")HT(this,t)&&(e=e.concat(this.g.get(So(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};N.set=function(t,e){return yr(this),this.i=null,t=So(this,t),HT(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};N.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function qT(t,e,n){WT(t,e),0<n.length&&(t.i=null,t.g.set(So(t,e),Iy(n)),t.h+=n.length)}N.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];const s=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var r=s;o[i]!==""&&(r+="="+encodeURIComponent(String(o[i]))),t.push(r)}}return this.i=t.join("&")};function So(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function IV(t,e){e&&!t.j&&(yr(t),t.i=null,t.g.forEach(function(n,i){var r=i.toLowerCase();i!=r&&(WT(this,i),qT(this,r,n))},t)),t.j=e}var bV=class{constructor(t,e){this.g=t,this.map=e}};function KT(t){this.l=t||CV,H.PerformanceNavigationTiming?(t=H.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(H.g&&H.g.Ka&&H.g.Ka()&&H.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var CV=10;function GT(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function QT(t){return t.h?1:t.g?t.g.size:0}function xg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function By(t,e){t.g?t.g.add(e):t.h=e}function YT(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}KT.prototype.cancel=function(){if(this.i=XT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function XT(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Iy(t.i)}var kV=class{stringify(t){return H.JSON.stringify(t,void 0)}parse(t){return H.JSON.parse(t,void 0)}};function RV(){this.g=new kV}function PV(t,e,n){const i=n||"";try{zT(t,function(r,s){let o=r;Vl(r)&&(o=Dy(r)),e.push(i+s+"="+encodeURIComponent(o))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function OV(t,e){const n=new fd;if(H.Image){const i=new Image;i.onload=Sc(xc,n,i,"TestLoadImage: loaded",!0,e),i.onerror=Sc(xc,n,i,"TestLoadImage: error",!1,e),i.onabort=Sc(xc,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=Sc(xc,n,i,"TestLoadImage: timeout",!1,e),H.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function xc(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function vd(t){this.l=t.ec||null,this.j=t.ob||!1}Ze(vd,Vy);vd.prototype.g=function(){return new wd(this.l,this.j)};vd.prototype.i=function(t){return function(){return t}}({});function wd(t,e){Je.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Uy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ze(wd,Je);var Uy=0;N=wd.prototype;N.open=function(t,e){if(this.readyState!=Uy)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,rl(this)};N.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||H).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$l(this)),this.readyState=Uy};N.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,rl(this)),this.g&&(this.readyState=3,rl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof H.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;JT(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function JT(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}N.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?$l(this):rl(this),this.readyState==3&&JT(this)}};N.Za=function(t){this.g&&(this.response=this.responseText=t,$l(this))};N.Ya=function(t){this.g&&(this.response=t,$l(this))};N.ka=function(){this.g&&$l(this)};function $l(t){t.readyState=4,t.l=null,t.j=null,t.A=null,rl(t)}N.setRequestHeader=function(t,e){this.v.append(t,e)};N.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};N.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function rl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(wd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var DV=H.JSON.parse;function Me(t){Je.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ZT,this.L=this.M=!1}Ze(Me,Je);var ZT="",MV=/^https?$/i,NV=["POST","PUT"];N=Me.prototype;N.Oa=function(t){this.M=t};N.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():wg.g(),this.C=this.u?nw(this.u):nw(wg),this.g.onreadystatechange=_t(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){sw(this,s);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const s of i.keys())n.set(s,i.get(s));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),r=H.FormData&&t instanceof H.FormData,!(0<=gT(NV,e))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{nI(this),0<this.B&&((this.L=LV(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_t(this.ua,this)):this.A=Ly(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){sw(this,s)}};function LV(t){return no&&typeof t.timeout=="number"&&t.ontimeout!==void 0}N.ua=function(){typeof Ty<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ot(this,"timeout"),this.abort(8))};function sw(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,eI(t),Ed(t)}function eI(t){t.F||(t.F=!0,ot(t,"complete"),ot(t,"error"))}N.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ot(this,"complete"),ot(this,"abort"),Ed(this))};N.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ed(this,!0)),Me.$.N.call(this)};N.La=function(){this.s||(this.G||this.v||this.l?tI(this):this.kb())};N.kb=function(){tI(this)};function tI(t){if(t.h&&typeof Ty<"u"&&(!t.C[1]||Dn(t)!=4||t.da()!=2)){if(t.v&&Dn(t)==4)Ly(t.La,0,t);else if(ot(t,"readystatechange"),Dn(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=o===0){var r=String(t.I).match($T)[1]||null;!r&&H.self&&H.self.location&&(r=H.self.location.protocol.slice(0,-1)),i=!MV.test(r?r.toLowerCase():"")}n=i}if(n)ot(t,"complete"),ot(t,"success");else{t.m=6;try{var s=2<Dn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",eI(t)}}finally{Ed(t)}}}}function Ed(t,e){if(t.g){nI(t);const n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||ot(t,"ready");try{n.onreadystatechange=i}catch{}}}function nI(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(H.clearTimeout(t.A),t.A=null)}N.isActive=function(){return!!this.g};function Dn(t){return t.g?t.g.readyState:0}N.da=function(){try{return 2<Dn(this)?this.g.status:-1}catch{return-1}};N.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};N.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),DV(e)}};function ow(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case ZT:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function VV(t){const e={};t=(t.g&&2<=Dn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<t.length;i++){if(Xa(t[i]))continue;var n=lV(t[i]);const r=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[r]||[];e[r]=s,s.push(n)}tV(e,function(i){return i.join(", ")})}N.Ia=function(){return this.m};N.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function iI(t){let e="";return Cy(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function zy(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=iI(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ve(t,e,n))}function Vo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function rI(t){this.Ga=0,this.j=[],this.l=new fd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Vo("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Vo("baseRetryDelayMs",5e3,t),this.hb=Vo("retryDelaySeedMs",1e4,t),this.eb=Vo("forwardChannelMaxRetries",2,t),this.xa=Vo("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new KT(t&&t.concurrentRequestLimit),this.Ja=new RV,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}N=rI.prototype;N.ra=8;N.H=1;function $y(t){if(sI(t),t.H==3){var e=t.W++,n=gi(t.I);if(ve(n,"SID",t.K),ve(n,"RID",e),ve(n,"TYPE","terminate"),Wl(t,n),e=new Ul(t,t.l,e),e.L=2,e.A=_d(gi(n)),n=!1,H.navigator&&H.navigator.sendBeacon)try{n=H.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&H.Image&&(new Image().src=e.A,n=!0),n||(e.g=fI(e.l,null),e.g.ha(e.A)),e.G=Date.now(),zl(e)}hI(t)}function Sd(t){t.g&&(Hy(t),t.g.cancel(),t.g=null)}function sI(t){Sd(t),t.u&&(H.clearTimeout(t.u),t.u=null),ch(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&H.clearTimeout(t.m),t.m=null)}function Ad(t){if(!GT(t.i)&&!t.m){t.m=!0;var e=t.Na;Za||bT(),el||(Za(),el=!0),My.add(e,t),t.C=0}}function FV(t,e){return QT(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=jl(_t(t.Na,t,e),uI(t,t.C)),t.C++,!0)}N.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const r=new Ul(this,this.l,t);let s=this.s;if(this.U&&(s?(s=vT(s),wT(s,this.U)):s=this.U),this.o!==null||this.O||(r.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=oI(this,r,e),n=gi(this.I),ve(n,"RID",t),ve(n,"CVER",22),this.F&&ve(n,"X-HTTP-Session-Id",this.F),Wl(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(iI(s)))+"&"+e:this.o&&zy(n,this.o,s)),By(this.i,r),this.bb&&ve(n,"TYPE","init"),this.P?(ve(n,"$req",e),ve(n,"SID","null"),r.aa=!0,Sg(r,n,null)):Sg(r,n,e),this.H=2}}else this.H==3&&(t?aw(this,t):this.j.length==0||GT(this.i)||aw(this))};function aw(t,e){var n;e?n=e.m:n=t.W++;const i=gi(t.I);ve(i,"SID",t.K),ve(i,"RID",n),ve(i,"AID",t.V),Wl(t,i),t.o&&t.s&&zy(i,t.o,t.s),n=new Ul(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=oI(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),By(t.i,n),Sg(n,i,e)}function Wl(t,e){t.na&&Cy(t.na,function(n,i){ve(e,i,n)}),t.h&&zT({},function(n,i){ve(e,i,n)})}function oI(t,e,n){n=Math.min(t.j.length,n);var i=t.h?_t(t.h.Va,t.h,t):null;e:{var r=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=r[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let c=r[l].g;const u=r[l].map;if(c-=s,0>c)s=Math.max(0,r[l].g-100),a=!1;else try{PV(u,o,"req"+c+"_")}catch{i&&i(u)}}if(a){i=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,i}function aI(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Za||bT(),el||(Za(),el=!0),My.add(e,t),t.A=0}}function Wy(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=jl(_t(t.Ma,t),uI(t,t.A)),t.A++,!0)}N.Ma=function(){if(this.u=null,lI(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=jl(_t(this.jb,this),t)}};N.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Tt(10),Sd(this),lI(this))};function Hy(t){t.B!=null&&(H.clearTimeout(t.B),t.B=null)}function lI(t){t.g=new Ul(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=gi(t.wa);ve(e,"RID","rpc"),ve(e,"SID",t.K),ve(e,"AID",t.V),ve(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ve(e,"TO",t.qa),ve(e,"TYPE","xmlhttp"),Wl(t,e),t.o&&t.s&&zy(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=_d(gi(e)),n.u=null,n.S=!0,FT(n,t)}N.ib=function(){this.v!=null&&(this.v=null,Sd(this),Wy(this),Tt(19))};function ch(t){t.v!=null&&(H.clearTimeout(t.v),t.v=null)}function cI(t,e){var n=null;if(t.g==e){ch(t),Hy(t),t.g=null;var i=2}else if(xg(t.i,e))n=e.F,YT(t.i,e),i=1;else return;if(t.H!=0){if(e.i)if(i==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var r=t.C;i=pd(),ot(i,new DT(i,n)),Ad(t)}else aI(t);else if(r=e.s,r==3||r==0&&0<e.ca||!(i==1&&FV(t,e)||i==2&&Wy(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:Nr(t,5);break;case 4:Nr(t,10);break;case 3:Nr(t,6);break;default:Nr(t,2)}}}function uI(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Nr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var i=_t(t.pb,t);n||(n=new zr("//www.google.com/images/cleardot.gif"),H.location&&H.location.protocol=="http"||ah(n,"https"),_d(n)),OV(n.toString(),i)}else Tt(2);t.H=0,t.h&&t.h.za(e),hI(t),sI(t)}N.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Tt(2)):(this.l.info("Failed to ping google.com"),Tt(1))};function hI(t){if(t.H=0,t.ma=[],t.h){const e=XT(t.i);(e.length!=0||t.j.length!=0)&&(X0(t.ma,e),X0(t.ma,t.j),t.i.i.length=0,Iy(t.j),t.j.length=0),t.h.ya()}}function dI(t,e,n){var i=n instanceof zr?gi(n):new zr(n);if(i.g!="")e&&(i.g=e+"."+i.g),lh(i,i.m);else{var r=H.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new zr(null);i&&ah(s,i),e&&(s.g=e),r&&lh(s,r),n&&(s.l=n),i=s}return n=t.F,e=t.Da,n&&e&&ve(i,n,e),ve(i,"VER",t.ra),Wl(t,i),i}function fI(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Me(new vd({ob:n})):new Me(t.va),e.Oa(t.J),e}N.isActive=function(){return!!this.h&&this.h.isActive(this)};function pI(){}N=pI.prototype;N.Ba=function(){};N.Aa=function(){};N.za=function(){};N.ya=function(){};N.isActive=function(){return!0};N.Va=function(){};function uh(){if(no&&!(10<=Number(XL)))throw Error("Environmental error: no available transport.")}uh.prototype.g=function(t,e){return new Qt(t,e)};function Qt(t,e){Je.call(this),this.g=new rI(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Xa(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Xa(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ao(this)}Ze(Qt,Je);Qt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Tt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=dI(t,null,t.Y),Ad(t)};Qt.prototype.close=function(){$y(this.g)};Qt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Dy(t),t=n);e.j.push(new bV(e.fb++,t)),e.H==3&&Ad(e)};Qt.prototype.N=function(){this.g.h=null,delete this.j,$y(this.g),delete this.g,Qt.$.N.call(this)};function gI(t){Fy.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ze(gI,Fy);function mI(){jy.call(this),this.status=1}Ze(mI,jy);function Ao(t){this.g=t}Ze(Ao,pI);Ao.prototype.Ba=function(){ot(this.g,"a")};Ao.prototype.Aa=function(t){ot(this.g,new gI(t))};Ao.prototype.za=function(t){ot(this.g,new mI)};Ao.prototype.ya=function(){ot(this.g,"b")};function jV(){this.blockSize=-1}function Sn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ze(Sn,jV);Sn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Bf(t,e,n){n||(n=0);var i=Array(16);if(typeof e=="string")for(var r=0;16>r;++r)i[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var s=t.g[3],o=e+(s^n&(r^s))+i[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(r^e&(n^r))+i[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(n^s&(e^n))+i[2]+606105819&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(e^r&(s^e))+i[3]+3250441966&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(s^n&(r^s))+i[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(r^e&(n^r))+i[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(n^s&(e^n))+i[6]+2821735955&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(e^r&(s^e))+i[7]+4249261313&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(s^n&(r^s))+i[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(r^e&(n^r))+i[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(n^s&(e^n))+i[10]+4294925233&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(e^r&(s^e))+i[11]+2304563134&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(s^n&(r^s))+i[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(r^e&(n^r))+i[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(n^s&(e^n))+i[14]+2792965006&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(e^r&(s^e))+i[15]+1236535329&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(r^s&(n^r))+i[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(e^n))+i[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(s^e))+i[11]+643717713&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(r^s))+i[0]+3921069994&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^s&(n^r))+i[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(e^n))+i[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(s^e))+i[15]+3634488961&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(r^s))+i[4]+3889429448&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^s&(n^r))+i[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(e^n))+i[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(s^e))+i[3]+4107603335&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(r^s))+i[8]+1163531501&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^s&(n^r))+i[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(e^n))+i[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(s^e))+i[7]+1735328473&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(r^s))+i[12]+2368359562&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(n^r^s)+i[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^r)+i[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^n)+i[11]+1839030562&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^e)+i[14]+4259657740&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^s)+i[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^r)+i[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^n)+i[7]+4139469664&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^e)+i[10]+3200236656&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^s)+i[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^r)+i[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^n)+i[3]+3572445317&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^e)+i[6]+76029189&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^s)+i[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^r)+i[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^n)+i[15]+530742520&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^e)+i[2]+3299628645&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(r^(n|~s))+i[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~r))+i[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~n))+i[14]+2878612391&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~e))+i[5]+4237533241&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~s))+i[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~r))+i[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~n))+i[10]+4293915773&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~e))+i[1]+2240044497&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~s))+i[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~r))+i[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~n))+i[6]+2734768916&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~e))+i[13]+1309151649&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~s))+i[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~r))+i[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~n))+i[2]+718787259&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+s&4294967295}Sn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,i=this.m,r=this.h,s=0;s<e;){if(r==0)for(;s<=n;)Bf(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(i[r++]=t.charCodeAt(s++),r==this.blockSize){Bf(this,i),r=0;break}}else for(;s<e;)if(i[r++]=t[s++],r==this.blockSize){Bf(this,i),r=0;break}}this.h=r,this.i+=e};Sn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};function ue(t,e){this.h=e;for(var n=[],i=!0,r=t.length-1;0<=r;r--){var s=t[r]|0;i&&s==e||(n[r]=s,i=!1)}this.g=n}var BV={};function qy(t){return-128<=t&&128>t?GL(t,function(e){return new ue([e|0],0>e?-1:0)}):new ue([t|0],0>t?-1:0)}function Mn(t){if(isNaN(t)||!isFinite(t))return zs;if(0>t)return it(Mn(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=Tg;return new ue(e,0)}function yI(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return it(yI(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Mn(Math.pow(e,8)),i=zs,r=0;r<t.length;r+=8){var s=Math.min(8,t.length-r),o=parseInt(t.substring(r,r+s),e);8>s?(s=Mn(Math.pow(e,s)),i=i.R(s).add(Mn(o))):(i=i.R(n),i=i.add(Mn(o)))}return i}var Tg=4294967296,zs=qy(0),Ig=qy(1),lw=qy(16777216);N=ue.prototype;N.ea=function(){if(rn(this))return-it(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:Tg+i)*e,e*=Tg}return t};N.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(ri(this))return"0";if(rn(this))return"-"+it(this).toString(t);for(var e=Mn(Math.pow(t,6)),n=this,i="";;){var r=dh(n,e).g;n=hh(n,r.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=r,ri(n))return s+i;for(;6>s.length;)s="0"+s;i=s+i}};N.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function ri(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function rn(t){return t.h==-1}N.X=function(t){return t=hh(this,t),rn(t)?-1:ri(t)?0:1};function it(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new ue(n,~t.h).add(Ig)}N.abs=function(){return rn(this)?it(this):this};N.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,r=0;r<=e;r++){var s=i+(this.D(r)&65535)+(t.D(r)&65535),o=(s>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);i=o>>>16,s&=65535,o&=65535,n[r]=o<<16|s}return new ue(n,n[n.length-1]&-2147483648?-1:0)};function hh(t,e){return t.add(it(e))}N.R=function(t){if(ri(this)||ri(t))return zs;if(rn(this))return rn(t)?it(this).R(it(t)):it(it(this).R(t));if(rn(t))return it(this.R(it(t)));if(0>this.X(lw)&&0>t.X(lw))return Mn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<t.g.length;r++){var s=this.D(i)>>>16,o=this.D(i)&65535,a=t.D(r)>>>16,l=t.D(r)&65535;n[2*i+2*r]+=o*l,Tc(n,2*i+2*r),n[2*i+2*r+1]+=s*l,Tc(n,2*i+2*r+1),n[2*i+2*r+1]+=o*a,Tc(n,2*i+2*r+1),n[2*i+2*r+2]+=s*a,Tc(n,2*i+2*r+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new ue(n,0)};function Tc(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Fo(t,e){this.g=t,this.h=e}function dh(t,e){if(ri(e))throw Error("division by zero");if(ri(t))return new Fo(zs,zs);if(rn(t))return e=dh(it(t),e),new Fo(it(e.g),it(e.h));if(rn(e))return e=dh(t,it(e)),new Fo(it(e.g),e.h);if(30<t.g.length){if(rn(t)||rn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Ig,i=e;0>=i.X(t);)n=cw(n),i=cw(i);var r=gs(n,1),s=gs(i,1);for(i=gs(i,2),n=gs(n,2);!ri(i);){var o=s.add(i);0>=o.X(t)&&(r=r.add(n),s=o),i=gs(i,1),n=gs(n,1)}return e=hh(t,r.R(e)),new Fo(r,e)}for(r=zs;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),s=Mn(n),o=s.R(e);rn(o)||0<o.X(t);)n-=i,s=Mn(n),o=s.R(e);ri(s)&&(s=Ig),r=r.add(s),t=hh(t,o)}return new Fo(r,t)}N.gb=function(t){return dh(this,t).h};N.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new ue(n,this.h&t.h)};N.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new ue(n,this.h|t.h)};N.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new ue(n,this.h^t.h)};function cw(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new ue(n,t.h)}function gs(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,r=[],s=0;s<i;s++)r[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new ue(r,t.h)}uh.prototype.createWebChannel=uh.prototype.g;Qt.prototype.send=Qt.prototype.u;Qt.prototype.open=Qt.prototype.m;Qt.prototype.close=Qt.prototype.close;gd.NO_ERROR=0;gd.TIMEOUT=8;gd.HTTP_ERROR=6;MT.COMPLETE="complete";NT.EventType=Bl;Bl.OPEN="a";Bl.CLOSE="b";Bl.ERROR="c";Bl.MESSAGE="d";Je.prototype.listen=Je.prototype.O;Me.prototype.listenOnce=Me.prototype.P;Me.prototype.getLastError=Me.prototype.Sa;Me.prototype.getLastErrorCode=Me.prototype.Ia;Me.prototype.getStatus=Me.prototype.da;Me.prototype.getResponseJson=Me.prototype.Wa;Me.prototype.getResponseText=Me.prototype.ja;Me.prototype.send=Me.prototype.ha;Me.prototype.setWithCredentials=Me.prototype.Oa;Sn.prototype.digest=Sn.prototype.l;Sn.prototype.reset=Sn.prototype.reset;Sn.prototype.update=Sn.prototype.j;ue.prototype.add=ue.prototype.add;ue.prototype.multiply=ue.prototype.R;ue.prototype.modulo=ue.prototype.gb;ue.prototype.compare=ue.prototype.X;ue.prototype.toNumber=ue.prototype.ea;ue.prototype.toString=ue.prototype.toString;ue.prototype.getBits=ue.prototype.D;ue.fromNumber=Mn;ue.fromString=yI;var UV=function(){return new uh},zV=function(){return pd()},Uf=gd,$V=MT,WV=us,uw={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ic=NT,HV=Me,qV=Sn,$s=ue;const hw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pt.UNAUTHENTICATED=new pt(null),pt.GOOGLE_CREDENTIALS=new pt("google-credentials-uid"),pt.FIRST_PARTY=new pt("first-party-uid"),pt.MOCK_USER=new pt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xo="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es=new uy("@firebase/firestore");function jo(){return es.logLevel}function F(t,...e){if(es.logLevel<=ee.DEBUG){const n=e.map(Ky);es.debug(`Firestore (${xo}): ${t}`,...n)}}function mi(t,...e){if(es.logLevel<=ee.ERROR){const n=e.map(Ky);es.error(`Firestore (${xo}): ${t}`,...n)}}function io(t,...e){if(es.logLevel<=ee.WARN){const n=e.map(Ky);es.warn(`Firestore (${xo}): ${t}`,...n)}}function Ky(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $(t="Unexpected state"){const e=`FIRESTORE (${xo}) INTERNAL ASSERTION FAILED: `+t;throw mi(e),new Error(e)}function ge(t,e){t||$()}function Q(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class V extends wi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(pt.UNAUTHENTICATED))}shutdown(){}}class GV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class QV{constructor(e){this.t=e,this.currentUser=pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i;const r=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new tr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new tr,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new tr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ge(typeof i.accessToken=="string"),new _I(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ge(e===null||typeof e=="string"),new pt(e)}}class YV{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=pt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class XV{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new YV(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class JV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZV{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const i=s=>{s.error!=null&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,F("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ge(typeof n.token=="string"),this.R=n.token,new JV(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=eF(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%e.length))}return i}}function oe(t,e){return t<e?-1:t>e?1:0}function ro(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new V(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new V(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new V(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qe.fromMillis(Date.now())}static fromDate(e){return qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new qe(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?oe(this.nanoseconds,e.nanoseconds):oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.timestamp=e}static fromTimestamp(e){return new q(e)}static min(){return new q(new qe(0,0))}static max(){return new q(new qe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,n,i){n===void 0?n=0:n>e.length&&$(),i===void 0?i=e.length-n:i>e.length-n&&$(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return sl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof sl?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const s=e.get(r),o=n.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class we extends sl{construct(e,n,i){return new we(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new V(C.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new we(n)}static emptyPath(){return new we([])}}const tF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rt extends sl{construct(e,n,i){return new rt(e,n,i)}static isValidIdentifier(e){return tF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new rt(["__name__"])}static fromServerFormat(e){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new V(C.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new V(C.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new V(C.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new V(C.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rt(n)}static emptyPath(){return new rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.path=e}static fromPath(e){return new B(we.fromString(e))}static fromName(e){return new B(we.fromString(e).popFirst(5))}static empty(){return new B(we.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&we.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return we.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new B(new we(e.slice()))}}function nF(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=q.fromTimestamp(i===1e9?new qe(n+1,0):new qe(n,i));return new or(r,B.empty(),e)}function iF(t){return new or(t.readTime,t.key,-1)}class or{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new or(q.min(),B.empty(),-1)}static max(){return new or(q.max(),B.empty(),-1)}}function rF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=B.comparator(t.documentKey,e.documentKey),n!==0?n:oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hl(t){if(t.code!==C.FAILED_PRECONDITION||t.message!==sF)throw t;F("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&$(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new k((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof k?n:k.resolve(n)}catch(n){return k.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):k.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):k.reject(n)}static resolve(e){return new k((n,i)=>{n(e)})}static reject(e){return new k((n,i)=>{i(e)})}static waitFor(e){return new k((n,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},l=>i(l))}),o=!0,s===r&&n()})}static or(e){let n=k.resolve(!1);for(const i of e)n=n.next(r=>r?k.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new k((i,r)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===s&&i(o)},u=>r(u))}})}static doWhile(e,n){return new k((i,r)=>{const s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}}function ql(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.se(i),this.oe=i=>n.writeSequenceNumber(i))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Gy._e=-1;function xd(t){return t==null}function fh(t){return t===0&&1/t==-1/0}function aF(t){return typeof t=="number"&&Number.isInteger(t)&&!fh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function hs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function wI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e,n){this.comparator=e,this.root=n||nt.EMPTY}insert(e,n){return new Re(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nt.BLACK,null,null))}remove(e){return new Re(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bc(this.root,e,this.comparator,!0)}}class bc{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nt{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??nt.RED,this.left=r??nt.EMPTY,this.right=s??nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new nt(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return nt.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw $();const e=this.left.check();if(e!==this.right.check())throw $();return e+(this.isRed()?0:1)}}nt.EMPTY=null,nt.RED=!0,nt.BLACK=!1;nt.EMPTY=new class{constructor(){this.size=0}get key(){throw $()}get value(){throw $()}get color(){throw $()}get left(){throw $()}get right(){throw $()}copy(e,n,i,r,s){return this}insert(e,n,i){return new nt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.comparator=e,this.data=new Re(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new fw(this.data.getIterator())}getIteratorFrom(e){return new fw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof at)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new at(this.comparator);return n.data=e,n}}class fw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.fields=e,e.sort(rt.comparator)}static empty(){return new Wt([])}unionWith(e){let n=new at(rt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Wt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ro(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new EI("Invalid base64 string: "+s):s}}(e);return new St(n)}static fromUint8Array(e){const n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new St(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}St.EMPTY_BYTE_STRING=new St("");const lF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ar(t){if(ge(!!t),typeof t=="string"){let e=0;const n=lF.exec(t);if(ge(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Fe(t.seconds),nanos:Fe(t.nanos)}}function Fe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ts(t){return typeof t=="string"?St.fromBase64String(t):St.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Yy(t){const e=t.mapValue.fields.__previous_value__;return Qy(e)?Yy(e):e}function ol(t){const e=ar(t.mapValue.fields.__local_write_time__.timestampValue);return new qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(e,n,i,r,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class al{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new al("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof al&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ns(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Qy(t)?4:uF(t)?9007199254740991:10:$()}function $n(t,e){if(t===e)return!0;const n=ns(t);if(n!==ns(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ol(t).isEqual(ol(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=ar(r.timestampValue),a=ar(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return ts(r.bytesValue).isEqual(ts(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return Fe(r.geoPointValue.latitude)===Fe(s.geoPointValue.latitude)&&Fe(r.geoPointValue.longitude)===Fe(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Fe(r.integerValue)===Fe(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=Fe(r.doubleValue),a=Fe(s.doubleValue);return o===a?fh(o)===fh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ro(t.arrayValue.values||[],e.arrayValue.values||[],$n);case 10:return function(r,s){const o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(dw(o)!==dw(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!$n(o[l],a[l])))return!1;return!0}(t,e);default:return $()}}function ll(t,e){return(t.values||[]).find(n=>$n(n,e))!==void 0}function so(t,e){if(t===e)return 0;const n=ns(t),i=ns(e);if(n!==i)return oe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return oe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Fe(s.integerValue||s.doubleValue),l=Fe(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return pw(t.timestampValue,e.timestampValue);case 4:return pw(ol(t),ol(e));case 5:return oe(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ts(s),l=ts(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=oe(a[c],l[c]);if(u!==0)return u}return oe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=oe(Fe(s.latitude),Fe(o.latitude));return a!==0?a:oe(Fe(s.longitude),Fe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=so(a[c],l[c]);if(u)return u}return oe(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Cc.mapValue&&o===Cc.mapValue)return 0;if(s===Cc.mapValue)return 1;if(o===Cc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const d=oe(l[h],u[h]);if(d!==0)return d;const f=so(a[l[h]],c[u[h]]);if(f!==0)return f}return oe(l.length,u.length)}(t.mapValue,e.mapValue);default:throw $()}}function pw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return oe(t,e);const n=ar(t),i=ar(e),r=oe(n.seconds,i.seconds);return r!==0?r:oe(n.nanos,i.nanos)}function oo(t){return bg(t)}function bg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=ar(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ts(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return B.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=bg(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${bg(n.fields[o])}`;return r+"}"}(t.mapValue):$()}function gw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Cg(t){return!!t&&"integerValue"in t}function Xy(t){return!!t&&"arrayValue"in t}function mw(t){return!!t&&"nullValue"in t}function yw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function du(t){return!!t&&"mapValue"in t}function va(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return hs(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=va(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=va(t.arrayValue.values[n]);return e}return Object.assign({},t)}function uF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.value=e}static empty(){return new Pt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!du(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=va(n)}setAll(e){let n=rt.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=va(o):r.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){const n=this.field(e.popLast());du(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $n(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];du(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){hs(n,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Pt(va(this.value))}}function SI(t){const e=[];return hs(t.fields,(n,i)=>{const r=new rt([n]);if(du(i)){const s=SI(i.mapValue).fields;if(s.length===0)e.push(r);else for(const o of s)e.push(r.child(o))}else e.push(r)}),new Wt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n,i,r,s,o,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new mt(e,0,q.min(),q.min(),q.min(),Pt.empty(),0)}static newFoundDocument(e,n,i,r){return new mt(e,1,n,q.min(),i,r,0)}static newNoDocument(e,n){return new mt(e,2,n,q.min(),q.min(),Pt.empty(),0)}static newUnknownDocument(e,n){return new mt(e,3,n,q.min(),q.min(),Pt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(q.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n){this.position=e,this.inclusive=n}}function _w(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],o=t.position[r];if(s.field.isKeyField()?i=B.comparator(B.fromName(o.referenceValue),n.key):i=so(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function vw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!$n(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n="asc"){this.field=e,this.dir=n}}function hF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{}class Be extends AI{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new fF(e,n,i):n==="array-contains"?new mF(e,i):n==="in"?new yF(e,i):n==="not-in"?new _F(e,i):n==="array-contains-any"?new vF(e,i):new Be(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new pF(e,i):new gF(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(so(n,this.value)):n!==null&&ns(this.value)===ns(n)&&this.matchesComparison(so(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return $()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class An extends AI{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new An(e,n)}matches(e){return xI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function xI(t){return t.op==="and"}function TI(t){return dF(t)&&xI(t)}function dF(t){for(const e of t.filters)if(e instanceof An)return!1;return!0}function kg(t){if(t instanceof Be)return t.field.canonicalString()+t.op.toString()+oo(t.value);if(TI(t))return t.filters.map(e=>kg(e)).join(",");{const e=t.filters.map(n=>kg(n)).join(",");return`${t.op}(${e})`}}function II(t,e){return t instanceof Be?function(i,r){return r instanceof Be&&i.op===r.op&&i.field.isEqual(r.field)&&$n(i.value,r.value)}(t,e):t instanceof An?function(i,r){return r instanceof An&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&II(o,r.filters[a]),!0):!1}(t,e):void $()}function bI(t){return t instanceof Be?function(n){return`${n.field.canonicalString()} ${n.op} ${oo(n.value)}`}(t):t instanceof An?function(n){return n.op.toString()+" {"+n.getFilters().map(bI).join(" ,")+"}"}(t):"Filter"}class fF extends Be{constructor(e,n,i){super(e,n,i),this.key=B.fromName(i.referenceValue)}matches(e){const n=B.comparator(e.key,this.key);return this.matchesComparison(n)}}class pF extends Be{constructor(e,n){super(e,"in",n),this.keys=CI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class gF extends Be{constructor(e,n){super(e,"not-in",n),this.keys=CI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function CI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>B.fromName(i.referenceValue))}class mF extends Be{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Xy(n)&&ll(n.arrayValue,this.value)}}class yF extends Be{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ll(this.value.arrayValue,n)}}class _F extends Be{constructor(e,n){super(e,"not-in",n)}matches(e){if(ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ll(this.value.arrayValue,n)}}class vF extends Be{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Xy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>ll(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(e,n=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function ww(t,e=null,n=[],i=[],r=null,s=null,o=null){return new wF(t,e,n,i,r,s,o)}function Jy(t){const e=Q(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>kg(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),xd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>oo(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>oo(i)).join(",")),e.ce=n}return e.ce}function Zy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!hF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!II(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!vw(t.startAt,e.startAt)&&vw(t.endAt,e.endAt)}function Rg(t){return B.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function EF(t,e,n,i,r,s,o,a){return new Kl(t,e,n,i,r,s,o,a)}function kI(t){return new Kl(t)}function Ew(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function RI(t){return t.collectionGroup!==null}function wa(t){const e=Q(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new at(rt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new gh(s,i))}),n.has(rt.keyField().canonicalString())||e.le.push(new gh(rt.keyField(),i))}return e.le}function jn(t){const e=Q(t);return e.he||(e.he=SF(e,wa(t))),e.he}function SF(t,e){if(t.limitType==="F")return ww(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new gh(r.field,s)});const n=t.endAt?new ph(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new ph(t.startAt.position,t.startAt.inclusive):null;return ww(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Pg(t,e){const n=t.filters.concat([e]);return new Kl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Og(t,e,n){return new Kl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Td(t,e){return Zy(jn(t),jn(e))&&t.limitType===e.limitType}function PI(t){return`${Jy(jn(t))}|lt:${t.limitType}`}function _s(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>bI(r)).join(", ")}]`),xd(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>oo(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>oo(r)).join(",")),`Target(${i})`}(jn(t))}; limitType=${t.limitType})`}function Id(t,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):B.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(const s of wa(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(o,a,l){const c=_w(o,a,l);return o.inclusive?c<=0:c<0}(i.startAt,wa(i),r)||i.endAt&&!function(o,a,l){const c=_w(o,a,l);return o.inclusive?c>=0:c>0}(i.endAt,wa(i),r))}(t,e)}function AF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function OI(t){return(e,n)=>{let i=!1;for(const r of wa(t)){const s=xF(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function xF(t,e,n){const i=t.field.isKeyField()?B.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?so(l,c):$()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return $()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){hs(this.inner,(n,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return wI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TF=new Re(B.comparator);function yi(){return TF}const DI=new Re(B.comparator);function Zo(...t){let e=DI;for(const n of t)e=e.insert(n.key,n);return e}function MI(t){let e=DI;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Lr(){return Ea()}function NI(){return Ea()}function Ea(){return new To(t=>t.toString(),(t,e)=>t.isEqual(e))}const IF=new Re(B.comparator),bF=new at(B.comparator);function X(...t){let e=bF;for(const n of t)e=e.add(n);return e}const CF=new at(oe);function kF(){return CF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fh(e)?"-0":e}}function VI(t){return{integerValue:""+t}}function RF(t,e){return aF(e)?VI(e):LI(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(){this._=void 0}}function PF(t,e,n){return t instanceof mh?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Qy(s)&&(s=Yy(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof cl?jI(t,e):t instanceof ul?BI(t,e):function(r,s){const o=FI(r,s),a=Sw(o)+Sw(r.Ie);return Cg(o)&&Cg(r.Ie)?VI(a):LI(r.serializer,a)}(t,e)}function OF(t,e,n){return t instanceof cl?jI(t,e):t instanceof ul?BI(t,e):n}function FI(t,e){return t instanceof yh?function(i){return Cg(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}class mh extends bd{}class cl extends bd{constructor(e){super(),this.elements=e}}function jI(t,e){const n=UI(e);for(const i of t.elements)n.some(r=>$n(r,i))||n.push(i);return{arrayValue:{values:n}}}class ul extends bd{constructor(e){super(),this.elements=e}}function BI(t,e){let n=UI(e);for(const i of t.elements)n=n.filter(r=>!$n(r,i));return{arrayValue:{values:n}}}class yh extends bd{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Sw(t){return Fe(t.integerValue||t.doubleValue)}function UI(t){return Xy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function DF(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof cl&&r instanceof cl||i instanceof ul&&r instanceof ul?ro(i.elements,r.elements,$n):i instanceof yh&&r instanceof yh?$n(i.Ie,r.Ie):i instanceof mh&&r instanceof mh}(t.transform,e.transform)}class MF{constructor(e,n){this.version=e,this.transformResults=n}}class Bn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Bn}static exists(e){return new Bn(void 0,e)}static updateTime(e){return new Bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Cd{}function zI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new WI(t.key,Bn.none()):new Gl(t.key,t.data,Bn.none());{const n=t.data,i=Pt.empty();let r=new at(rt.comparator);for(let s of e.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new _r(t.key,i,new Wt(r.toArray()),Bn.none())}}function NF(t,e,n){t instanceof Gl?function(r,s,o){const a=r.value.clone(),l=xw(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof _r?function(r,s,o){if(!fu(r.precondition,s))return void s.convertToUnknownDocument(o.version);const a=xw(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll($I(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Sa(t,e,n,i){return t instanceof Gl?function(s,o,a,l){if(!fu(s.precondition,o))return a;const c=s.value.clone(),u=Tw(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,i):t instanceof _r?function(s,o,a,l){if(!fu(s.precondition,o))return a;const c=Tw(s.fieldTransforms,l,o),u=o.data;return u.setAll($I(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,i):function(s,o,a){return fu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function LF(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),s=FI(i.transform,r||null);s!=null&&(n===null&&(n=Pt.empty()),n.set(i.field,s))}return n||null}function Aw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&ro(i,r,(s,o)=>DF(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Gl extends Cd{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class _r extends Cd{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function $I(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function xw(t,e,n){const i=new Map;ge(t.length===n.length);for(let r=0;r<n.length;r++){const s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,OF(o,a,n[r]))}return i}function Tw(t,e,n){const i=new Map;for(const r of t){const s=r.transform,o=n.data.field(r.field);i.set(r.field,PF(s,o,e))}return i}class WI extends Cd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VF extends Cd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&NF(s,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Sa(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Sa(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=NI();return this.mutations.forEach(r=>{const s=e.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;const l=zI(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(q.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),X())}isEqual(e){return this.batchId===e.batchId&&ro(this.mutations,e.mutations,(n,i)=>Aw(n,i))&&ro(this.baseMutations,e.baseMutations,(n,i)=>Aw(n,i))}}class e_{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){ge(e.mutations.length===i.length);let r=function(){return IF}();const s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new e_(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve,te;function UF(t){switch(t){default:return $();case C.CANCELLED:case C.UNKNOWN:case C.DEADLINE_EXCEEDED:case C.RESOURCE_EXHAUSTED:case C.INTERNAL:case C.UNAVAILABLE:case C.UNAUTHENTICATED:return!1;case C.INVALID_ARGUMENT:case C.NOT_FOUND:case C.ALREADY_EXISTS:case C.PERMISSION_DENIED:case C.FAILED_PRECONDITION:case C.ABORTED:case C.OUT_OF_RANGE:case C.UNIMPLEMENTED:case C.DATA_LOSS:return!0}}function HI(t){if(t===void 0)return mi("GRPC error has no .code"),C.UNKNOWN;switch(t){case Ve.OK:return C.OK;case Ve.CANCELLED:return C.CANCELLED;case Ve.UNKNOWN:return C.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return C.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return C.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return C.INTERNAL;case Ve.UNAVAILABLE:return C.UNAVAILABLE;case Ve.UNAUTHENTICATED:return C.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return C.INVALID_ARGUMENT;case Ve.NOT_FOUND:return C.NOT_FOUND;case Ve.ALREADY_EXISTS:return C.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return C.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return C.FAILED_PRECONDITION;case Ve.ABORTED:return C.ABORTED;case Ve.OUT_OF_RANGE:return C.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return C.UNIMPLEMENTED;case Ve.DATA_LOSS:return C.DATA_LOSS;default:return $()}}(te=Ve||(Ve={}))[te.OK=0]="OK",te[te.CANCELLED=1]="CANCELLED",te[te.UNKNOWN=2]="UNKNOWN",te[te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",te[te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",te[te.NOT_FOUND=5]="NOT_FOUND",te[te.ALREADY_EXISTS=6]="ALREADY_EXISTS",te[te.PERMISSION_DENIED=7]="PERMISSION_DENIED",te[te.UNAUTHENTICATED=16]="UNAUTHENTICATED",te[te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",te[te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",te[te.ABORTED=10]="ABORTED",te[te.OUT_OF_RANGE=11]="OUT_OF_RANGE",te[te.UNIMPLEMENTED=12]="UNIMPLEMENTED",te[te.INTERNAL=13]="INTERNAL",te[te.UNAVAILABLE=14]="UNAVAILABLE",te[te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $F=new $s([4294967295,4294967295],0);function Iw(t){const e=zF().encode(t),n=new qV;return n.update(e),new Uint8Array(n.digest())}function bw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new $s([n,i],0),new $s([r,s],0)]}class t_{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new ea(`Invalid padding: ${n}`);if(i<0)throw new ea(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ea(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new ea(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=$s.fromNumber(this.Te)}de(e,n,i){let r=e.add(n.multiply($s.fromNumber(i)));return r.compare($F)===1&&(r=new $s([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Iw(e),[i,r]=bw(n);for(let s=0;s<this.hashCount;s++){const o=this.de(i,r,s);if(!this.Ae(o))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t_(s,r,n);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=Iw(e),[i,r]=bw(n);for(let s=0;s<this.hashCount;s++){const o=this.de(i,r,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class ea extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,Ql.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new kd(q.min(),r,new Re(oe),yi(),X())}}class Ql{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Ql(i,n,X(),X(),X())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n,i,r){this.Ve=e,this.removedTargetIds=n,this.key=i,this.me=r}}class qI{constructor(e,n){this.targetId=e,this.fe=n}}class KI{constructor(e,n,i=St.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class Cw{constructor(){this.ge=0,this.pe=Rw(),this.ye=St.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=X(),n=X(),i=X();return this.pe.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:$()}}),new Ql(this.ye,this.we,e,n,i)}Fe(){this.Se=!1,this.pe=Rw()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,ge(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class WF{constructor(e){this.Le=e,this.ke=new Map,this.qe=yi(),this.Qe=kw(),this.Ke=new Re(oe)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const i=this.ze(n);switch(e.state){case 0:this.je(n)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(n);break;case 3:this.je(n)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),i.Ce(e.resumeToken));break;default:$()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((i,r)=>{this.je(r)&&n(r)})}Je(e){const n=e.targetId,i=e.fe.count,r=this.Ye(n);if(r){const s=r.target;if(Rg(s))if(i===0){const o=new B(s.path);this.We(n,o,mt.newNoDocument(o,q.min()))}else ge(i===1);else{const o=this.Ze(n);if(o!==i){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let o,a;try{o=ts(i).toUint8Array()}catch(l){if(l instanceof EI)return io("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new t_(o,r,s)}catch(l){return io(l instanceof ea?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,i){return n.fe.count===i-this.rt(e,n.targetId)?0:2}rt(e,n){const i=this.Le.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),r++)}),r}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&Rg(a.target)){const l=new B(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,mt.newNoDocument(l,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let i=X();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const r=new kd(e,n,this.Ke,this.qe,i);return this.qe=yi(),this.Qe=kw(),this.Ke=new Re(oe),r}Ue(e,n){if(!this.je(e))return;const i=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,i),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,i){if(!this.je(e))return;const r=this.ze(e);this.st(e,n)?r.Me(n,1):r.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),i&&(this.qe=this.qe.insert(n,i))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Cw,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new at(oe),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||F("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Cw),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function kw(){return new Re(B.comparator)}function Rw(){return new Re(B.comparator)}const HF=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),qF=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),KF=(()=>({and:"AND",or:"OR"}))();class GF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Dg(t,e){return t.useProto3Json||xd(e)?e:{value:e}}function _h(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function QF(t,e){return _h(t,e.toTimestamp())}function Un(t){return ge(!!t),q.fromTimestamp(function(n){const i=ar(n);return new qe(i.seconds,i.nanos)}(t))}function n_(t,e){return function(i){return new we(["projects",i.projectId,"databases",i.database])}(t).child("documents").child(e).canonicalString()}function QI(t){const e=we.fromString(t);return ge(ZI(e)),e}function Mg(t,e){return n_(t.databaseId,e.path)}function zf(t,e){const n=QI(e);if(n.get(1)!==t.databaseId.projectId)throw new V(C.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new V(C.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new B(YI(n))}function Ng(t,e){return n_(t.databaseId,e)}function YF(t){const e=QI(t);return e.length===4?we.emptyPath():YI(e)}function Lg(t){return new we(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function YI(t){return ge(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Pw(t,e,n){return{name:Mg(t,e),fields:n.value.mapValue.fields}}function XF(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:$()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(ge(u===void 0||typeof u=="string"),St.fromBase64String(u||"")):(ge(u===void 0||u instanceof Uint8Array),St.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?C.UNKNOWN:HI(c.code);return new V(u,c.message||"")}(o);n=new KI(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=zf(t,i.document.name),s=Un(i.document.updateTime),o=i.document.createTime?Un(i.document.createTime):q.min(),a=new Pt({mapValue:{fields:i.document.fields}}),l=mt.newFoundDocument(r,s,o,a),c=i.targetIds||[],u=i.removedTargetIds||[];n=new pu(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=zf(t,i.document),s=i.readTime?Un(i.readTime):q.min(),o=mt.newNoDocument(r,s),a=i.removedTargetIds||[];n=new pu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=zf(t,i.document),s=i.removedTargetIds||[];n=new pu([],s,r,null)}else{if(!("filter"in e))return $();{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,o=new BF(r,s),a=i.targetId;n=new qI(a,o)}}return n}function JF(t,e){let n;if(e instanceof Gl)n={update:Pw(t,e.key,e.value)};else if(e instanceof WI)n={delete:Mg(t,e.key)};else if(e instanceof _r)n={update:Pw(t,e.key,e.data),updateMask:a4(e.fieldMask)};else{if(!(e instanceof VF))return $();n={verify:Mg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,o){const a=o.transform;if(a instanceof mh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof cl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ul)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof yh)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw $()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:QF(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:$()}(t,e.precondition)),n}function ZF(t,e){return t&&t.length>0?(ge(e!==void 0),t.map(n=>function(r,s){let o=r.updateTime?Un(r.updateTime):Un(s);return o.isEqual(q.min())&&(o=Un(s)),new MF(o,r.transformResults||[])}(n,e))):[]}function e4(t,e){return{documents:[Ng(t,e.path)]}}function t4(t,e){const n={structuredQuery:{}},i=e.path;e.collectionGroup!==null?(n.parent=Ng(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ng(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(l){if(l.length!==0)return JI(An.create(l,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const s=function(l){if(l.length!==0)return l.map(c=>function(h){return{field:vs(h.field),direction:r4(h.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Dg(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function n4(t){let e=YF(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){ge(i===1);const u=n.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(h){const d=XI(h);return d instanceof An&&TI(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(d=>function(p){return new gh(ws(p.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(h){let d;return d=typeof h=="object"?h.value:h,xd(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(h){const d=!!h.before,f=h.values||[];return new ph(f,d)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const d=!h.before,f=h.values||[];return new ph(f,d)}(n.endAt)),EF(e,r,o,s,a,"F",l,c)}function i4(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function XI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=ws(n.unaryFilter.field);return Be.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=ws(n.unaryFilter.field);return Be.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ws(n.unaryFilter.field);return Be.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ws(n.unaryFilter.field);return Be.create(o,"!=",{nullValue:"NULL_VALUE"});default:return $()}}(t):t.fieldFilter!==void 0?function(n){return Be.create(ws(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return An.create(n.compositeFilter.filters.map(i=>XI(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return $()}}(n.compositeFilter.op))}(t):$()}function r4(t){return HF[t]}function s4(t){return qF[t]}function o4(t){return KF[t]}function vs(t){return{fieldPath:t.canonicalString()}}function ws(t){return rt.fromServerFormat(t.fieldPath)}function JI(t){return t instanceof Be?function(n){if(n.op==="=="){if(yw(n.value))return{unaryFilter:{field:vs(n.field),op:"IS_NAN"}};if(mw(n.value))return{unaryFilter:{field:vs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(yw(n.value))return{unaryFilter:{field:vs(n.field),op:"IS_NOT_NAN"}};if(mw(n.value))return{unaryFilter:{field:vs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vs(n.field),op:s4(n.op),value:n.value}}}(t):t instanceof An?function(n){const i=n.getFilters().map(r=>JI(r));return i.length===1?i[0]:{compositeFilter:{op:o4(n.op),filters:i}}}(t):$()}function a4(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ZI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,n,i,r,s=q.min(),o=q.min(),a=St.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ji(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e){this.ut=e}}function c4(t){const e=n4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Og(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(){this.on=new h4}addToCollectionParentIndex(e,n){return this.on.add(n),k.resolve()}getCollectionParents(e,n){return k.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return k.resolve()}deleteFieldIndex(e,n){return k.resolve()}deleteAllFieldIndexes(e){return k.resolve()}createTargetIndexes(e,n){return k.resolve()}getDocumentsMatchingTarget(e,n){return k.resolve(null)}getIndexType(e,n){return k.resolve(0)}getFieldIndexes(e,n){return k.resolve([])}getNextCollectionGroupToUpdate(e){return k.resolve(null)}getMinOffset(e,n){return k.resolve(or.min())}getMinOffsetFromCollectionGroup(e,n){return k.resolve(or.min())}updateCollectionGroup(e,n,i){return k.resolve()}updateIndexEntries(e,n){return k.resolve()}}class h4{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new at(we.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new at(we.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new ao(0)}static Nn(){return new ao(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(){this.changes=new To(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?k.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&Sa(i.mutation,r,Wt.empty(),qe.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,X()).next(()=>i))}getLocalViewOfDocuments(e,n,i=X()){const r=Lr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let o=Zo();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const i=Lr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,X()))}populateOverlays(e,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,r){let s=yi();const o=Ea(),a=function(){return Ea()}();return n.forEach((l,c)=>{const u=i.get(c.key);r.has(c.key)&&(u===void 0||u.mutation instanceof _r)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Sa(u.mutation,c,u.mutation.getFieldMask(),qe.now())):o.set(c.key,Wt.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new f4(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const i=Ea();let r=new Re((o,a)=>o-a),s=X();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=i.get(l)||Wt.empty();u=a.applyToLocalView(c,u),i.set(l,u);const h=(r.get(a.batchId)||X()).add(l);r=r.insert(a.batchId,h)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=NI();u.forEach(d=>{if(!s.has(d)){const f=zI(n.get(d),i.get(d));f!==null&&h.set(d,f),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return k.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(o){return B.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):RI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):k.resolve(Lr());let a=-1,l=s;return o.next(c=>k.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(u)?k.resolve():this.remoteDocumentCache.getEntry(e,u).next(d=>{l=l.insert(u,d)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,X())).next(u=>({batchId:a,changes:MI(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new B(n)).next(i=>{let r=Zo();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const s=n.collectionGroup;let o=Zo();return this.indexManager.getCollectionParents(e,s).next(a=>k.forEach(a,l=>{const c=function(h,d){return new Kl(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,i,r).next(u=>{u.forEach((h,d)=>{o=o.insert(h,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,mt.newInvalidDocument(u)))});let a=Zo();return o.forEach((l,c)=>{const u=s.get(l);u!==void 0&&Sa(u.mutation,c,Wt.empty(),qe.now()),Id(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return k.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Un(r.createTime)}}(n)),k.resolve()}getNamedQuery(e,n){return k.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(r){return{name:r.name,query:c4(r.bundledQuery),readTime:Un(r.readTime)}}(n)),k.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(){this.overlays=new Re(B.comparator),this.lr=new Map}getOverlay(e,n){return k.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Lr();return k.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.lt(e,n,s)}),k.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.lr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(i)),k.resolve()}getOverlaysForCollection(e,n,i){const r=Lr(),s=n.length+1,o=new B(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return k.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new Re((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let u=s.get(c.largestBatchId);u===null&&(u=Lr(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Lr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=r)););return k.resolve(a)}lt(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.lr.get(r.largestBatchId).delete(i.key);this.lr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new jF(n,i));let s=this.lr.get(n);s===void 0&&(s=X(),this.lr.set(n,s)),this.lr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(){this.hr=new at(Ge.Pr),this.Ir=new at(Ge.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const i=new Ge(e,n);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.dr(new Ge(e,n))}Ar(e,n){e.forEach(i=>this.removeReference(i,n))}Rr(e){const n=new B(new we([])),i=new Ge(n,e),r=new Ge(n,e+1),s=[];return this.Ir.forEachInRange([i,r],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new B(new we([])),i=new Ge(n,e),r=new Ge(n,e+1);let s=X();return this.Ir.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ge(e,0),i=this.hr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Ge{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return B.comparator(e.key,n.key)||oe(e.gr,n.gr)}static Tr(e,n){return oe(e.gr,n.gr)||B.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new at(Ge.Pr)}checkEmpty(e){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new FF(s,n,i,r);this.mutationQueue.push(o);for(const a of r)this.yr=this.yr.add(new Ge(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return k.resolve(o)}lookupMutationBatch(e,n){return k.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.Sr(i),s=r<0?0:r;return k.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Ge(n,0),r=new Ge(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([i,r],o=>{const a=this.wr(o.gr);s.push(a)}),k.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new at(oe);return n.forEach(r=>{const s=new Ge(r,0),o=new Ge(r,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{i=i.add(a.gr)})}),k.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let s=i;B.isDocumentKey(s)||(s=s.child(""));const o=new Ge(new B(s),0);let a=new at(oe);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.gr)),!0)},o),k.resolve(this.br(a))}br(e){const n=[];return e.forEach(i=>{const r=this.wr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){ge(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.yr;return k.forEach(n.mutations,r=>{const s=new Ge(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.yr=i})}Fn(e){}containsKey(e,n){const i=new Ge(n,0),r=this.yr.firstAfterOrEqual(i);return k.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,k.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e){this.Cr=e,this.docs=function(){return new Re(B.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.Cr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return k.resolve(i?i.document.mutableCopy():mt.newInvalidDocument(n))}getEntries(e,n){let i=yi();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():mt.newInvalidDocument(r))}),k.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=yi();const o=n.path,a=new B(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||rF(iF(u),i)<=0||(r.has(u.key)||Id(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return k.resolve(s)}getAllFromCollectionGroup(e,n,i,r){$()}vr(e,n){return k.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new v4(this)}getSize(e){return k.resolve(this.size)}}class v4 extends d4{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this._r.addEntry(e,r)):this._r.removeEntry(i)}),k.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e){this.persistence=e,this.Fr=new To(n=>Jy(n),Zy),this.lastRemoteSnapshotVersion=q.min(),this.highestTargetId=0,this.Mr=0,this.Or=new i_,this.targetCount=0,this.Nr=ao.On()}forEachTarget(e,n){return this.Fr.forEach((i,r)=>n(r)),k.resolve()}getLastRemoteSnapshotVersion(e){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return k.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Mr&&(this.Mr=n),k.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new ao(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,k.resolve()}updateTargetData(e,n){return this.kn(n),k.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,k.resolve()}removeTargets(e,n,i){let r=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),k.waitFor(s).next(()=>r)}getTargetCount(e){return k.resolve(this.targetCount)}getTargetData(e,n){const i=this.Fr.get(n)||null;return k.resolve(i)}addMatchingKeys(e,n,i){return this.Or.Er(n,i),k.resolve()}removeMatchingKeys(e,n,i){this.Or.Ar(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),k.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),k.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Or.mr(n);return k.resolve(i)}containsKey(e,n){return k.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e,n){this.Br={},this.overlays={},this.Lr=new Gy(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new w4(this),this.indexManager=new u4,this.remoteDocumentCache=function(r){return new _4(r)}(i=>this.referenceDelegate.Qr(i)),this.serializer=new l4(n),this.Kr=new g4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new m4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Br[e.toKey()];return i||(i=new y4(n,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,i){F("MemoryPersistence","Starting transaction:",e);const r=new S4(this.Lr.next());return this.referenceDelegate.$r(),i(r).next(s=>this.referenceDelegate.Ur(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Wr(e,n){return k.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,n)))}}class S4 extends oF{constructor(e){super(),this.currentSequenceNumber=e}}class r_{constructor(e){this.persistence=e,this.Gr=new i_,this.zr=null}static jr(e){return new r_(e)}get Hr(){if(this.zr)return this.zr;throw $()}addReference(e,n,i){return this.Gr.addReference(i,n),this.Hr.delete(i.toString()),k.resolve()}removeReference(e,n,i){return this.Gr.removeReference(i,n),this.Hr.add(i.toString()),k.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),k.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(r=>this.Hr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.Hr.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.Hr,i=>{const r=B.fromPath(i);return this.Jr(e,r).next(s=>{s||n.removeEntry(r,q.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(i=>{i?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return k.or([()=>k.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.ki=i,this.qi=r}static Qi(e,n){let i=X(),r=X();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new s_(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,i,r){const s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new A4;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,i,r){return i.documentReadCount<this.Ui?(jo()<=ee.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",_s(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),k.resolve()):(jo()<=ee.DEBUG&&F("QueryEngine","Query:",_s(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Wi*r?(jo()<=ee.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",_s(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jn(n))):k.resolve())}zi(e,n){if(Ew(n))return k.resolve(null);let i=jn(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Og(n,null,"F"),i=jn(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const o=X(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const c=this.Yi(n,a);return this.Zi(n,c,o,l.readTime)?this.zi(e,Og(n,null,"F")):this.Xi(e,c,n,l)}))})))}ji(e,n,i,r){return Ew(n)||r.isEqual(q.min())?k.resolve(null):this.Gi.getDocuments(e,i).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,i,r)?k.resolve(null):(jo()<=ee.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),_s(n)),this.Xi(e,o,n,nF(r,-1)).next(a=>a))})}Yi(e,n){let i=new at(OI(e));return n.forEach((r,s)=>{Id(e,s)&&(i=i.add(s))}),i}Zi(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Hi(e,n,i){return jo()<=ee.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",_s(n)),this.Gi.getDocumentsMatchingQuery(e,n,or.min(),i)}Xi(e,n,i,r){return this.Gi.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e,n,i,r){this.persistence=e,this.es=n,this.serializer=r,this.ts=new Re(oe),this.ns=new To(s=>Jy(s),Zy),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(i)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new p4(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function I4(t,e,n,i){return new T4(t,e,n,i)}async function eb(t,e){const n=Q(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.os(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=X();for(const c of r){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(i,l).next(c=>({_s:c,removedBatchIds:o,addedBatchIds:a}))})})}function b4(t,e){const n=Q(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,d=h.keys();let f=k.resolve();return d.forEach(p=>{f=f.next(()=>u.getEntry(l,p)).next(g=>{const _=c.docVersions.get(p);ge(_!==null),g.version.compareTo(_)<0&&(h.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=X();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function tb(t){const e=Q(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function C4(t,e){const n=Q(t),i=e.snapshotVersion;let r=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});r=n.ts;const a=[];e.targetChanges.forEach((u,h)=>{const d=r.get(h);if(!d)return;a.push(n.qr.removeMatchingKeys(s,u.removedDocuments,h).next(()=>n.qr.addMatchingKeys(s,u.addedDocuments,h)));let f=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?f=f.withResumeToken(St.EMPTY_BYTE_STRING,q.min()).withLastLimboFreeSnapshotVersion(q.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,i)),r=r.insert(h,f),function(g,_,m){return g.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(d,f,u)&&a.push(n.qr.updateTargetData(s,f))});let l=yi(),c=X();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(k4(s,o,e.documentUpdates).next(u=>{l=u.us,c=u.cs})),!i.isEqual(q.min())){const u=n.qr.getLastRemoteSnapshotVersion(s).next(h=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(u)}return k.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.ts=r,s))}function k4(t,e,n){let i=X(),r=X();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let o=yi();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(q.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):F("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{us:o,cs:r}})}function R4(t,e){const n=Q(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function P4(t,e){const n=Q(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.qr.getTargetData(i,e).next(s=>s?(r=s,k.resolve(r)):n.qr.allocateTargetId(i).next(o=>(r=new ji(e,o,"TargetPurposeListen",i.currentSequenceNumber),n.qr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.ts.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ts=n.ts.insert(i.targetId,i),n.ns.set(e,i.targetId)),i})}async function Vg(t,e,n){const i=Q(t),r=i.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!ql(o))throw o;F("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.ts=i.ts.remove(e),i.ns.delete(r.target)}function Ow(t,e,n){const i=Q(t);let r=q.min(),s=X();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const h=Q(l),d=h.ns.get(u);return d!==void 0?k.resolve(h.ts.get(d)):h.qr.getTargetData(c,u)}(i,o,jn(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.es.getDocumentsMatchingQuery(o,e,n?r:q.min(),n?s:X())).next(a=>(O4(i,AF(e),a),{documents:a,ls:s})))}function O4(t,e,n){let i=t.rs.get(e)||q.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.rs.set(e,i)}class Dw{constructor(){this.activeTargetIds=kF()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class D4{constructor(){this.eo=new Dw,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,i){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Dw,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){F("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){F("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kc=null;function $f(){return kc===null?kc=function(){return 268435456+Math.round(2147483648*Math.random())}():kc++,"0x"+kc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dt="WebChannelConnection";class V4 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+n.host,this.fo=`projects/${r}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get yo(){return!1}wo(n,i,r,s,o){const a=$f(),l=this.So(n,i);F("RestConnection",`Sending RPC '${n}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(c,s,o),this.Do(n,l,c,r).then(u=>(F("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw io("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",r),u})}Co(n,i,r,s,o,a){return this.wo(n,i,r,s,o)}bo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>n[o]=s),r&&r.headers.forEach((s,o)=>n[o]=s)}So(n,i){const r=N4[n];return`${this.mo}/v1/${i}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,i,r){const s=$f();return new Promise((o,a)=>{const l=new HV;l.setWithCredentials(!0),l.listenOnce($V.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Uf.NO_ERROR:const u=l.getResponseJson();F(dt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case Uf.TIMEOUT:F(dt,`RPC '${e}' ${s} timed out`),a(new V(C.DEADLINE_EXCEEDED,"Request time out"));break;case Uf.HTTP_ERROR:const h=l.getStatus();if(F(dt,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const f=d==null?void 0:d.error;if(f&&f.status&&f.message){const p=function(_){const m=_.toLowerCase().replace(/_/g,"-");return Object.values(C).indexOf(m)>=0?m:C.UNKNOWN}(f.status);a(new V(p,f.message))}else a(new V(C.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new V(C.UNAVAILABLE,"Connection failed."));break;default:$()}}finally{F(dt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(r);F(dt,`RPC '${e}' ${s} sending request:`,r),l.send(n,"POST",c,i,15)})}vo(e,n,i){const r=$f(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=UV(),a=zV(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.bo(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const u=s.join("");F(dt,`Creating RPC '${e}' stream ${r}: ${u}`,l);const h=o.createWebChannel(u,l);let d=!1,f=!1;const p=new L4({co:_=>{f?F(dt,`Not sending because RPC '${e}' stream ${r} is closed:`,_):(d||(F(dt,`Opening RPC '${e}' stream ${r} transport.`),h.open(),d=!0),F(dt,`RPC '${e}' stream ${r} sending:`,_),h.send(_))},lo:()=>h.close()}),g=(_,m,y)=>{_.listen(m,v=>{try{y(v)}catch(E){setTimeout(()=>{throw E},0)}})};return g(h,Ic.EventType.OPEN,()=>{f||F(dt,`RPC '${e}' stream ${r} transport opened.`)}),g(h,Ic.EventType.CLOSE,()=>{f||(f=!0,F(dt,`RPC '${e}' stream ${r} transport closed`),p.Ro())}),g(h,Ic.EventType.ERROR,_=>{f||(f=!0,io(dt,`RPC '${e}' stream ${r} transport errored:`,_),p.Ro(new V(C.UNAVAILABLE,"The operation could not be completed")))}),g(h,Ic.EventType.MESSAGE,_=>{var m;if(!f){const y=_.data[0];ge(!!y);const v=y,E=v.error||((m=v[0])===null||m===void 0?void 0:m.error);if(E){F(dt,`RPC '${e}' stream ${r} received error:`,E);const S=E.status;let A=function(O){const D=Ve[O];if(D!==void 0)return HI(D)}(S),x=E.message;A===void 0&&(A=C.INTERNAL,x="Unknown error status: "+S+" with message "+E.message),f=!0,p.Ro(new V(A,x)),h.close()}else F(dt,`RPC '${e}' stream ${r} received:`,y),p.Vo(y)}}),g(a,WV.STAT_EVENT,_=>{_.stat===uw.PROXY?F(dt,`RPC '${e}' stream ${r} detected buffering proxy`):_.stat===uw.NOPROXY&&F(dt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{p.Ao()},0),p}}function Wf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(t){return new GF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,n,i=1e3,r=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=i,this.Mo=r,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,n-i);r>0&&F("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,n,i,r,s,o,a,l){this.si=e,this.Ko=i,this.$o=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new nb(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===C.RESOURCE_EXHAUSTED?(mi(n.toString()),mi("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===C.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Uo===n&&this.s_(i,r)},i=>{e(()=>{const r=new V(C.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(r)})})}s_(e,n){const i=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(r=>{i(()=>this.o_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return F("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(F("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class F4 extends ib{constructor(e,n,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=XF(this.serializer,e),i=function(s){if(!("targetChange"in s))return q.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?q.min():o.readTime?Un(o.readTime):q.min()}(e);return this.listener.a_(n,i)}u_(e){const n={};n.database=Lg(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Rg(l)?{documents:e4(s,l)}:{query:t4(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=GI(s,o.resumeToken);const c=Dg(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(q.min())>0){a.readTime=_h(s,o.snapshotVersion.toTimestamp());const c=Dg(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const i=i4(this.serializer,e);i&&(n.labels=i),this.e_(n)}c_(e){const n={};n.database=Lg(this.serializer),n.removeTarget=e,this.e_(n)}}class j4 extends ib{constructor(e,n,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=ZF(e.writeResults,e.commitTime),i=Un(e.commitTime);return this.listener.I_(i,n)}return ge(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Lg(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>JF(this.serializer,i))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4 extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new V(C.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.wo(e,n,i,r,s)).catch(r=>{throw r.name==="FirebaseError"?(r.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new V(C.UNKNOWN,r.toString())})}Co(e,n,i,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,i,s,o,r)).catch(s=>{throw s.name==="FirebaseError"?(s.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new V(C.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class U4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(mi(n),this.f_=!1):F("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{i.enqueueAndForget(async()=>{ds(this)&&(F("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Q(l);c.C_.add(4),await Yl(c),c.M_.set("Unknown"),c.C_.delete(4),await Pd(c)}(this))})}),this.M_=new U4(i,r)}}async function Pd(t){if(ds(t))for(const e of t.v_)await e(!0)}async function Yl(t){for(const e of t.v_)await e(!1)}function rb(t,e){const n=Q(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),l_(n)?a_(n):Io(n).Ho()&&o_(n,e))}function sb(t,e){const n=Q(t),i=Io(n);n.D_.delete(e),i.Ho()&&ob(n,e),n.D_.size===0&&(i.Ho()?i.Zo():ds(n)&&n.M_.set("Unknown"))}function o_(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(q.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Io(t).u_(e)}function ob(t,e){t.x_.Oe(e),Io(t).c_(e)}function a_(t){t.x_=new WF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Io(t).start(),t.M_.g_()}function l_(t){return ds(t)&&!Io(t).jo()&&t.D_.size>0}function ds(t){return Q(t).C_.size===0}function ab(t){t.x_=void 0}async function $4(t){t.D_.forEach((e,n)=>{o_(t,e)})}async function W4(t,e){ab(t),l_(t)?(t.M_.w_(e),a_(t)):t.M_.set("Unknown")}async function H4(t,e,n){if(t.M_.set("Online"),e instanceof KI&&e.state===2&&e.cause)try{await async function(r,s){const o=s.cause;for(const a of s.targetIds)r.D_.has(a)&&(await r.remoteSyncer.rejectListen(a,o),r.D_.delete(a),r.x_.removeTarget(a))}(t,e)}catch(i){F("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await vh(t,i)}else if(e instanceof pu?t.x_.$e(e):e instanceof qI?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(q.min()))try{const i=await tb(t.localStore);n.compareTo(i)>=0&&await function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.D_.get(c);u&&s.D_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.D_.get(l);if(!u)return;s.D_.set(l,u.withResumeToken(St.EMPTY_BYTE_STRING,u.snapshotVersion)),ob(s,l);const h=new ji(u.target,l,c,u.sequenceNumber);o_(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(i){F("RemoteStore","Failed to raise snapshot:",i),await vh(t,i)}}async function vh(t,e,n){if(!ql(e))throw e;t.C_.add(1),await Yl(t),t.M_.set("Offline"),n||(n=()=>tb(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{F("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await Pd(t)})}function lb(t,e){return e().catch(n=>vh(t,n,e))}async function Od(t){const e=Q(t),n=lr(e);let i=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;q4(e);)try{const r=await R4(e.localStore,i);if(r===null){e.b_.length===0&&n.Zo();break}i=r.batchId,K4(e,r)}catch(r){await vh(e,r)}cb(e)&&ub(e)}function q4(t){return ds(t)&&t.b_.length<10}function K4(t,e){t.b_.push(e);const n=lr(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function cb(t){return ds(t)&&!lr(t).jo()&&t.b_.length>0}function ub(t){lr(t).start()}async function G4(t){lr(t).E_()}async function Q4(t){const e=lr(t);for(const n of t.b_)e.P_(n.mutations)}async function Y4(t,e,n){const i=t.b_.shift(),r=e_.from(i,e,n);await lb(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await Od(t)}async function X4(t,e){e&&lr(t).h_&&await async function(i,r){if(function(o){return UF(o)&&o!==C.ABORTED}(r.code)){const s=i.b_.shift();lr(i).Yo(),await lb(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Od(i)}}(t,e),cb(t)&&ub(t)}async function Nw(t,e){const n=Q(t);n.asyncQueue.verifyOperationInProgress(),F("RemoteStore","RemoteStore received new credentials");const i=ds(n);n.C_.add(3),await Yl(n),i&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await Pd(n)}async function J4(t,e){const n=Q(t);e?(n.C_.delete(2),await Pd(n)):e||(n.C_.add(2),await Yl(n),n.M_.set("Unknown"))}function Io(t){return t.O_||(t.O_=function(n,i,r){const s=Q(n);return s.A_(),new F4(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{ho:$4.bind(null,t),Io:W4.bind(null,t),a_:H4.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),l_(t)?a_(t):t.M_.set("Unknown")):(await t.O_.stop(),ab(t))})),t.O_}function lr(t){return t.N_||(t.N_=function(n,i,r){const s=Q(n);return s.A_(),new j4(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{ho:G4.bind(null,t),Io:X4.bind(null,t),T_:Q4.bind(null,t),I_:Y4.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await Od(t)):(await t.N_.stop(),t.b_.length>0&&(F("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){const o=Date.now()+i,a=new c_(e,n,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new V(C.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function u_(t,e){if(mi("AsyncQueue",`${e}: ${t}`),ql(t))return new V(C.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this.comparator=e?(n,i)=>e(n,i)||B.comparator(n.key,i.key):(n,i)=>B.comparator(n.key,i.key),this.keyedMap=Zo(),this.sortedSet=new Re(this.comparator)}static emptySet(e){return new Ws(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ws)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Ws;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(){this.B_=new Re(B.comparator)}track(e){const n=e.doc.key,i=this.B_.get(n);i?e.type!==0&&i.type===3?this.B_=this.B_.insert(n,e):e.type===3&&i.type!==1?this.B_=this.B_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.B_=this.B_.remove(n):e.type===1&&i.type===2?this.B_=this.B_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):$():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,i)=>{e.push(i)}),e}}class lo{constructor(e,n,i,r,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,i,r,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new lo(e,n,Ws.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Td(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(){this.k_=void 0,this.listeners=[]}}class ej{constructor(){this.queries=new To(e=>PI(e),Td),this.onlineState="Unknown",this.q_=new Set}}async function tj(t,e){const n=Q(t),i=e.query;let r=!1,s=n.queries.get(i);if(s||(r=!0,s=new Z4),r)try{s.k_=await n.onListen(i)}catch(o){const a=u_(o,`Initialization of query '${_s(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&h_(n)}async function nj(t,e){const n=Q(t),i=e.query;let r=!1;const s=n.queries.get(i);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),r=s.listeners.length===0)}if(r)return n.queries.delete(i),n.onUnlisten(i)}function ij(t,e){const n=Q(t);let i=!1;for(const r of e){const s=r.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.K_(r)&&(i=!0);o.k_=r}}i&&h_(n)}function rj(t,e,n){const i=Q(t),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(n);i.queries.delete(e)}function h_(t){t.q_.forEach(e=>{e.next()})}class sj{constructor(e,n,i){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new lo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const i=n!=="Offline";return(!this.options.J_||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=lo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e){this.key=e}}class db{constructor(e){this.key=e}}class oj{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=X(),this.mutatedKeys=X(),this._a=OI(e),this.aa=new Ws(this._a)}get ua(){return this.ia}ca(e,n){const i=n?n.la:new Lw,r=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,h)=>{const d=r.get(u),f=Id(this.query,h)?h:null,p=!!d&&this.mutatedKeys.has(d.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;d&&f?d.data.isEqual(f.data)?p!==g&&(i.track({type:3,doc:f}),_=!0):this.ha(d,f)||(i.track({type:2,doc:f}),_=!0,(l&&this._a(f,l)>0||c&&this._a(f,c)<0)&&(a=!0)):!d&&f?(i.track({type:0,doc:f}),_=!0):d&&!f&&(i.track({type:1,doc:d}),_=!0,(l||c)&&(a=!0)),_&&(f?(o=o.add(f),s=g?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),i.track({type:1,doc:u})}return{aa:o,la:i,Zi:a,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const s=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((u,h)=>function(f,p){const g=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $()}};return g(f)-g(p)}(u.type,h.type)||this._a(u.doc,h.doc)),this.Pa(i),r=r!=null&&r;const a=n&&!r?this.Ia():[],l=this.oa.size===0&&this.current&&!r?1:0,c=l!==this.sa;return this.sa=l,o.length!==0||c?{snapshot:new lo(this.query,e.aa,s,o,e.mutatedKeys,l===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new Lw,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=X(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const n=[];return e.forEach(i=>{this.oa.has(i)||n.push(new db(i))}),this.oa.forEach(i=>{e.has(i)||n.push(new hb(i))}),n}da(e){this.ia=e.ls,this.oa=X();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return lo.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class aj{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class lj{constructor(e){this.key=e,this.Ra=!1}}class cj{constructor(e,n,i,r,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new To(a=>PI(a),Td),this.fa=new Map,this.ga=new Set,this.pa=new Re(B.comparator),this.ya=new Map,this.wa=new i_,this.Sa={},this.ba=new Map,this.Da=ao.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function uj(t,e){const n=wj(t);let i,r;const s=n.ma.get(e);if(s)i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),r=s.view.Aa();else{const o=await P4(n.localStore,jn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,r=await hj(n,e,i,a==="current",o.resumeToken),n.isPrimaryClient&&rb(n.remoteStore,o)}return r}async function hj(t,e,n,i,r){t.va=(h,d,f)=>async function(g,_,m,y){let v=_.view.ca(m);v.Zi&&(v=await Ow(g.localStore,_.query,!1).then(({documents:x})=>_.view.ca(x,v)));const E=y&&y.targetChanges.get(_.targetId),S=y&&y.targetMismatches.get(_.targetId)!=null,A=_.view.applyChanges(v,g.isPrimaryClient,E,S);return Fw(g,_.targetId,A.Ta),A.snapshot}(t,h,d,f);const s=await Ow(t.localStore,e,!0),o=new oj(e,s.ls),a=o.ca(s.documents),l=Ql.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),c=o.applyChanges(a,t.isPrimaryClient,l);Fw(t,n,c.Ta);const u=new aj(e,n,o);return t.ma.set(e,u),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),c.snapshot}async function dj(t,e){const n=Q(t),i=n.ma.get(e),r=n.fa.get(i.targetId);if(r.length>1)return n.fa.set(i.targetId,r.filter(s=>!Td(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Vg(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),sb(n.remoteStore,i.targetId),Fg(n,i.targetId)}).catch(Hl)):(Fg(n,i.targetId),await Vg(n.localStore,i.targetId,!0))}async function fj(t,e,n){const i=Ej(t);try{const r=await function(o,a){const l=Q(o),c=qe.now(),u=a.reduce((f,p)=>f.add(p.key),X());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=yi(),g=X();return l.ss.getEntries(f,u).next(_=>{p=_,p.forEach((m,y)=>{y.isValidDocument()||(g=g.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,p)).next(_=>{h=_;const m=[];for(const y of a){const v=LF(y,h.get(y.key).overlayedDocument);v!=null&&m.push(new _r(y.key,v,SI(v.value.mapValue),Bn.exists(!0)))}return l.mutationQueue.addMutationBatch(f,c,m,a)}).next(_=>{d=_;const m=_.applyToLocalDocumentSet(h,g);return l.documentOverlayCache.saveOverlays(f,_.batchId,m)})}).then(()=>({batchId:d.batchId,changes:MI(h)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let c=o.Sa[o.currentUser.toKey()];c||(c=new Re(oe)),c=c.insert(a,l),o.Sa[o.currentUser.toKey()]=c}(i,r.batchId,n),await Xl(i,r.changes),await Od(i.remoteStore)}catch(r){const s=u_(r,"Failed to persist write");n.reject(s)}}async function fb(t,e){const n=Q(t);try{const i=await C4(n.localStore,e);e.targetChanges.forEach((r,s)=>{const o=n.ya.get(s);o&&(ge(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.Ra=!0:r.modifiedDocuments.size>0?ge(o.Ra):r.removedDocuments.size>0&&(ge(o.Ra),o.Ra=!1))}),await Xl(n,i,e)}catch(i){await Hl(i)}}function Vw(t,e,n){const i=Q(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){const l=Q(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const d of h.listeners)d.Q_(a)&&(c=!0)}),c&&h_(l)}(i.eventManager,e),r.length&&i.Va.a_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function pj(t,e,n){const i=Q(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.ya.get(e),s=r&&r.key;if(s){let o=new Re(B.comparator);o=o.insert(s,mt.newNoDocument(s,q.min()));const a=X().add(s),l=new kd(q.min(),new Map,new Re(oe),o,a);await fb(i,l),i.pa=i.pa.remove(s),i.ya.delete(e),d_(i)}else await Vg(i.localStore,e,!1).then(()=>Fg(i,e,n)).catch(Hl)}async function gj(t,e){const n=Q(t),i=e.batch.batchId;try{const r=await b4(n.localStore,e);gb(n,i,null),pb(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Xl(n,r)}catch(r){await Hl(r)}}async function mj(t,e,n){const i=Q(t);try{const r=await function(o,a){const l=Q(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(ge(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(i.localStore,e);gb(i,e,n),pb(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Xl(i,r)}catch(r){await Hl(r)}}function pb(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function gb(t,e,n){const i=Q(t);let r=i.Sa[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.Sa[i.currentUser.toKey()]=r}}function Fg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.fa.get(e))t.ma.delete(i),n&&t.Va.Fa(i,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(i=>{t.wa.containsKey(i)||mb(t,i)})}function mb(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&(sb(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),d_(t))}function Fw(t,e,n){for(const i of n)i instanceof hb?(t.wa.addReference(i.key,e),yj(t,i)):i instanceof db?(F("SyncEngine","Document no longer in limbo: "+i.key),t.wa.removeReference(i.key,e),t.wa.containsKey(i.key)||mb(t,i.key)):$()}function yj(t,e){const n=e.key,i=n.path.canonicalString();t.pa.get(n)||t.ga.has(i)||(F("SyncEngine","New document in limbo: "+n),t.ga.add(i),d_(t))}function d_(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new B(we.fromString(e)),i=t.Da.next();t.ya.set(i,new lj(n)),t.pa=t.pa.insert(n,i),rb(t.remoteStore,new ji(jn(kI(n.path)),i,"TargetPurposeLimboResolution",Gy._e))}}async function Xl(t,e,n){const i=Q(t),r=[],s=[],o=[];i.ma.isEmpty()||(i.ma.forEach((a,l)=>{o.push(i.va(l,e,n).then(c=>{if((c||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){r.push(c);const u=s_.Qi(l.targetId,c);s.push(u)}}))}),await Promise.all(o),i.Va.a_(r),await async function(l,c){const u=Q(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>k.forEach(c,d=>k.forEach(d.ki,f=>u.persistence.referenceDelegate.addReference(h,d.targetId,f)).next(()=>k.forEach(d.qi,f=>u.persistence.referenceDelegate.removeReference(h,d.targetId,f)))))}catch(h){if(!ql(h))throw h;F("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const d=h.targetId;if(!h.fromCache){const f=u.ts.get(d),p=f.snapshotVersion,g=f.withLastLimboFreeSnapshotVersion(p);u.ts=u.ts.insert(d,g)}}}(i.localStore,s))}async function _j(t,e){const n=Q(t);if(!n.currentUser.isEqual(e)){F("SyncEngine","User change. New user:",e.toKey());const i=await eb(n.localStore,e);n.currentUser=e,function(s,o){s.ba.forEach(a=>{a.forEach(l=>{l.reject(new V(C.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Xl(n,i._s)}}function vj(t,e){const n=Q(t),i=n.ya.get(e);if(i&&i.Ra)return X().add(i.key);{let r=X();const s=n.fa.get(e);if(!s)return r;for(const o of s){const a=n.ma.get(o);r=r.unionWith(a.view.ua)}return r}}function wj(t){const e=Q(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=fb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pj.bind(null,e),e.Va.a_=ij.bind(null,e.eventManager),e.Va.Fa=rj.bind(null,e.eventManager),e}function Ej(t){const e=Q(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mj.bind(null,e),e}class jw{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Rd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return I4(this.persistence,new x4,e.initialUser,this.serializer)}createPersistence(e){return new E4(r_.jr,this.serializer)}createSharedClientState(e){return new D4}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Sj{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Vw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=_j.bind(null,this.syncEngine),await J4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ej}()}createDatastore(e){const n=Rd(e.databaseInfo.databaseId),i=function(s){return new V4(s)}(e.databaseInfo);return function(s,o,a,l){return new B4(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,o,a){return new z4(i,r,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Vw(this.syncEngine,n,0),function(){return Mw.D()?new Mw:new M4}())}createSyncEngine(e,n){return function(r,s,o,a,l,c,u){const h=new cj(r,s,o,a,l,c);return u&&(h.Ca=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const i=Q(n);F("RemoteStore","RemoteStore shutting down."),i.C_.add(5),await Yl(i),i.F_.shutdown(),i.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):mi("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=pt.UNAUTHENTICATED,this.clientId=vI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async s=>{F("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(i,s=>(F("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new V(C.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=u_(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Hf(t,e){t.asyncQueue.verifyOperationInProgress(),F("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await eb(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Bw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Ij(t);F("FirestoreClient","Initializing OnlineComponentProvider");const i=await t.getConfiguration();await e.initialize(n,i),t.setCredentialChangeListener(r=>Nw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Nw(e.remoteStore,s)),t._onlineComponents=e}function Tj(t){return t.name==="FirebaseError"?t.code===C.FAILED_PRECONDITION||t.code===C.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Ij(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){F("FirestoreClient","Using user provided OfflineComponentProvider");try{await Hf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Tj(n))throw n;io("Error using user provided cache. Falling back to memory cache: "+n),await Hf(t,new jw)}}else F("FirestoreClient","Using default OfflineComponentProvider"),await Hf(t,new jw);return t._offlineComponents}async function yb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(F("FirestoreClient","Using user provided OnlineComponentProvider"),await Bw(t,t._uninitializedComponentsProvider._online)):(F("FirestoreClient","Using default OnlineComponentProvider"),await Bw(t,new Sj))),t._onlineComponents}function bj(t){return yb(t).then(e=>e.syncEngine)}async function Cj(t){const e=await yb(t),n=e.eventManager;return n.onListen=uj.bind(null,e.syncEngine),n.onUnlisten=dj.bind(null,e.syncEngine),n}function kj(t,e,n={}){const i=new tr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new Aj({next:d=>{o.enqueueAndForget(()=>nj(s,h)),d.fromCache&&l.source==="server"?c.reject(new V(C.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),h=new sj(a,u,{includeMetadataChanges:!0,J_:!0});return tj(s,h)}(await Cj(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(t,e,n){if(!n)throw new V(C.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Rj(t,e,n,i){if(e===!0&&i===!0)throw new V(C.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function zw(t){if(!B.isDocumentKey(t))throw new V(C.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $w(t){if(B.isDocumentKey(t))throw new V(C.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Dd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":$()}function co(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new V(C.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Dd(t);throw new V(C.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new V(C.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new V(C.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Rj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_b((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new V(C.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new V(C.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new V(C.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Md{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ww({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new V(C.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new V(C.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ww(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new KV;switch(i.type){case"firstParty":return new XV(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new V(C.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=Uw.get(n);i&&(F("ComponentProvider","Removing Datastore"),Uw.delete(n),i.terminate())}(this),Promise.resolve()}}function Pj(t,e,n,i={}){var r;const s=(t=co(t,Md))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=pt.MOCK_USER;else{a=hD(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new V(C.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new pt(c)}t._authCredentials=new GV(new _I(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new bo(this.firestore,e,this._query)}}class Kt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kt(this.firestore,e,this._key)}}class nr extends bo{constructor(e,n,i){super(e,n,kI(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new B(e))}withConverter(e){return new nr(this.firestore,e,this._path)}}function f_(t,e,...n){if(t=Ke(t),vb("collection","path",e),t instanceof Md){const i=we.fromString(e,...n);return $w(i),new nr(t,null,i)}{if(!(t instanceof Kt||t instanceof nr))throw new V(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(we.fromString(e,...n));return $w(i),new nr(t.firestore,null,i)}}function Oj(t,e,...n){if(t=Ke(t),arguments.length===1&&(e=vI.newId()),vb("doc","path",e),t instanceof Md){const i=we.fromString(e,...n);return zw(i),new Kt(t,null,new B(i))}{if(!(t instanceof Kt||t instanceof nr))throw new V(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(we.fromString(e,...n));return zw(i),new Kt(t.firestore,t instanceof nr?t.converter:null,new B(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new nb(this,"async_queue_retry"),this.iu=()=>{const n=Wf();n&&F("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=Wf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=Wf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new tr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!ql(e))throw e;F("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(i=>{this.eu=i,this.tu=!1;const r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw mi("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.tu=!1,i))));return this.Ja=n,n}enqueueAfterDelay(e,n,i){this.su(),this.ru.indexOf(e)>-1&&(n=0);const r=c_.createAndSchedule(this,e,n,i,s=>this.au(s));return this.Xa.push(r),r}su(){this.eu&&$()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}class Nd extends Md{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=function(){return new Dj}(),this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Eb(this),this._firestoreClient.terminate()}}function Mj(t,e){const n=typeof t=="object"?t:wx(),i=typeof t=="string"?t:e||"(default)",r=dy(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=cD("firestore");s&&Pj(r,...s)}return r}function wb(t){return t._firestoreClient||Eb(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Eb(t){var e,n,i;const r=t._freezeSettings(),s=function(a,l,c,u){return new cF(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,_b(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new xj(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new uo(St.fromBase64String(e))}catch(n){throw new V(C.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new uo(St.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new V(C.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new V(C.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new V(C.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return oe(this._lat,e._lat)||oe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj=/^__.*__$/;class Lj{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new _r(e,this.data,this.fieldMask,n,this.fieldTransforms):new Gl(e,this.data,n,this.fieldTransforms)}}class Sb{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new _r(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Ab(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $()}}class m_{constructor(e,n,i,r,s,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new m_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Tu({path:i,du:!1});return r.Au(e),r}Ru(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Tu({path:i,du:!1});return r.Pu(),r}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return wh(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(Ab(this.Iu)&&Nj.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class Vj{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Rd(e)}pu(e,n,i,r=!1){return new m_({Iu:e,methodName:n,gu:i,path:rt.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function y_(t){const e=t._freezeSettings(),n=Rd(t._databaseId);return new Vj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Fj(t,e,n,i,r,s={}){const o=t.pu(s.merge||s.mergeFields?2:0,e,n,r);__("Data must be an object, but it was:",o,i);const a=xb(i,o);let l,c;if(s.merge)l=new Wt(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const h of s.mergeFields){const d=jg(e,h,n);if(!o.contains(d))throw new V(C.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);Ib(u,d)||u.push(d)}l=new Wt(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new Lj(new Pt(a),l,c)}class Vd extends p_{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vd}}function jj(t,e,n,i){const r=t.pu(1,e,n);__("Data must be an object, but it was:",r,i);const s=[],o=Pt.empty();hs(i,(l,c)=>{const u=v_(e,l,n);c=Ke(c);const h=r.Ru(u);if(c instanceof Vd)s.push(u);else{const d=Jl(c,h);d!=null&&(s.push(u),o.set(u,d))}});const a=new Wt(s);return new Sb(o,a,r.fieldTransforms)}function Bj(t,e,n,i,r,s){const o=t.pu(1,e,n),a=[jg(e,i,n)],l=[r];if(s.length%2!=0)throw new V(C.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(jg(e,s[d])),l.push(s[d+1]);const c=[],u=Pt.empty();for(let d=a.length-1;d>=0;--d)if(!Ib(c,a[d])){const f=a[d];let p=l[d];p=Ke(p);const g=o.Ru(f);if(p instanceof Vd)c.push(f);else{const _=Jl(p,g);_!=null&&(c.push(f),u.set(f,_))}}const h=new Wt(c);return new Sb(u,h,o.fieldTransforms)}function Uj(t,e,n,i=!1){return Jl(n,t.pu(i?4:3,e))}function Jl(t,e){if(Tb(t=Ke(t)))return __("Unsupported field value:",e,t),xb(t,e);if(t instanceof p_)return function(i,r){if(!Ab(r.Iu))throw r.mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.mu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const a of i){let l=Jl(a,r.Vu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=Ke(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return RF(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=qe.fromDate(i);return{timestampValue:_h(r.serializer,s)}}if(i instanceof qe){const s=new qe(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:_h(r.serializer,s)}}if(i instanceof g_)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof uo)return{bytesValue:GI(r.serializer,i._byteString)};if(i instanceof Kt){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:n_(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.mu(`Unsupported field value: ${Dd(i)}`)}(t,e)}function xb(t,e){const n={};return wI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hs(t,(i,r)=>{const s=Jl(r,e.Eu(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function Tb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof qe||t instanceof g_||t instanceof uo||t instanceof Kt||t instanceof p_)}function __(t,e,n){if(!Tb(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=Dd(n);throw i==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+i)}}function jg(t,e,n){if((e=Ke(e))instanceof Ld)return e._internalPath;if(typeof e=="string")return v_(t,e);throw wh("Field path arguments must be of type string or ",t,!1,void 0,n)}const zj=new RegExp("[~\\*/\\[\\]]");function v_(t,e,n){if(e.search(zj)>=0)throw wh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ld(...e.split("."))._internalPath}catch{throw wh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function wh(t,e,n,i,r){const s=i&&!i.isEmpty(),o=r!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new V(C.INVALID_ARGUMENT,a+t+l)}function Ib(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $j(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(w_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $j extends bb{data(){return super.data()}}function w_(t,e){return typeof e=="string"?v_(t,e):e instanceof Ld?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new V(C.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class E_{}class Hj extends E_{}function S_(t,e,...n){let i=[];e instanceof E_&&i.push(e),i=i.concat(n),function(s){const o=s.filter(l=>l instanceof x_).length,a=s.filter(l=>l instanceof Fd).length;if(o>1||o>0&&a>0)throw new V(C.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)t=r._apply(t);return t}class Fd extends Hj{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Fd(e,n,i)}_apply(e){const n=this._parse(e);return Cb(e._query,n),new bo(e.firestore,e.converter,Pg(e._query,n))}_parse(e){const n=y_(e.firestore);return function(s,o,a,l,c,u,h){let d;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new V(C.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){qw(h,u);const f=[];for(const p of h)f.push(Hw(l,s,p));d={arrayValue:{values:f}}}else d=Hw(l,s,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||qw(h,u),d=Uj(a,o,h,u==="in"||u==="not-in");return Be.create(c,u,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function A_(t,e,n){const i=e,r=w_("where",t);return Fd._create(r,i,n)}class x_ extends E_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new x_(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:An.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let o=r;const a=s.getFlattenedFilters();for(const l of a)Cb(o,l),o=Pg(o,l)}(e._query,n),new bo(e.firestore,e.converter,Pg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Hw(t,e,n){if(typeof(n=Ke(n))=="string"){if(n==="")throw new V(C.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!RI(e)&&n.indexOf("/")!==-1)throw new V(C.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(we.fromString(n));if(!B.isDocumentKey(i))throw new V(C.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return gw(t,new B(i))}if(n instanceof Kt)return gw(t,n._key);throw new V(C.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dd(n)}.`)}function qw(t,e){if(!Array.isArray(t)||t.length===0)throw new V(C.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Cb(t,e){const n=function(r,s){for(const o of r)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new V(C.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new V(C.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class qj{convertValue(e,n="none"){switch(ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw $()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return hs(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertGeoPoint(e){return new g_(Fe(e.latitude),Fe(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Yy(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(ol(e));default:return null}}convertTimestamp(e){const n=ar(e);return new qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=we.fromString(e);ge(ZI(i));const r=new al(i.get(1),i.get(3)),s=new B(i.popFirst(5));return r.isEqual(n)||mi(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kj(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gj extends bb{constructor(e,n,i,r,s,o){super(e,n,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new gu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(w_("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class gu extends Gj{data(e={}){return super.data(e)}}class Qj{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Rc(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new gu(this._firestore,this._userDataWriter,i.key,i,new Rc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new V(C.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{const l=new gu(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Rc(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new gu(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Rc(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:Yj(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Yj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $()}}class Xj extends qj{constructor(e){super(),this.firestore=e}convertBytes(e){return new uo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,n)}}function T_(t){t=co(t,bo);const e=co(t.firestore,Nd),n=wb(e),i=new Xj(e);return Wj(t._query),kj(n,t._query).then(r=>new Qj(e,i,t,r))}function Jj(t,e,n,...i){t=co(t,Kt);const r=co(t.firestore,Nd),s=y_(r);let o;return o=typeof(e=Ke(e))=="string"||e instanceof Ld?Bj(s,"updateDoc",t._key,e,n,i):jj(s,"updateDoc",t._key,e),kb(r,[o.toMutation(t._key,Bn.exists(!0))])}function Zj(t,e){const n=co(t.firestore,Nd),i=Oj(t),r=Kj(t.converter,e);return kb(n,[Fj(y_(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,Bn.exists(!1))]).then(()=>i)}function kb(t,e){return function(i,r){const s=new tr;return i.asyncQueue.enqueueAndForget(async()=>fj(await bj(i),r,s)),s.promise}(wb(t),e)}(function(e,n=!0){(function(r){xo=r})(wo),eo(new Yr("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),a=new Nd(new QV(i.getProvider("auth-internal")),new ZV(i.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new V(C.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new al(c.options.projectId,u)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),er(hw,"4.4.0",e),er(hw,"4.4.0","esm2017")})();var e5={VITE_REACT_APP_API_KEY:"KW9OH19UOXYXJLUEWL3A",VITE_REACT_APP_SECRET_API_KEY:"Nya94uvgPtekyjJJ4BPYhpo8VoYgO7HefY9S6rIsXebREQcN",VITE_API_KEY:"AIzaSyAkCJla5jNm6-16hRIiTVs1WHFZyjUC2n8",VITE_AUTH_DOMAIN:"crypto-1368c.firebaseapp.com",VITE_PROJECT_ID:"crypto-1368c",VITE_STORAGE_BUCKET:"crypto-1368c.appspot.com",VITE_MESSAGING_SENDER_ID:"114444660981",VITE_APP_ID:"1:114444660981:web:db7a9bc16b194ecb9295bc",VITE_MEASURMENT_ID:"G-0T2T47RM2E",BASE_URL:"/my-cryptos/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const t5={apiKey:"AIzaSyAkCJla5jNm6-16hRIiTVs1WHFZyjUC2n8",authDomain:"crypto-1368c.firebaseapp.com",projectId:"crypto-1368c",storageBucket:"crypto-1368c.appspot.com",messagingSenderId:"114444660981",appId:"1:114444660981:web:db7a9bc16b194ecb9295bc",measurementId:e5.VITE_MEASUREMENT_ID},Rb=vx(t5),ie=qN(Rb),n5=new Zn,I_=Mj(Rb);function Pb(){const t=xi();b.useEffect(()=>{const e=Ey(ie,n=>{n||(t("/"),to(ie))});return()=>{e()}},[])}const i5="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAACD0lEQVR4nO3ZPYxMURjG8bssEdlmG0FCKEgoSGhIfBRIRENDRUNHIauS1Sh1VKuiEJ1KFKIgEhEKGpWEgpAQEvH9ER8/ucm7cldi5s7uGXvu5v7LyTnP+zzznrlzzrlF0ZIxuKE53OoUpFEU3YIUmaNuEAwXmYLhOkFux5g7GCoyA0PhreR+p4EL8DAGXse8IhMwF1fD2yMs6jZhCZ7EhMuY89/c/gPMxqXw9AzL6k5cgRcx8SJmFdMEBnA+vLzCql4F1uBNCJRCA31z2znE2fDwFusmK7QBH0LoTHKn3eufitqfsHmqYtvwJQRHk7nsXvdE1PyGnalEd+N7CB9LItq53pGo9QN7U4vvx0/8wqGk4hPrHKjUOdivIocr39S+PujvqXR+JLX+38VGK2t3V0Ld7fga2sdT6dZ9mnzGlgR6GytPx9NpXNZ/vo9F4XdYPwWttZX/q7G0TuuHORcGXmP1JDRW4uW07yBM3AM9x/Ie5i7F08qebrC/bnvblT7G4hpz8txlY355htY7d7M796ic3Hogz5OoINW4aaMNkhvapZUZ2o5khrYjmaHtSGZoO5IZ2o5khpnWEWyqM67IFdwMj+V15wUsbGqQQRyNu66SjzhZXlA0Ksg4ZSeiI2VnxI3JjsYFGae8TsWDym/nSryjbFaQynIbqSy3940M0mG5NTPIONiKe7j258OWGchvgmC6Bgc3VskAAAAASUVORK5CYII=",r5="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='50px'%20height='50px'%3e%3cpath%20d='M%2021%203%20C%2011.621094%203%204%2010.621094%204%2020%20C%204%2029.378906%2011.621094%2037%2021%2037%20C%2024.710938%2037%2028.140625%2035.804688%2030.9375%2033.78125%20L%2044.09375%2046.90625%20L%2046.90625%2044.09375%20L%2033.90625%2031.0625%20C%2036.460938%2028.085938%2038%2024.222656%2038%2020%20C%2038%2010.621094%2030.378906%203%2021%203%20Z%20M%2021%205%20C%2029.296875%205%2036%2011.703125%2036%2020%20C%2036%2028.296875%2029.296875%2035%2021%2035%20C%2012.703125%2035%206%2028.296875%206%2020%20C%206%2011.703125%2012.703125%205%2021%205%20Z'/%3e%3c/svg%3e";async function s5(){try{return(await Rl.get("https://api.coingecko.com/api/v3/search/trending")).data.coins}catch(t){throw console.error("Error fetching data:",t.message),t}}var Ob={exports:{}},Db={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zl=b;function o5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var a5=typeof Object.is=="function"?Object.is:o5,l5=Zl.useSyncExternalStore,c5=Zl.useRef,u5=Zl.useEffect,h5=Zl.useMemo,d5=Zl.useDebugValue;Db.useSyncExternalStoreWithSelector=function(t,e,n,i,r){var s=c5(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=h5(function(){function l(f){if(!c){if(c=!0,u=f,f=i(f),r!==void 0&&o.hasValue){var p=o.value;if(r(p,f))return h=p}return h=f}if(p=h,a5(u,f))return p;var g=i(f);return r!==void 0&&r(p,g)?p:(u=f,h=g)}var c=!1,u,h,d=n===void 0?null:n;return[function(){return l(e())},d===null?void 0:function(){return l(d())}]},[e,n,i,r]);var a=l5(t,s[0],s[1]);return u5(function(){o.hasValue=!0,o.value=a},[a]),d5(a),a};Ob.exports=Db;var f5=Ob.exports;function p5(t){t()}var Mb=p5,g5=t=>Mb=t,m5=()=>Mb,Ht="default"in ap?dm:ap,Kw=Symbol.for("react-redux-context"),Gw=typeof globalThis<"u"?globalThis:{};function y5(){if(!Ht.createContext)return{};const t=Gw[Kw]??(Gw[Kw]=new Map);let e=t.get(Ht.createContext);return e||(e=Ht.createContext(null),t.set(Ht.createContext,e)),e}var cr=y5(),_5=()=>{throw new Error("uSES not initialized!")};function b_(t=cr){return function(){return Ht.useContext(t)}}var Nb=b_(),Lb=_5,v5=t=>{Lb=t},w5=(t,e)=>t===e;function E5(t=cr){const e=t===cr?Nb:b_(t);return function(i,r={}){const{equalityFn:s=w5,devModeChecks:o={}}=typeof r=="function"?{equalityFn:r}:r,{store:a,subscription:l,getServerState:c,stabilityCheck:u,identityFunctionCheck:h}=e();Ht.useRef(!0);const d=Ht.useCallback({[i.name](p){return i(p)}}[i.name],[i,u,o.stabilityCheck]),f=Lb(l.addNestedSub,a.getState,c||a.getState,d,s);return Ht.useDebugValue(f),f}}var Vt=E5();function S5(){const t=m5();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let i=e;for(;i;)i.callback(),i=i.next})},get(){let i=[],r=e;for(;r;)i.push(r),r=r.next;return i},subscribe(i){let r=!0,s=n={callback:i,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!r||e===null||(r=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var Qw={notify(){},get:()=>[]};function A5(t,e){let n,i=Qw,r=0,s=!1;function o(g){u();const _=i.subscribe(g);let m=!1;return()=>{m||(m=!0,_(),h())}}function a(){i.notify()}function l(){p.onStateChange&&p.onStateChange()}function c(){return s}function u(){r++,n||(n=e?e.addNestedSub(l):t.subscribe(l),i=S5())}function h(){r--,n&&r===0&&(n(),n=void 0,i.clear(),i=Qw)}function d(){s||(s=!0,u())}function f(){s&&(s=!1,h())}const p={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:d,tryUnsubscribe:f,getListeners:()=>i};return p}var x5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",T5=x5?Ht.useLayoutEffect:Ht.useEffect;function I5({store:t,context:e,children:n,serverState:i,stabilityCheck:r="once",identityFunctionCheck:s="once"}){const o=Ht.useMemo(()=>{const c=A5(t);return{store:t,subscription:c,getServerState:i?()=>i:void 0,stabilityCheck:r,identityFunctionCheck:s}},[t,i,r,s]),a=Ht.useMemo(()=>t.getState(),[t]);T5(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==t.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,a]);const l=e||cr;return Ht.createElement(l.Provider,{value:o},n)}var b5=I5;function Vb(t=cr){const e=t===cr?Nb:b_(t);return function(){const{store:i}=e();return i}}var C5=Vb();function k5(t=cr){const e=t===cr?C5:Vb(t);return function(){return e().dispatch}}var R5=k5();v5(f5.useSyncExternalStoreWithSelector);g5($A.unstable_batchedUpdates);const K={color1:"#292b2f",color2:"#2f3136",color3:"#40444b",color4:"white",color5:"#f2f2f2"};function P5(){const[t,e]=b.useState([]),[n,i]=b.useState(0),r=b.useRef(null),{value:s}=Vt(l=>l.theme),o=window.innerWidth,a=b.useRef(window.innerWidth);return b.useEffect(()=>{s5().then(l=>{e(l)})},[]),b.useEffect(()=>{const l=setInterval(()=>{const u=o<600?12:11;if(r.current)if(n>=u)r.current.scrollTo({left:0,behavior:"smooth"}),i(0);else{let h,d;o<600?(h=r.current.offsetWidth*.294,d=r.current.offsetWidth*.02):(h=r.current.offsetWidth*.195,d=r.current.offsetWidth*.036);const f=r.current.offsetWidth*.02,p=h+d+f;r.current.scrollTo({left:r.current.scrollLeft+p,behavior:"smooth"}),i(n+1)}},5e3),c=()=>{a.current!==window.innerWidth&&(a.current=window.innerWidth,r.current&&(r.current.scrollTo({left:0,behavior:"smooth"}),i(0)))};return window.addEventListener("resize",c),()=>{clearInterval(l),window.removeEventListener("resize",c)}},[n]),w.jsx("div",{ref:r,className:"trending-coins-all-container",children:t.map(l=>w.jsxs("div",{className:"trending-coin-box",style:{backgroundColor:s==="dark"?K.color3:K.color4,color:s==="dark"?K.color5:K.color3},children:[w.jsxs("div",{className:"trend-title",children:[w.jsx("img",{src:l.item.thumb,alt:`${l.item.id} logo`}),w.jsx("h2",{children:l.item.symbol})]}),w.jsxs("div",{className:"trend-details",children:[w.jsx("h3",{children:l.item.data.price}),w.jsx("h3",{children:l.item.data.market_cap})]})]},l.item.coin_id))})}const O5=()=>{window.scrollTo({top:0,behavior:"smooth"})},D5="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAACq0lEQVR4nO1XO28TQRC+wtCAcBJ71ggaCl6Cglf4GwT+Q1qkFBDSuSCkRYkinNk4sURJmyoYsBASuZk4CkXEq+ERWiKBwVQ8NLt3jkN8d3u2C5Ay0kpre2fm25lvdsaetyf/k+TKfAo03QLNj5SmV4D0TZbZa6oC+uN5TSf773iOhgH5sdL822UJwPy8f6l3z1jfp5BmFdIvYxj5MyCXFfIViUbh/osDsmSv9OqI0rQgZwwQ0UGe8Yq1TFe+s/eeDYLmJ/ZG9B2Qbw9N+4eS9OQMaJ4Ezc0wGtnK+kDqm8N2yD9JCtJeAEr+OUB6H9h4eubBxn5nZSVhNyGnj7ny2hGvSxFdhbwZgJh2U5qjYcmfhD1f5gtej5LH+kWbDvop+0QFCEIvOe/V+bZNuhNwqRp7MGfYbNnuQjjQdF1W0rlBrGeV5i2xnS+tnIhDOhEAKCcZVZrHWnWPNJF4HmkxqIqb0QA0Va3R1RFX521rLF6HrgVgH8YZfmsOza8dd3Euz7L53HqooiMRplchvY5D2TCGZjcOujjf8X0CCLFpdakRDQD5axSAKOeuIITUgf6XOABvDFP/6mgKadQl1zu4gTSaOgUQQcJCaeUYaH6XRLQQhJwVnU4kVJqXowGgPx7kaWHXbxG86GinUwqRK0GJ3+jbQ+Qqzg+RiJ12zIMx6fVJlKapxPCHIpOMbUbcdGoebtPUD2lGoOm8k5JCnrGM5c2h0vOj3ToX3bAdA9Jdd81iLROmQgaSw8iX0zqX24KmD60umHY0y1bWB9r40JSWKmRyIxxN2bDbtz/9SBZKsZaRSUbyF0Rjy5QT+ldzWD8t5SZL9qbObakZtpucS9i7HUrbpaDpLCAvuY/lVO0HgXeJ1LD0cwmr/BmxzYsagPxSSkwembhOuif/pPwB8CdeHL7GcWQAAAAASUVORK5CYII=",M5="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAACA0lEQVR4nO2Wu04bURCGXUCaIENa07jgJqUIub0Gl3dwG8lFAvQQWgSiNOEhqOKNkfIS4dIkAdpE4maq+ItG+i2dOPbZ2bWRQPIvHWnt/eef2Zk5Z06hMMRjAjALrAJfgCPgRsueE2AFmLkPx2+ABn5YgK8H4XgU2AVaEv4F1IAFZeOplj0vAnviIJsdYCSv82fAocRugXWg6LArAhtAM8jGRJ4vb0jgwkqQ4wNeAD+k8RV4ksV4V4ZnQCmr80CnBJxLaztLw7WU9pd5nQd6r1SOP/bsMWgo4vV+nQeaH6WZpBFng273NNw7Ww7eOPBb2tMx4ppINYdoNdj3aw7+J3E/xEiJSIsZnLdRTbFZFq8eI52KNOV0vqrfrbRMBOU9jgVwLdKYx3nH/9EgTFPvr2MBXPUKoJdzbxA6IQ2XsQBORPpnogEVT607gqzkKUHSrQmBMvA9rdGCIIxb7tGEn2PGKyLtdXnXtS966HQr4b603w/sIPLCfRAZND4NG4UBAdhMTX8bdpNRNzddw8M33O40jOa9RjuK2EbpZB/OJ4NxvJXFcCQohV1I3uZwPg/8lEaS+WoGTARBNDVSx50Nt6m0G+qZr2QdmdhW/VAn23ZaAuZ0vI7peVnv2t1uNlu5L6UhgOfAAX4kg2jg/2B72Oa50nqk4WXrm20xO2Rik3SIB4m/TPgUH+08dYQAAAAASUVORK5CYII=";function N5(){const[t,e]=b.useState(!1),{value:n}=Vt(i=>i.theme);return b.useEffect(()=>{const i=()=>{e(window.pageYOffset>300)};return window.addEventListener("scroll",i),()=>{window.removeEventListener("scroll",i)}},[]),w.jsx("button",{style:{display:t?"inline-block":"none"},onClick:O5,className:"moveUp-button",children:n==="dark"?w.jsx("img",{src:M5,alt:"up"}):w.jsx("img",{src:D5,alt:"up"})})}/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function ec(t){return t+.5|0}const Bi=(t,e,n)=>Math.max(Math.min(t,n),e);function ta(t){return Bi(ec(t*2.55),0,255)}function ir(t){return Bi(ec(t*255),0,255)}function Xn(t){return Bi(ec(t/2.55)/100,0,1)}function Yw(t){return Bi(ec(t*100),0,100)}const en={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Bg=[..."0123456789ABCDEF"],L5=t=>Bg[t&15],V5=t=>Bg[(t&240)>>4]+Bg[t&15],Pc=t=>(t&240)>>4===(t&15),F5=t=>Pc(t.r)&&Pc(t.g)&&Pc(t.b)&&Pc(t.a);function j5(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&en[t[1]]*17,g:255&en[t[2]]*17,b:255&en[t[3]]*17,a:e===5?en[t[4]]*17:255}:(e===7||e===9)&&(n={r:en[t[1]]<<4|en[t[2]],g:en[t[3]]<<4|en[t[4]],b:en[t[5]]<<4|en[t[6]],a:e===9?en[t[7]]<<4|en[t[8]]:255})),n}const B5=(t,e)=>t<255?e(t):"";function U5(t){var e=F5(t)?L5:V5;return t?"#"+e(t.r)+e(t.g)+e(t.b)+B5(t.a,e):void 0}const z5=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Fb(t,e,n){const i=e*Math.min(n,1-n),r=(s,o=(s+t/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function $5(t,e,n){const i=(r,s=(r+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function W5(t,e,n){const i=Fb(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function H5(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}function C_(t){const n=t.r/255,i=t.g/255,r=t.b/255,s=Math.max(n,i,r),o=Math.min(n,i,r),a=(s+o)/2;let l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=H5(n,i,r,u,s),l=l*60+.5),[l|0,c||0,a]}function k_(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(ir)}function R_(t,e,n){return k_(Fb,t,e,n)}function q5(t,e,n){return k_(W5,t,e,n)}function K5(t,e,n){return k_($5,t,e,n)}function jb(t){return(t%360+360)%360}function G5(t){const e=z5.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?ta(+e[5]):ir(+e[5]));const r=jb(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=q5(r,s,o):e[1]==="hsv"?i=K5(r,s,o):i=R_(r,s,o),{r:i[0],g:i[1],b:i[2],a:n}}function Q5(t,e){var n=C_(t);n[0]=jb(n[0]+e),n=R_(n),t.r=n[0],t.g=n[1],t.b=n[2]}function Y5(t){if(!t)return;const e=C_(t),n=e[0],i=Yw(e[1]),r=Yw(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${r}%, ${Xn(t.a)})`:`hsl(${n}, ${i}%, ${r}%)`}const Xw={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Jw={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function X5(){const t={},e=Object.keys(Jw),n=Object.keys(Xw);let i,r,s,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],r=0;r<n.length;r++)s=n[r],a=a.replace(s,Xw[s]);s=parseInt(Jw[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let Oc;function J5(t){Oc||(Oc=X5(),Oc.transparent=[0,0,0,0]);const e=Oc[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Z5=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function eB(t){const e=Z5.exec(t);let n=255,i,r,s;if(e){if(e[7]!==i){const o=+e[7];n=e[8]?ta(o):Bi(o*255,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?ta(i):Bi(i,0,255)),r=255&(e[4]?ta(r):Bi(r,0,255)),s=255&(e[6]?ta(s):Bi(s,0,255)),{r:i,g:r,b:s,a:n}}}function tB(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Xn(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const qf=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,ms=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function nB(t,e,n){const i=ms(Xn(t.r)),r=ms(Xn(t.g)),s=ms(Xn(t.b));return{r:ir(qf(i+n*(ms(Xn(e.r))-i))),g:ir(qf(r+n*(ms(Xn(e.g))-r))),b:ir(qf(s+n*(ms(Xn(e.b))-s))),a:t.a+n*(e.a-t.a)}}function Dc(t,e,n){if(t){let i=C_(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=R_(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function Bb(t,e){return t&&Object.assign(e||{},t)}function Zw(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=ir(t[3]))):(e=Bb(t,{r:0,g:0,b:0,a:1}),e.a=ir(e.a)),e}function iB(t){return t.charAt(0)==="r"?eB(t):G5(t)}class hl{constructor(e){if(e instanceof hl)return e;const n=typeof e;let i;n==="object"?i=Zw(e):n==="string"&&(i=j5(e)||J5(e)||iB(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=Bb(this._rgb);return e&&(e.a=Xn(e.a)),e}set rgb(e){this._rgb=Zw(e)}rgbString(){return this._valid?tB(this._rgb):void 0}hexString(){return this._valid?U5(this._rgb):void 0}hslString(){return this._valid?Y5(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,r=e.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=i.a-r.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,i.r=255&c*i.r+s*r.r+.5,i.g=255&c*i.g+s*r.g+.5,i.b=255&c*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=nB(this._rgb,e._rgb,n)),this}clone(){return new hl(this.rgb)}alpha(e){return this._rgb.a=ir(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=ec(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Dc(this._rgb,2,e),this}darken(e){return Dc(this._rgb,2,-e),this}saturate(e){return Dc(this._rgb,1,e),this}desaturate(e){return Dc(this._rgb,1,-e),this}rotate(e){return Q5(this._rgb,e),this}}/*!
 * Chart.js v4.4.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */function qn(){}const rB=(()=>{let t=0;return()=>t++})();function se(t){return t===null||typeof t>"u"}function Ee(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function J(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Oe(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Bt(t,e){return Oe(t)?t:e}function G(t,e){return typeof t>"u"?e:t}const sB=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,Ub=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function fe(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function le(t,e,n,i){let r,s,o;if(Ee(t))if(s=t.length,i)for(r=s-1;r>=0;r--)e.call(n,t[r],r);else for(r=0;r<s;r++)e.call(n,t[r],r);else if(J(t))for(o=Object.keys(t),s=o.length,r=0;r<s;r++)e.call(n,t[o[r]],o[r])}function Eh(t,e){let n,i,r,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],s=e[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function Sh(t){if(Ee(t))return t.map(Sh);if(J(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let r=0;for(;r<i;++r)e[n[r]]=Sh(t[n[r]]);return e}return t}function zb(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function oB(t,e,n,i){if(!zb(t))return;const r=e[t],s=n[t];J(r)&&J(s)?dl(r,s,i):e[t]=Sh(s)}function dl(t,e,n){const i=Ee(e)?e:[e],r=i.length;if(!J(t))return t;n=n||{};const s=n.merger||oB;let o;for(let a=0;a<r;++a){if(o=i[a],!J(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)s(l[c],t,o,n)}return t}function Aa(t,e){return dl(t,e,{merger:aB})}function aB(t,e,n){if(!zb(t))return;const i=e[t],r=n[t];J(i)&&J(r)?Aa(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Sh(r))}const eE={"":t=>t,x:t=>t.x,y:t=>t.y};function lB(t){const e=t.split("."),n=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function cB(t){const e=lB(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function ur(t,e){return(eE[e]||(eE[e]=cB(e)))(t)}function P_(t){return t.charAt(0).toUpperCase()+t.slice(1)}const fl=t=>typeof t<"u",hr=t=>typeof t=="function",tE=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function uB(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const xe=Math.PI,Ae=2*xe,hB=Ae+xe,Ah=Number.POSITIVE_INFINITY,dB=xe/180,Le=xe/2,wr=xe/4,nE=xe*2/3,Ui=Math.log10,zn=Math.sign;function xa(t,e,n){return Math.abs(t-e)<n}function iE(t){const e=Math.round(t);t=xa(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Ui(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function fB(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((r,s)=>r-s).pop(),e}function ho(t){return!isNaN(parseFloat(t))&&isFinite(t)}function pB(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function $b(t,e,n){let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function mn(t){return t*(xe/180)}function O_(t){return t*(180/xe)}function rE(t){if(!Oe(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Wb(t,e){const n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*xe&&(s+=Ae),{angle:s,distance:r}}function Ug(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function gB(t,e){return(t-e+hB)%Ae-xe}function zt(t){return(t%Ae+Ae)%Ae}function pl(t,e,n,i){const r=zt(t),s=zt(e),o=zt(n),a=zt(s-r),l=zt(o-r),c=zt(r-s),u=zt(r-o);return r===s||r===o||i&&s===o||a>l&&c<u}function Ye(t,e,n){return Math.max(e,Math.min(n,t))}function mB(t){return Ye(t,-32768,32767)}function si(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function D_(t,e,n){n=n||(o=>t[o]<e);let i=t.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,n(s)?r=s:i=s;return{lo:r,hi:i}}const oi=(t,e,n,i)=>D_(t,n,i?r=>{const s=t[r][e];return s<n||s===n&&t[r+1][e]===n}:r=>t[r][e]<n),yB=(t,e,n)=>D_(t,n,i=>t[i][e]>=n);function _B(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}const Hb=["push","pop","shift","splice","unshift"];function vB(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Hb.forEach(n=>{const i="_onData"+P_(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...s)}),o}})})}function sE(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(Hb.forEach(s=>{delete t[s]}),delete t._chartjs)}function qb(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Kb=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function Gb(t,e){let n=[],i=!1;return function(...r){n=r,i||(i=!0,Kb.call(window,()=>{i=!1,t.apply(e,n)}))}}function wB(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const M_=t=>t==="start"?"left":t==="end"?"right":"center",ft=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,EB=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function Qb(t,e,n){const i=e.length;let r=0,s=i;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:c,max:u,minDefined:h,maxDefined:d}=o.getUserBounds();h&&(r=Ye(Math.min(oi(a,l,c).lo,n?i:oi(e,l,o.getPixelForValue(c)).lo),0,i-1)),d?s=Ye(Math.max(oi(a,o.axis,u,!0).hi+1,n?0:oi(e,l,o.getPixelForValue(u),!0).hi+1),r,i)-r:s=i-r}return{start:r,count:s}}function Yb(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=r,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}const Mc=t=>t===0||t===1,oE=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Ae/n)),aE=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Ae/n)+1,Ta={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Le)+1,easeOutSine:t=>Math.sin(t*Le),easeInOutSine:t=>-.5*(Math.cos(xe*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Mc(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Mc(t)?t:oE(t,.075,.3),easeOutElastic:t=>Mc(t)?t:aE(t,.075,.3),easeInOutElastic(t){return Mc(t)?t:t<.5?.5*oE(t*2,.1125,.45):.5+.5*aE(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Ta.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Ta.easeInBounce(t*2)*.5:Ta.easeOutBounce(t*2-1)*.5+.5};function N_(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function lE(t){return N_(t)?t:new hl(t)}function Kf(t){return N_(t)?t:new hl(t).saturate(.5).darken(.1).hexString()}const SB=["x","y","borderWidth","radius","tension"],AB=["color","borderColor","backgroundColor"];function xB(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:AB},numbers:{type:"number",properties:SB}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function TB(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const cE=new Map;function IB(t,e){e=e||{};const n=t+JSON.stringify(e);let i=cE.get(n);return i||(i=new Intl.NumberFormat(t,e),cE.set(n,i)),i}function tc(t,e,n){return IB(e,n).format(t)}const Xb={values(t){return Ee(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let r,s=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),s=bB(t,n)}const o=Ui(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),tc(t,i,l)},logarithmic(t,e,n){if(t===0)return"0";const i=n[e].significand||t/Math.pow(10,Math.floor(Ui(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?Xb.numeric.call(this,t,e,n):""}};function bB(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var jd={formatters:Xb};function CB(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:jd.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const is=Object.create(null),zg=Object.create(null);function Ia(t,e){if(!e)return t;const n=e.split(".");for(let i=0,r=n.length;i<r;++i){const s=n[i];t=t[s]||(t[s]=Object.create(null))}return t}function Gf(t,e,n){return typeof e=="string"?dl(Ia(t,e),n):dl(Ia(t,""),e)}class kB{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Kf(r.backgroundColor),this.hoverBorderColor=(i,r)=>Kf(r.borderColor),this.hoverColor=(i,r)=>Kf(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Gf(this,e,n)}get(e){return Ia(this,e)}describe(e,n){return Gf(zg,e,n)}override(e,n){return Gf(is,e,n)}route(e,n,i,r){const s=Ia(this,e),o=Ia(this,i),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[r];return J(l)?Object.assign({},c,l):G(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var De=new kB({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[xB,TB,CB]);function RB(t){return!t||se(t.size)||se(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function xh(t,e,n,i,r){let s=e[r];return s||(s=e[r]=t.measureText(r).width,n.push(r)),s>i&&(i=s),i}function PB(t,e,n,i){i=i||{};let r=i.data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},s=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,c,u,h,d;for(l=0;l<a;l++)if(h=n[l],h!=null&&!Ee(h))o=xh(t,r,s,o,h);else if(Ee(h))for(c=0,u=h.length;c<u;c++)d=h[c],d!=null&&!Ee(d)&&(o=xh(t,r,s,o,d));t.restore();const f=s.length/2;if(f>n.length){for(l=0;l<f;l++)delete r[s[l]];s.splice(0,f)}return o}function Er(t,e,n){const i=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function uE(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function $g(t,e,n,i){Jb(t,e,n,i,null)}function Jb(t,e,n,i,r){let s,o,a,l,c,u,h,d;const f=e.pointStyle,p=e.rotation,g=e.radius;let _=(p||0)*dB;if(f&&typeof f=="object"&&(s=f.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(_),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(g)||g<=0)){switch(t.beginPath(),f){default:r?t.ellipse(n,i,r/2,g,0,0,Ae):t.arc(n,i,g,0,Ae),t.closePath();break;case"triangle":u=r?r/2:g,t.moveTo(n+Math.sin(_)*u,i-Math.cos(_)*g),_+=nE,t.lineTo(n+Math.sin(_)*u,i-Math.cos(_)*g),_+=nE,t.lineTo(n+Math.sin(_)*u,i-Math.cos(_)*g),t.closePath();break;case"rectRounded":c=g*.516,l=g-c,o=Math.cos(_+wr)*l,h=Math.cos(_+wr)*(r?r/2-c:l),a=Math.sin(_+wr)*l,d=Math.sin(_+wr)*(r?r/2-c:l),t.arc(n-h,i-a,c,_-xe,_-Le),t.arc(n+d,i-o,c,_-Le,_),t.arc(n+h,i+a,c,_,_+Le),t.arc(n-d,i+o,c,_+Le,_+xe),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,u=r?r/2:l,t.rect(n-u,i-l,2*u,2*l);break}_+=wr;case"rectRot":h=Math.cos(_)*(r?r/2:g),o=Math.cos(_)*g,a=Math.sin(_)*g,d=Math.sin(_)*(r?r/2:g),t.moveTo(n-h,i-a),t.lineTo(n+d,i-o),t.lineTo(n+h,i+a),t.lineTo(n-d,i+o),t.closePath();break;case"crossRot":_+=wr;case"cross":h=Math.cos(_)*(r?r/2:g),o=Math.cos(_)*g,a=Math.sin(_)*g,d=Math.sin(_)*(r?r/2:g),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o);break;case"star":h=Math.cos(_)*(r?r/2:g),o=Math.cos(_)*g,a=Math.sin(_)*g,d=Math.sin(_)*(r?r/2:g),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o),_+=wr,h=Math.cos(_)*(r?r/2:g),o=Math.cos(_)*g,a=Math.sin(_)*g,d=Math.sin(_)*(r?r/2:g),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o);break;case"line":o=r?r/2:Math.cos(_)*g,a=Math.sin(_)*g,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(_)*(r?r/2:g),i+Math.sin(_)*g);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function ai(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Bd(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Ud(t){t.restore()}function OB(t,e,n,i,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else r==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function DB(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function MB(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),se(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function NB(t,e,n,i,r){if(r.strikethrough||r.underline){const s=t.measureText(i),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function LB(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function rs(t,e,n,i,r,s={}){const o=Ee(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=r.string,MB(t,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&LB(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),se(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,i,s.maxWidth)),t.fillText(c,n,i,s.maxWidth),NB(t,n,i,c,s),i+=Number(r.lineHeight);t.restore()}function gl(t,e){const{x:n,y:i,w:r,h:s,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*xe,xe,!0),t.lineTo(n,i+s-o.bottomLeft),t.arc(n+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,xe,Le,!0),t.lineTo(n+r-o.bottomRight,i+s),t.arc(n+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,Le,0,!0),t.lineTo(n+r,i+o.topRight),t.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-Le,!0),t.lineTo(n+o.topLeft,i)}const VB=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,FB=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function jB(t,e){const n=(""+t).match(VB);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const BB=t=>+t||0;function L_(t,e){const n={},i=J(e),r=i?Object.keys(e):e,s=J(t)?i?o=>G(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of r)n[o]=BB(s(o));return n}function Zb(t){return L_(t,{top:"y",right:"x",bottom:"y",left:"x"})}function $r(t){return L_(t,["topLeft","topRight","bottomLeft","bottomRight"])}function At(t){const e=Zb(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function We(t,e){t=t||{},e=e||De.font;let n=G(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=G(t.style,e.style);i&&!(""+i).match(FB)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:G(t.family,e.family),lineHeight:jB(G(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:G(t.weight,e.weight),string:""};return r.string=RB(r),r}function na(t,e,n,i){let r=!0,s,o,a;for(s=0,o=t.length;s<o;++s)if(a=t[s],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),r=!1),n!==void 0&&Ee(a)&&(a=a[n%a.length],r=!1),a!==void 0))return i&&!r&&(i.cacheable=!1),a}function UB(t,e,n){const{min:i,max:r}=t,s=Ub(e,(r-i)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function vr(t,e){return Object.assign(Object.create(t),e)}function V_(t,e=[""],n,i,r=()=>t[0]){const s=n||t;typeof i>"u"&&(i=iC("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:i,_getTarget:r,override:a=>V_([a,...t],e,s,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return tC(a,l,()=>QB(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return dE(a).includes(l)},ownKeys(a){return dE(a)},set(a,l,c){const u=a._storage||(a._storage=r());return a[l]=u[l]=c,delete a._keys,!0}})}function fo(t,e,n,i){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:eC(t,i),setContext:s=>fo(t,s,n,i),override:s=>fo(t.override(s),e,n,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return tC(s,o,()=>$B(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function eC(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:hr(n)?n:()=>n,isIndexable:hr(i)?i:()=>i}}const zB=(t,e)=>t?t+P_(e):e,F_=(t,e)=>J(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function tC(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const i=n();return t[e]=i,i}function $B(t,e,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=t;let a=i[e];return hr(a)&&o.isScriptable(e)&&(a=WB(e,a,t,n)),Ee(a)&&a.length&&(a=HB(e,a,t,o.isIndexable)),F_(e,a)&&(a=fo(a,r,s&&s[e],o)),a}function WB(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||i);return a.delete(t),F_(t,l)&&(l=j_(r._scopes,r,t,l)),l}function HB(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&i(t))return e[s.index%e.length];if(J(e[0])){const l=e,c=r._scopes.filter(u=>u!==l);e=[];for(const u of l){const h=j_(c,r,t,u);e.push(fo(h,s,o&&o[t],a))}}return e}function nC(t,e,n){return hr(t)?t(e,n):t}const qB=(t,e)=>t===!0?e:typeof t=="string"?ur(e,t):void 0;function KB(t,e,n,i,r){for(const s of e){const o=qB(n,s);if(o){t.add(o);const a=nC(o._fallback,n,r);if(typeof a<"u"&&a!==n&&a!==i)return a}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function j_(t,e,n,i){const r=e._rootScopes,s=nC(e._fallback,n,i),o=[...t,...r],a=new Set;a.add(i);let l=hE(a,o,n,s||n,i);return l===null||typeof s<"u"&&s!==n&&(l=hE(a,o,s,l,i),l===null)?!1:V_(Array.from(a),[""],r,s,()=>GB(e,n,i))}function hE(t,e,n,i,r){for(;n;)n=KB(t,e,n,i,r);return n}function GB(t,e,n){const i=t._getTarget();e in i||(i[e]={});const r=i[e];return Ee(r)&&J(n)?n:r||{}}function QB(t,e,n,i){let r;for(const s of e)if(r=iC(zB(s,t),n),typeof r<"u")return F_(t,r)?j_(n,i,t,r):r}function iC(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function dE(t){let e=t._keys;return e||(e=t._keys=YB(t._scopes)),e}function YB(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}function rC(t,e,n,i){const{iScale:r}=t,{key:s="r"}=this._parsing,o=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=e[c],o[a]={r:r.parse(ur(u,s),c)};return o}const XB=Number.EPSILON||1e-14,po=(t,e)=>e<t.length&&!t[e].skip&&t[e],sC=t=>t==="x"?"y":"x";function JB(t,e,n,i){const r=t.skip?e:t,s=e,o=n.skip?e:n,a=Ug(s,r),l=Ug(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=i*c,d=i*u;return{previous:{x:s.x-h*(o.x-r.x),y:s.y-h*(o.y-r.y)},next:{x:s.x+d*(o.x-r.x),y:s.y+d*(o.y-r.y)}}}function ZB(t,e,n){const i=t.length;let r,s,o,a,l,c=po(t,0);for(let u=0;u<i-1;++u)if(l=c,c=po(t,u+1),!(!l||!c)){if(xa(e[u],0,XB)){n[u]=n[u+1]=0;continue}r=n[u]/e[u],s=n[u+1]/e[u],a=Math.pow(r,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=r*o*e[u],n[u+1]=s*o*e[u])}}function eU(t,e,n="x"){const i=sC(n),r=t.length;let s,o,a,l=po(t,0);for(let c=0;c<r;++c){if(o=a,a=l,l=po(t,c+1),!a)continue;const u=a[n],h=a[i];o&&(s=(u-o[n])/3,a[`cp1${n}`]=u-s,a[`cp1${i}`]=h-s*e[c]),l&&(s=(l[n]-u)/3,a[`cp2${n}`]=u+s,a[`cp2${i}`]=h+s*e[c])}}function tU(t,e="x"){const n=sC(e),i=t.length,r=Array(i).fill(0),s=Array(i);let o,a,l,c=po(t,0);for(o=0;o<i;++o)if(a=l,l=c,c=po(t,o+1),!!l){if(c){const u=c[e]-l[e];r[o]=u!==0?(c[n]-l[n])/u:0}s[o]=a?c?zn(r[o-1])!==zn(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}ZB(t,r,s),eU(t,s,e)}function Nc(t,e,n){return Math.max(Math.min(t,n),e)}function nU(t,e){let n,i,r,s,o,a=ai(t[0],e);for(n=0,i=t.length;n<i;++n)o=s,s=a,a=n<i-1&&ai(t[n+1],e),s&&(r=t[n],o&&(r.cp1x=Nc(r.cp1x,e.left,e.right),r.cp1y=Nc(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=Nc(r.cp2x,e.left,e.right),r.cp2y=Nc(r.cp2y,e.top,e.bottom)))}function iU(t,e,n,i,r){let s,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")tU(t,r);else{let c=i?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=JB(c,a,t[Math.min(s+1,o-(i?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&nU(t,n)}function oC(){return typeof window<"u"&&typeof document<"u"}function B_(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Th(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const zd=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function rU(t,e){return zd(t).getPropertyValue(e)}const sU=["top","right","bottom","left"];function Wr(t,e,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=sU[r];i[s]=parseFloat(t[e+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const oU=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function aU(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:s}=i;let o=!1,a,l;if(oU(r,s,t.target))a=r,l=s;else{const c=e.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function br(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,r=zd(n),s=r.boxSizing==="border-box",o=Wr(r,"padding"),a=Wr(r,"border","width"),{x:l,y:c,box:u}=aU(t,n),h=o.left+(u&&a.left),d=o.top+(u&&a.top);let{width:f,height:p}=e;return s&&(f-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-h)/f*n.width/i),y:Math.round((c-d)/p*n.height/i)}}function lU(t,e,n){let i,r;if(e===void 0||n===void 0){const s=B_(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),a=zd(s),l=Wr(a,"border","width"),c=Wr(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,i=Th(a.maxWidth,s,"clientWidth"),r=Th(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:i||Ah,maxHeight:r||Ah}}const Lc=t=>Math.round(t*10)/10;function cU(t,e,n,i){const r=zd(t),s=Wr(r,"margin"),o=Th(r.maxWidth,t,"clientWidth")||Ah,a=Th(r.maxHeight,t,"clientHeight")||Ah,l=lU(t,e,n);let{width:c,height:u}=l;if(r.boxSizing==="content-box"){const d=Wr(r,"border","width"),f=Wr(r,"padding");c-=f.width+d.width,u-=f.height+d.height}return c=Math.max(0,c-s.width),u=Math.max(0,i?c/i:u-s.height),c=Lc(Math.min(c,o,l.maxWidth)),u=Lc(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Lc(c/2)),(e!==void 0||n!==void 0)&&i&&l.height&&u>l.height&&(u=l.height,c=Lc(Math.floor(u*i))),{width:c,height:u}}function fE(t,e,n){const i=e||1,r=Math.floor(t.height*i),s=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(t.currentDevicePixelRatio=i,o.height=r,o.width=s,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const uU=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return t}();function pE(t,e){const n=rU(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Cr(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function hU(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function dU(t,e,n,i){const r={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=Cr(t,r,n),a=Cr(r,s,n),l=Cr(s,e,n),c=Cr(o,a,n),u=Cr(a,l,n);return Cr(c,u,n)}const fU=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},pU=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Hs(t,e,n){return t?fU(e,n):pU()}function aC(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function lC(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function cC(t){return t==="angle"?{between:pl,compare:gB,normalize:zt}:{between:si,compare:(e,n)=>e-n,normalize:e=>e}}function gE({start:t,end:e,count:n,loop:i,style:r}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:r}}function gU(t,e,n){const{property:i,start:r,end:s}=n,{between:o,normalize:a}=cC(i),l=e.length;let{start:c,end:u,loop:h}=t,d,f;if(h){for(c+=l,u+=l,d=0,f=l;d<f&&o(a(e[c%l][i]),r,s);++d)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:t.style}}function uC(t,e,n){if(!n)return[t];const{property:i,start:r,end:s}=n,o=e.length,{compare:a,between:l,normalize:c}=cC(i),{start:u,end:h,loop:d,style:f}=gU(t,e,n),p=[];let g=!1,_=null,m,y,v;const E=()=>l(r,v,m)&&a(r,v)!==0,S=()=>a(s,m)===0||l(s,v,m),A=()=>g||E(),x=()=>!g||S();for(let T=u,O=u;T<=h;++T)y=e[T%o],!y.skip&&(m=c(y[i]),m!==v&&(g=l(m,r,s),_===null&&A()&&(_=a(m,r)===0?T:O),_!==null&&x()&&(p.push(gE({start:_,end:T,loop:d,count:o,style:f})),_=null),O=T,v=m));return _!==null&&p.push(gE({start:_,end:h,loop:d,count:o,style:f})),p}function hC(t,e){const n=[],i=t.segments;for(let r=0;r<i.length;r++){const s=uC(i[r],t.points,e);s.length&&n.push(...s)}return n}function mU(t,e,n,i){let r=0,s=e-1;if(n&&!i)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(s+=r);s>r&&t[s%e].skip;)s--;return s%=e,{start:r,end:s}}function yU(t,e,n,i){const r=t.length,s=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%r];c.skip||c.stop?a.skip||(i=!1,s.push({start:e%r,end:(l-1)%r,loop:i}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&s.push({start:e%r,end:o%r,loop:i}),s}function _U(t,e){const n=t.points,i=t.options.spanGaps,r=n.length;if(!r)return[];const s=!!t._loop,{start:o,end:a}=mU(n,r,s,i);if(i===!0)return mE(t,[{start:o,end:a,loop:s}],n,e);const l=a<o?a+r:a,c=!!t._fullLoop&&o===0&&a===r-1;return mE(t,yU(n,o,l,c),n,e)}function mE(t,e,n,i){return!i||!i.setContext||!n?e:vU(t,e,n,i)}function vU(t,e,n,i){const r=t._chart.getContext(),s=yE(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=s,h=e[0].start,d=h;function f(p,g,_,m){const y=a?-1:1;if(p!==g){for(p+=l;n[p%l].skip;)p-=y;for(;n[g%l].skip;)g+=y;p%l!==g%l&&(c.push({start:p%l,end:g%l,loop:_,style:m}),u=m,h=g%l)}}for(const p of e){h=a?h:p.start;let g=n[h%l],_;for(d=h+1;d<=p.end;d++){const m=n[d%l];_=yE(i.setContext(vr(r,{type:"segment",p0:g,p1:m,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),wU(_,u)&&f(h,d-1,p.loop,u),g=m,u=_}h<d-1&&f(h,d-1,p.loop,u)}return c}function yE(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function wU(t,e){if(!e)return!1;const n=[],i=function(r,s){return N_(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,i)!==JSON.stringify(e,i)}/*!
 * Chart.js v4.4.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */class EU{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,r){const s=n.listeners[r],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Kb.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Kn=new EU;const _E="transparent",SU={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=lE(t||_E),r=i.valid&&lE(e||_E);return r&&r.valid?r.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class AU{constructor(e,n,i,r){const s=n[i];r=na([e.to,r,s,e.from]);const o=na([e.from,s,r]);this._active=!0,this._fn=e.fn||SU[e.type||typeof o],this._easing=Ta[e.easing]||Ta.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=na([e.to,n,r,e.from]),this._from=na([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<i),!this._active){this._target[r]=a,this._notify(!0);return}if(n<0){this._target[r]=s;return}l=n/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}}class dC{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!J(e))return;const n=Object.keys(De.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const s=e[r];if(!J(s))return;const o={};for(const a of n)o[a]=s[a];(Ee(s.properties)&&s.properties||[r]).forEach(a=>{(a===r||!i.has(a))&&i.set(a,o)})})}_animateOptions(e,n){const i=n.options,r=TU(e,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&xU(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,n){const i=this._properties,r=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){r.push(...this._animateOptions(e,n));continue}const u=n[c];let h=s[c];const d=i.get(c);if(h)if(d&&h.active()){h.update(d,u,a);continue}else h.cancel();if(!d||!d.duration){e[c]=u;continue}s[c]=h=new AU(d,e,c,u),r.push(h)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return Kn.add(this._chart,i),!0}}function xU(t,e){const n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const s=t[i[r]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function TU(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function vE(t,e){const n=t&&t.options||{},i=n.reverse,r=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:i?s:r,end:i?r:s}}function IU(t,e,n){if(n===!1)return!1;const i=vE(t,n),r=vE(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function bU(t){let e,n,i,r;return J(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:t===!1}}function fC(t,e){const n=[],i=t._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function wE(t,e,n,i={}){const r=t.keys,s=i.mode==="single";let o,a,l,c;if(e!==null){for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===n){if(i.all)continue;break}c=t.values[l],Oe(c)&&(s||e===0||zn(e)===zn(c))&&(e+=c)}return e}}function CU(t){const e=Object.keys(t),n=new Array(e.length);let i,r,s;for(i=0,r=e.length;i<r;++i)s=e[i],n[i]={x:s,y:t[s]};return n}function EE(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function kU(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function RU(t){const{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function PU(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function SE(t,e,n,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const s=t[r.index];if(n&&s>0||!n&&s<0)return r.index}return null}function AE(t,e){const{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,c=o.axis,u=kU(s,o,i),h=e.length;let d;for(let f=0;f<h;++f){const p=e[f],{[l]:g,[c]:_}=p,m=p._stacks||(p._stacks={});d=m[c]=PU(r,u,g),d[a]=_,d._top=SE(d,o,!0,i.type),d._bottom=SE(d,o,!1,i.type);const y=d._visualValues||(d._visualValues={});y[a]=_}}function Qf(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function OU(t,e){return vr(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function DU(t,e,n){return vr(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Bo(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const r of e){const s=r._stacks;if(!s||s[i]===void 0||s[i][n]===void 0)return;delete s[i][n],s[i]._visualValues!==void 0&&s[i]._visualValues[n]!==void 0&&delete s[i]._visualValues[n]}}}const Yf=t=>t==="reset"||t==="none",xE=(t,e)=>e?t:Object.assign({},t),MU=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:fC(n,!0),values:null};class vn{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=EE(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Bo(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),r=(h,d,f,p)=>h==="x"?d:h==="r"?p:f,s=n.xAxisID=G(i.xAxisID,Qf(e,"x")),o=n.yAxisID=G(i.yAxisID,Qf(e,"y")),a=n.rAxisID=G(i.rAxisID,Qf(e,"r")),l=n.indexAxis,c=n.iAxisID=r(l,s,o,a),u=n.vAxisID=r(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&sE(this._data,this),e._stacked&&Bo(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(J(n))this._data=CU(n);else if(i!==n){if(i){sE(i,this);const r=this._cachedMeta;Bo(r),r._parsed=[]}n&&Object.isExtensible(n)&&vB(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=n._stacked;n._stacked=EE(n.vScale,n),n.stack!==i.stack&&(r=!0,Bo(n),n.stack=i.stack),this._resyncElements(e),(r||s!==n._stacked)&&AE(this,n._parsed)}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:o}=i,a=s.axis;let l=e===0&&n===r.length?!0:i._sorted,c=e>0&&i._parsed[e-1],u,h,d;if(this._parsing===!1)i._parsed=r,i._sorted=!0,d=r;else{Ee(r[e])?d=this.parseArrayData(i,r,e,n):J(r[e])?d=this.parseObjectData(i,r,e,n):d=this.parsePrimitiveData(i,r,e,n);const f=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<n;++u)i._parsed[u+e]=h=d[u],l&&(f()&&(l=!1),c=h);i._sorted=l}o&&AE(this,d)}parsePrimitiveData(e,n,i,r){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,c=s.getLabels(),u=s===o,h=new Array(r);let d,f,p;for(d=0,f=r;d<f;++d)p=d+i,h[d]={[a]:u||s.parse(c[p],p),[l]:o.parse(n[p],p)};return h}parseArrayData(e,n,i,r){const{xScale:s,yScale:o}=e,a=new Array(r);let l,c,u,h;for(l=0,c=r;l<c;++l)u=l+i,h=n[u],a[l]={x:s.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(e,n,i,r){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(r);let u,h,d,f;for(u=0,h=r;u<h;++u)d=u+i,f=n[d],c[u]={x:s.parse(ur(f,a),d),y:o.parse(ur(f,l),d)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const r=this.chart,s=this._cachedMeta,o=n[e.axis],a={keys:fC(r,!0),values:n._stacks[e.axis]._visualValues};return wE(a,o,s.index,{mode:i})}updateRangeFromParsed(e,n,i,r){const s=i[n.axis];let o=s===null?NaN:s;const a=r&&i._stacks[n.axis];r&&a&&(r.values=a,o=wE(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&e===i.iScale,o=r.length,a=this._getOtherScale(e),l=MU(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=RU(a);let d,f;function p(){f=r[d];const g=f[a.axis];return!Oe(f[e.axis])||u>g||h<g}for(d=0;d<o&&!(!p()&&(this.updateRangeFromParsed(c,e,f,l),s));++d);if(s){for(d=o-1;d>=0;--d)if(!p()){this.updateRangeFromParsed(c,e,f,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let r,s,o;for(r=0,s=n.length;r<s;++r)o=n[r][e.axis],Oe(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,r=n.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=bU(G(this.options.clip,IU(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||r.length-a,c=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(e,s,a,l),u=a;u<a+l;++u){const h=r[u];h.hidden||(h.active&&c?o.push(h):h.draw(e,s))}for(u=0;u<o.length;++u)o[u].draw(e,s)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=DU(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=OU(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const r=n==="active",s=this._cachedDataOpts,o=e+"-"+n,a=s[o],l=this.enableOptionSharing&&fl(i);if(a)return xE(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),h=r?[`${e}Hover`,"hover",e,""]:[e,""],d=c.getOptionScopes(this.getDataset(),u),f=Object.keys(De.elements[e]),p=()=>this.getContext(i,r,n),g=c.resolveNamedOptions(d,f,p,h);return g.$shared&&(g.$shared=l,s[o]=Object.freeze(xE(g,l))),g}_resolveAnimations(e,n,i){const r=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(r.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),d=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(d,this.getContext(e,i,n))}const c=new dC(r,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Yf(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),r=this._sharedOptions,s=this.getSharedOptions(i),o=this.includeOptions(n,s)||s!==r;return this.updateSharedOptions(s,n,i),{sharedOptions:s,includeOptions:o}}updateElement(e,n,i,r){Yf(r)?Object.assign(e,i):this._resolveAnimations(n,r).update(e,i)}updateSharedOptions(e,n,i){e&&!Yf(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,r){e.active=r;const s=this.getStyle(n,r);this._resolveAnimations(n,i,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const r=i.length,s=n.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,n,i=!0){const r=this._cachedMeta,s=r.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(e,n),i&&this.updateElements(s,e,n,"reset")}updateElements(e,n,i,r){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,n);i._stacked&&Bo(i,r)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,r]=e;this[n](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}P(vn,"defaults",{}),P(vn,"datasetElementType",null),P(vn,"dataElementType",null);function NU(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let r=0,s=n.length;r<s;r++)i=i.concat(n[r].controller.getAllParsedValues(t));t._cache.$bar=qb(i.sort((r,s)=>r-s))}return t._cache.$bar}function LU(t){const e=t.iScale,n=NU(e,t.type);let i=e._length,r,s,o,a;const l=()=>{o===32767||o===-32768||(fl(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(r=0,s=n.length;r<s;++r)o=e.getPixelForValue(n[r]),l();for(a=void 0,r=0,s=e.ticks.length;r<s;++r)o=e.getPixelForTick(r),l();return i}function VU(t,e,n,i){const r=n.barThickness;let s,o;return se(r)?(s=e.min*n.categoryPercentage,o=n.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:e.pixels[t]-s/2}}function FU(t,e,n,i){const r=e.pixels,s=r[t];let o=t>0?r[t-1]:null,a=t<r.length-1?r[t+1]:null;const l=n.categoryPercentage;o===null&&(o=s-(a===null?e.end-e.start:a-s)),a===null&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:c}}function jU(t,e,n,i){const r=n.parse(t[0],i),s=n.parse(t[1],i),o=Math.min(r,s),a=Math.max(r,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:r,end:s,min:o,max:a}}function pC(t,e,n,i){return Ee(t)?jU(t,e,n,i):e[n.axis]=n.parse(t,i),e}function TE(t,e,n,i){const r=t.iScale,s=t.vScale,o=r.getLabels(),a=r===s,l=[];let c,u,h,d;for(c=n,u=n+i;c<u;++c)d=e[c],h={},h[r.axis]=a||r.parse(o[c],c),l.push(pC(d,h,s,c));return l}function Xf(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function BU(t,e,n){return t!==0?zn(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function UU(t){let e,n,i,r,s;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(r="end",s="start"):(r="start",s="end"),{start:n,end:i,reverse:e,top:r,bottom:s}}function zU(t,e,n,i){let r=e.borderSkipped;const s={};if(!r){t.borderSkipped=s;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=UU(t);r==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?r=c:(n._bottom||0)===i?r=u:(s[IE(u,o,a,l)]=!0,r=c)),s[IE(r,o,a,l)]=!0,t.borderSkipped=s}function IE(t,e,n,i){return i?(t=$U(t,e,n),t=bE(t,n,e)):t=bE(t,e,n),t}function $U(t,e,n){return t===e?n:t===n?e:t}function bE(t,e,n){return t==="start"?e:t==="end"?n:t}function WU(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class mu extends vn{parsePrimitiveData(e,n,i,r){return TE(e,n,i,r)}parseArrayData(e,n,i,r){return TE(e,n,i,r)}parseObjectData(e,n,i,r){const{iScale:s,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?a:l,u=o.axis==="x"?a:l,h=[];let d,f,p,g;for(d=i,f=i+r;d<f;++d)g=n[d],p={},p[s.axis]=s.parse(ur(g,c),d),h.push(pC(ur(g,u),p,o,d));return h}updateRangeFromParsed(e,n,i,r){super.updateRangeFromParsed(e,n,i,r);const s=i._custom;s&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:r}=n,s=this.getParsed(e),o=s._custom,a=Xf(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,r){const s=r==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:d}=this._getSharedOptions(n,r);for(let f=n;f<n+i;f++){const p=this.getParsed(f),g=s||se(p[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),_=this._calculateBarIndexPixels(f,u),m=(p._stacks||{})[a.axis],y={horizontal:c,base:g.base,enableBorderRadius:!m||Xf(p._custom)||o===m._top||o===m._bottom,x:c?g.head:_.center,y:c?_.center:g.head,height:c?_.size:Math.abs(g.size),width:c?Math.abs(g.size):_.size};d&&(y.options=h||this.resolveDataElementOptions(f,e[f].active?"active":r));const v=y.options||e[f].options;zU(y,v,m,o),WU(y,v,u.ratio),this.updateElement(e[f],f,y,r)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),s=i.options.stacked,o=[],a=l=>{const c=l.controller.getParsed(n),u=c&&c[l.vScale.axis];if(se(u)||isNaN(u))return!0};for(const l of r)if(!(n!==void 0&&a(l))&&((s===!1||o.indexOf(l.stack)===-1||s===void 0&&l.stack===void 0)&&o.push(l.stack),l.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,i){const r=this._getStacks(e,i),s=n!==void 0?r.indexOf(n):-1;return s===-1?r.length-1:s}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,r=[];let s,o;for(s=0,o=n.data.length;s<o;++s)r.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const a=e.barThickness;return{min:a||LU(n),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i,index:r},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(e),c=l._custom,u=Xf(c);let h=l[n.axis],d=0,f=i?this.applyStack(n,l,i):h,p,g;f!==h&&(d=f-h,f=h),u&&(h=c.barStart,f=c.barEnd-c.barStart,h!==0&&zn(h)!==zn(c.barEnd)&&(d=0),d+=h);const _=!se(s)&&!u?s:d;let m=n.getPixelForValue(_);if(this.chart.getDataVisibility(e)?p=n.getPixelForValue(d+f):p=m,g=p-m,Math.abs(g)<o){g=BU(g,n,a)*o,h===a&&(m-=g/2);const y=n.getPixelForDecimal(0),v=n.getPixelForDecimal(1),E=Math.min(y,v),S=Math.max(y,v);m=Math.max(Math.min(m,S),E),p=m+g,i&&!u&&(l._stacks[n.axis]._visualValues[r]=n.getValueForPixel(p)-n.getValueForPixel(m))}if(m===n.getPixelForValue(a)){const y=zn(g)*n.getLineWidthForValue(a)/2;m+=y,g-=y}return{size:g,base:m,head:p,center:p+g/2}}_calculateBarIndexPixels(e,n){const i=n.scale,r=this.options,s=r.skipNull,o=G(r.maxBarThickness,1/0);let a,l;if(n.grouped){const c=s?this._getStackCount(e):n.stackCount,u=r.barThickness==="flex"?FU(e,n,r,c):VU(e,n,r,c),h=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);a=u.start+u.chunk*h+u.chunk/2,l=Math.min(o,u.chunk*u.ratio)}else a=i.getPixelForValue(this.getParsed(e)[i.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,r=i.length;let s=0;for(;s<r;++s)this.getParsed(s)[n.axis]!==null&&i[s].draw(this._ctx)}}P(mu,"id","bar"),P(mu,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),P(mu,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class yu extends vn{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,i,r){const s=super.parsePrimitiveData(e,n,i,r);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+i).radius;return s}parseArrayData(e,n,i,r){const s=super.parseArrayData(e,n,i,r);for(let o=0;o<s.length;o++){const a=n[i+o];s[o]._custom=G(a[2],this.resolveDataElementOptions(o+i).radius)}return s}parseObjectData(e,n,i,r){const s=super.parseObjectData(e,n,i,r);for(let o=0;o<s.length;o++){const a=n[i+o];s[o]._custom=G(a&&a.r&&+a.r,this.resolveDataElementOptions(o+i).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let i=e.length-1;i>=0;--i)n=Math.max(n,e[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=n,o=this.getParsed(e),a=r.getLabelForValue(o.x),l=s.getLabelForValue(o.y),c=o._custom;return{label:i[e]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,i,r){const s=r==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,r),u=o.axis,h=a.axis;for(let d=n;d<n+i;d++){const f=e[d],p=!s&&this.getParsed(d),g={},_=g[u]=s?o.getPixelForDecimal(.5):o.getPixelForValue(p[u]),m=g[h]=s?a.getBasePixel():a.getPixelForValue(p[h]);g.skip=isNaN(_)||isNaN(m),c&&(g.options=l||this.resolveDataElementOptions(d,f.active?"active":r),s&&(g.options.radius=0)),this.updateElement(f,d,g,r)}}resolveDataElementOptions(e,n){const i=this.getParsed(e);let r=super.resolveDataElementOptions(e,n);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const s=r.radius;return n!=="active"&&(r.radius=0),r.radius+=G(i&&i._custom,s),r}}P(yu,"id","bubble"),P(yu,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),P(yu,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function HU(t,e,n){let i=1,r=1,s=0,o=0;if(e<Ae){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),d=Math.sin(l),f=(v,E,S)=>pl(v,a,l,!0)?1:Math.max(E,E*n,S,S*n),p=(v,E,S)=>pl(v,a,l,!0)?-1:Math.min(E,E*n,S,S*n),g=f(0,c,h),_=f(Le,u,d),m=p(xe,c,h),y=p(xe+Le,u,d);i=(g-m)/2,r=(_-y)/2,s=-(g+m)/2,o=-(_+y)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}class Vr extends vn{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let s=l=>+i[l];if(J(i[e])){const{key:l="value"}=this._parsing;s=c=>+ur(i[c],l)}let o,a;for(o=e,a=e+n;o<a;++o)r._parsed[o]=s(o)}}_getRotation(){return mn(this.options.rotation-90)}_getCircumference(){return mn(this.options.circumference)}_getRotationExtents(){let e=Ae,n=-Ae;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,s=r._getRotation(),o=r._getCircumference();e=Math.min(e,s),n=Math.max(n,s+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,r=this._cachedMeta,s=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),l=Math.min(sB(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:d,ratioY:f,offsetX:p,offsetY:g}=HU(h,u,l),_=(i.width-o)/d,m=(i.height-o)/f,y=Math.max(Math.min(_,m)/2,0),v=Ub(this.options.radius,y),E=Math.max(v*l,0),S=(v-E)/this._getVisibleDatasetWeightTotal();this.offsetX=p*v,this.offsetY=g*v,r.total=this.calculateTotal(),this.outerRadius=v-S*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-S*c,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const i=this.options,r=this._cachedMeta,s=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*s/Ae)}updateElements(e,n,i,r){const s=r==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,h=(a.top+a.bottom)/2,d=s&&c.animateScale,f=d?0:this.innerRadius,p=d?0:this.outerRadius,{sharedOptions:g,includeOptions:_}=this._getSharedOptions(n,r);let m=this._getRotation(),y;for(y=0;y<n;++y)m+=this._circumference(y,s);for(y=n;y<n+i;++y){const v=this._circumference(y,s),E=e[y],S={x:u+this.offsetX,y:h+this.offsetY,startAngle:m,endAngle:m+v,circumference:v,outerRadius:p,innerRadius:f};_&&(S.options=g||this.resolveDataElementOptions(y,E.active?"active":r)),m+=v,this.updateElement(E,y,S,r)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,r;for(r=0;r<n.length;r++){const s=e._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Ae*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=tc(n._parsed[e],i.options.locale);return{label:r[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const i=this.chart;let r,s,o,a,l;if(!e){for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){o=i.getDatasetMeta(r),e=o.data,a=o.controller;break}}if(!e)return 0;for(r=0,s=e.length;r<s;++r)l=a.resolveDataElementOptions(r),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,r=e.length;i<r;++i){const s=this.resolveDataElementOptions(i);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(G(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}P(Vr,"id","doughnut"),P(Vr,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),P(Vr,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),P(Vr,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return n.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:r,lineWidth:l.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class _u extends vn{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=Qb(n,r,o);this._drawStart=a,this._drawCount=l,Yb(n)&&(a=0,l=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:c},e),this.updateElements(r,a,l,e)}updateElements(e,n,i,r){const s=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,r),d=o.axis,f=a.axis,{spanGaps:p,segment:g}=this.options,_=ho(p)?p:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||s||r==="none",y=n+i,v=e.length;let E=n>0&&this.getParsed(n-1);for(let S=0;S<v;++S){const A=e[S],x=m?A:{};if(S<n||S>=y){x.skip=!0;continue}const T=this.getParsed(S),O=se(T[f]),D=x[d]=o.getPixelForValue(T[d],S),U=x[f]=s||O?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,T,l):T[f],S);x.skip=isNaN(D)||isNaN(U)||O,x.stop=S>0&&Math.abs(T[d]-E[d])>_,g&&(x.parsed=T,x.raw=c.data[S]),h&&(x.options=u||this.resolveDataElementOptions(S,A.active?"active":r)),m||this.updateElement(A,S,x,r),E=T}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,r=e.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}P(_u,"id","line"),P(_u,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),P(_u,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class ba extends vn{constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=tc(n._parsed[e].r,i.options.locale);return{label:r[e]||"",value:s}}parseObjectData(e,n,i,r){return rC.bind(this)(e,n,i,r)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((i,r)=>{const s=this.getParsed(r).r;!isNaN(s)&&this.chart.getDataVisibility(r)&&(s<n.min&&(n.min=s),s>n.max&&(n.max=s))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,i=e.options,r=Math.min(n.right-n.left,n.bottom-n.top),s=Math.max(r/2,0),o=Math.max(i.cutoutPercentage?s/100*i.cutoutPercentage:1,0),a=(s-o)/e.getVisibleDatasetCount();this.outerRadius=s-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,n,i,r){const s=r==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,h=c.yCenter,d=c.getIndexAngle(0)-.5*xe;let f=d,p;const g=360/this.countVisibleElements();for(p=0;p<n;++p)f+=this._computeAngle(p,r,g);for(p=n;p<n+i;p++){const _=e[p];let m=f,y=f+this._computeAngle(p,r,g),v=o.getDataVisibility(p)?c.getDistanceFromCenterForValue(this.getParsed(p).r):0;f=y,s&&(l.animateScale&&(v=0),l.animateRotate&&(m=y=d));const E={x:u,y:h,innerRadius:0,outerRadius:v,startAngle:m,endAngle:y,options:this.resolveDataElementOptions(p,_.active?"active":r)};this.updateElement(_,p,E,r)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((i,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&n++}),n}_computeAngle(e,n,i){return this.chart.getDataVisibility(e)?mn(this.resolveDataElementOptions(e,n).angle||i):0}}P(ba,"id","polarArea"),P(ba,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),P(ba,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return n.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:r,lineWidth:l.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Wg extends Vr{}P(Wg,"id","pie"),P(Wg,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class vu extends vn{getLabelAndValue(e){const n=this._cachedMeta.vScale,i=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(e,n,i,r){return rC.bind(this)(e,n,i,r)}update(e){const n=this._cachedMeta,i=n.dataset,r=n.data||[],s=n.iScale.getLabels();if(i.points=r,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:s.length===r.length,options:o};this.updateElement(i,void 0,a,e)}this.updateElements(r,0,r.length,e)}updateElements(e,n,i,r){const s=this._cachedMeta.rScale,o=r==="reset";for(let a=n;a<n+i;a++){const l=e[a],c=this.resolveDataElementOptions(a,l.active?"active":r),u=s.getPointPositionForValue(a,this.getParsed(a).r),h=o?s.xCenter:u.x,d=o?s.yCenter:u.y,f={x:h,y:d,angle:u.angle,skip:isNaN(h)||isNaN(d),options:c};this.updateElement(l,a,f,r)}}}P(vu,"id","radar"),P(vu,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),P(vu,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class wu extends vn{getLabelAndValue(e){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=n,o=this.getParsed(e),a=r.getLabelForValue(o.x),l=s.getLabelForValue(o.y);return{label:i[e]||"",value:"("+a+", "+l+")"}}update(e){const n=this._cachedMeta,{data:i=[]}=n,r=this.chart._animationsDisabled;let{start:s,count:o}=Qb(n,i,r);if(this._drawStart=s,this._drawCount=o,Yb(n)&&(s=0,o=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=i;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!r,options:c},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(i,s,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,i,r){const s=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(n,r),h=this.getSharedOptions(u),d=this.includeOptions(r,h),f=o.axis,p=a.axis,{spanGaps:g,segment:_}=this.options,m=ho(g)?g:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||s||r==="none";let v=n>0&&this.getParsed(n-1);for(let E=n;E<n+i;++E){const S=e[E],A=this.getParsed(E),x=y?S:{},T=se(A[p]),O=x[f]=o.getPixelForValue(A[f],E),D=x[p]=s||T?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,A,l):A[p],E);x.skip=isNaN(O)||isNaN(D)||T,x.stop=E>0&&Math.abs(A[f]-v[f])>m,_&&(x.parsed=A,x.raw=c.data[E]),d&&(x.options=h||this.resolveDataElementOptions(E,S.active?"active":r)),y||this.updateElement(S,E,x,r),v=A}this.updateSharedOptions(h,r,u)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const i=e.dataset,r=i.options&&i.options.borderWidth||0;if(!n.length)return r;const s=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(r,s,o)/2}}P(wu,"id","scatter"),P(wu,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),P(wu,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var qU=Object.freeze({__proto__:null,BarController:mu,BubbleController:yu,DoughnutController:Vr,LineController:_u,PieController:Wg,PolarAreaController:ba,RadarController:vu,ScatterController:wu});function Sr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class U_{constructor(e){P(this,"options");this.options=e||{}}static override(e){Object.assign(U_.prototype,e)}init(){}formats(){return Sr()}parse(){return Sr()}format(){return Sr()}add(){return Sr()}diff(){return Sr()}startOf(){return Sr()}endOf(){return Sr()}}var KU={_date:U_};function GU(t,e,n,i){const{controller:r,data:s,_sorted:o}=t,a=r._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const l=a._reversePixels?yB:oi;if(i){if(r._sharedOptions){const c=s[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){const h=l(s,e,n-u),d=l(s,e,n+u);return{lo:h.lo,hi:d.hi}}}}else return l(s,e,n)}return{lo:0,hi:s.length-1}}function nc(t,e,n,i,r){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:c,data:u}=s[a],{lo:h,hi:d}=GU(s[a],e,o,r);for(let f=h;f<=d;++f){const p=u[f];p.skip||i(p,c,f)}}}function QU(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,r){const s=e?Math.abs(i.x-r.x):0,o=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function Jf(t,e,n,i,r){const s=[];return!r&&!t.isPointInArea(e)||nc(t,n,e,function(a,l,c){!r&&!ai(a,t.chartArea,0)||a.inRange(e.x,e.y,i)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function YU(t,e,n,i){let r=[];function s(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],i),{angle:h}=Wb(o,{x:e.x,y:e.y});pl(h,c,u)&&r.push({element:o,datasetIndex:a,index:l})}return nc(t,n,e,s),r}function XU(t,e,n,i,r,s){let o=[];const a=QU(n);let l=Number.POSITIVE_INFINITY;function c(u,h,d){const f=u.inRange(e.x,e.y,r);if(i&&!f)return;const p=u.getCenterPoint(r);if(!(!!s||t.isPointInArea(p))&&!f)return;const _=a(e,p);_<l?(o=[{element:u,datasetIndex:h,index:d}],l=_):_===l&&o.push({element:u,datasetIndex:h,index:d})}return nc(t,n,e,c),o}function Zf(t,e,n,i,r,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!i?YU(t,e,n,r):XU(t,e,n,i,r,s)}function CE(t,e,n,i,r){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return nc(t,n,e,(l,c,u)=>{l[o](e[n],r)&&(s.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,r))}),i&&!a?[]:s}var JU={evaluateInteractionItems:nc,modes:{index(t,e,n,i){const r=br(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Jf(t,r,s,i,o):Zf(t,r,s,!1,i,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,i){const r=br(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Jf(t,r,s,i,o):Zf(t,r,s,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,i){const r=br(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return Jf(t,r,s,i,o)},nearest(t,e,n,i){const r=br(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return Zf(t,r,s,n.intersect,i,o)},x(t,e,n,i){const r=br(e,t);return CE(t,r,"x",n.intersect,i)},y(t,e,n,i){const r=br(e,t);return CE(t,r,"y",n.intersect,i)}}};const gC=["left","top","right","bottom"];function Uo(t,e){return t.filter(n=>n.pos===e)}function kE(t,e){return t.filter(n=>gC.indexOf(n.pos)===-1&&n.box.axis===e)}function zo(t,e){return t.sort((n,i)=>{const r=e?i:n,s=e?n:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function ZU(t){const e=[];let n,i,r,s,o,a;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=r,e.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return e}function e3(t){const e={};for(const n of t){const{stack:i,pos:r,stackWeight:s}=n;if(!i||!gC.includes(r))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function t3(t,e){const n=e3(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*i:l&&e.availableWidth,a.height=r):(a.width=i,a.height=u?u*r:l&&e.availableHeight)}return n}function n3(t){const e=ZU(t),n=zo(e.filter(c=>c.box.fullSize),!0),i=zo(Uo(e,"left"),!0),r=zo(Uo(e,"right")),s=zo(Uo(e,"top"),!0),o=zo(Uo(e,"bottom")),a=kE(e,"x"),l=kE(e,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:Uo(e,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}function RE(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function mC(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function i3(t,e,n,i){const{pos:r,box:s}=n,o=t.maxPadding;if(!J(r)){n.size&&(t[r]-=n.size);const h=i[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?s.height:s.width),n.size=h.size/h.count,t[r]+=n.size}s.getPadding&&mC(o,s.getPadding());const a=Math.max(0,e.outerWidth-RE(o,t,"left","right")),l=Math.max(0,e.outerHeight-RE(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function r3(t){const e=t.maxPadding;function n(i){const r=Math.max(e[i]-t[i],0);return t[i]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function s3(t,e){const n=e.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return i(t?["left","right"]:["top","bottom"])}function ia(t,e,n,i){const r=[];let s,o,a,l,c,u;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,s3(a.horizontal,e));const{same:h,other:d}=i3(e,n,a,i);c|=h&&r.length,u=u||d,l.fullSize||r.push(a)}return c&&ia(r,e,n,i)||u}function Vc(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function PE(t,e,n,i){const r=n.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=e.w*u,d=c.size||l.height;fl(c.start)&&(o=c.start),l.fullSize?Vc(l,r.left,o,n.outerWidth-r.right-r.left,d):Vc(l,e.left+c.placed,o,h,d),c.start=o,c.placed+=h,o=l.bottom}else{const h=e.h*u,d=c.size||l.width;fl(c.start)&&(s=c.start),l.fullSize?Vc(l,s,r.top,d,n.outerHeight-r.bottom-r.top):Vc(l,s,e.top+c.placed,d,h),c.start=s,c.placed+=h,s=l.right}}e.x=s,e.y=o}var yt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const r=At(t.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(n-r.height,0),a=n3(t.boxes),l=a.vertical,c=a.horizontal;le(t.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const u=l.reduce((g,_)=>_.box.options&&_.box.options.display===!1?g:g+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},r);mC(d,At(i));const f=Object.assign({maxPadding:d,w:s,h:o,x:r.left,y:r.top},r),p=t3(l.concat(c),h);ia(a.fullSize,f,h,p),ia(l,f,h,p),ia(c,f,h,p)&&ia(l,f,h,p),r3(f),PE(a.leftAndTop,f,h,p),f.x+=f.w,f.y+=f.h,PE(a.rightAndBottom,f,h,p),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},le(a.chartArea,g=>{const _=g.box;Object.assign(_,t.chartArea),_.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class yC{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,r){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(e){return!0}updateConfig(e){}}class o3 extends yC{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Eu="$chartjs",a3={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},OE=t=>t===null||t==="";function l3(t,e){const n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[Eu]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",OE(r)){const s=pE(t,"width");s!==void 0&&(t.width=s)}if(OE(i))if(t.style.height==="")t.height=t.width/(e||2);else{const s=pE(t,"height");s!==void 0&&(t.height=s)}return t}const _C=uU?{passive:!0}:!1;function c3(t,e,n){t.addEventListener(e,n,_C)}function u3(t,e,n){t.canvas.removeEventListener(e,n,_C)}function h3(t,e){const n=a3[t.type]||t.type,{x:i,y:r}=br(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Ih(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function d3(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Ih(a.addedNodes,i),o=o&&!Ih(a.removedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function f3(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Ih(a.removedNodes,i),o=o&&!Ih(a.addedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const ml=new Map;let DE=0;function vC(){const t=window.devicePixelRatio;t!==DE&&(DE=t,ml.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function p3(t,e){ml.size||window.addEventListener("resize",vC),ml.set(t,e)}function g3(t){ml.delete(t),ml.size||window.removeEventListener("resize",vC)}function m3(t,e,n){const i=t.canvas,r=i&&B_(i);if(!r)return;const s=Gb((a,l)=>{const c=r.clientWidth;n(a,l),c<r.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return o.observe(r),p3(t,s),o}function ep(t,e,n){n&&n.disconnect(),e==="resize"&&g3(t)}function y3(t,e,n){const i=t.canvas,r=Gb(s=>{t.ctx!==null&&n(h3(s,t))},t);return c3(i,e,r),r}class _3 extends yC{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(l3(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[Eu])return!1;const i=n[Eu].initial;["height","width"].forEach(s=>{const o=i[s];se(o)?n.removeAttribute(s):n.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{n.style[s]=r[s]}),n.width=n.width,delete n[Eu],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),o={attach:d3,detach:f3,resize:m3}[n]||y3;r[n]=o(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),r=i[n];if(!r)return;({attach:ep,detach:ep,resize:ep}[n]||u3)(e,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,r){return cU(e,n,i,r)}isAttached(e){const n=B_(e);return!!(n&&n.isConnected)}}function v3(t){return!oC()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?o3:_3}class xn{constructor(){P(this,"x");P(this,"y");P(this,"active",!1);P(this,"options");P(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return ho(this.x)&&ho(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}}P(xn,"defaults",{}),P(xn,"defaultRoutes");function w3(t,e){const n=t.options.ticks,i=E3(t),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?A3(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>r)return x3(e,c,s,o/r),c;const u=S3(s,e,r);if(o>0){let h,d;const f=o>1?Math.round((l-a)/(o-1)):null;for(Fc(e,c,u,se(f)?0:a-f,a),h=0,d=o-1;h<d;h++)Fc(e,c,u,s[h],s[h+1]);return Fc(e,c,u,l,se(f)?e.length:l+f),c}return Fc(e,c,u),c}function E3(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}function S3(t,e,n){const i=T3(t),r=e.length/n;if(!i)return Math.max(r,1);const s=fB(i);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>r)return l}return Math.max(r,1)}function A3(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function x3(t,e,n,i){let r=0,s=n[0],o;for(i=Math.ceil(i),o=0;o<t.length;o++)o===s&&(e.push(t[o]),r++,s=n[r*i])}function Fc(t,e,n,i,r){const s=G(i,0),o=Math.min(G(r,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),r&&(l=r-i,n=l/Math.floor(l/n)),u=s;u<0;)a++,u=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(s+a*n))}function T3(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const I3=t=>t==="left"?"right":t==="right"?"left":t,ME=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,NE=(t,e)=>Math.min(e||t,t);function LE(t,e){const n=[],i=t.length/e,r=t.length;let s=0;for(;s<r;s+=i)n.push(t[Math.floor(s)]);return n}function b3(t,e,n){const i=t.ticks.length,r=Math.min(e,i-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(r),c;if(!(n&&(i===1?c=Math.max(l-s,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(r-1))/2,l+=r<e?c:-c,l<s-a||l>o+a)))return l}function C3(t,e){le(t,n=>{const i=n.gc,r=i.length/2;let s;if(r>e){for(s=0;s<r;++s)delete n.data[i[s]];i.splice(0,r)}})}function $o(t){return t.drawTicks?t.tickLength:0}function VE(t,e){if(!t.display)return 0;const n=We(t.font,e),i=At(t.padding);return(Ee(t.text)?t.text.length:1)*n.lineHeight+i.height}function k3(t,e){return vr(t,{scale:e,type:"scale"})}function R3(t,e,n){return vr(t,{tick:n,index:e,type:"tick"})}function P3(t,e,n){let i=M_(t);return(n&&e!=="right"||!n&&e==="right")&&(i=I3(i)),i}function O3(t,e,n,i){const{top:r,left:s,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let h=0,d,f,p;const g=o-r,_=a-s;if(t.isHorizontal()){if(f=ft(i,s,a),J(n)){const m=Object.keys(n)[0],y=n[m];p=u[m].getPixelForValue(y)+g-e}else n==="center"?p=(c.bottom+c.top)/2+g-e:p=ME(t,n,e);d=a-s}else{if(J(n)){const m=Object.keys(n)[0],y=n[m];f=u[m].getPixelForValue(y)-_+e}else n==="center"?f=(c.left+c.right)/2-_+e:f=ME(t,n,e);p=ft(i,o,r),h=n==="left"?-Le:Le}return{titleX:f,titleY:p,maxWidth:d,rotation:h}}class fs extends xn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return e=Bt(e,Number.POSITIVE_INFINITY),n=Bt(n,Number.NEGATIVE_INFINITY),i=Bt(i,Number.POSITIVE_INFINITY),r=Bt(r,Number.NEGATIVE_INFINITY),{min:Bt(e,i),max:Bt(n,r),minDefined:Oe(e),maxDefined:Oe(n)}}getMinMax(e){let{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),r||(n=Math.min(n,o.min)),s||(i=Math.max(i,o.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:Bt(n,Bt(i,n)),max:Bt(i,Bt(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){fe(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=UB(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?LE(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=w3(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){fe(this.options.afterUpdate,[this])}beforeSetDimensions(){fe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){fe(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),fe(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){fe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=fe(n.callback,[s.value,i,e],this)}afterTickToLabelConversion(){fe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){fe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=NE(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,s=n.maxRotation;let o=r,a,l,c;if(!this._isVisible()||!n.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const u=this._getLabelSizes(),h=u.widest.width,d=u.highest.height,f=Ye(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/i:f/(i-1),h+6>a&&(a=f/(i-(e.offset?.5:1)),l=this.maxHeight-$o(e.grid)-n.padding-VE(e.title,this.chart.options.font),c=Math.sqrt(h*h+d*d),o=O_(Math.min(Math.asin(Ye((u.highest.height+6)/a,-1,1)),Math.asin(Ye(l/c,-1,1))-Math.asin(Ye(d/c,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){fe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){fe(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=VE(r,n.options.font);if(a?(e.width=this.maxWidth,e.height=$o(s)+l):(e.height=this.maxHeight,e.width=$o(s)+l),i.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:d}=this._getLabelSizes(),f=i.padding*2,p=mn(this.labelRotation),g=Math.cos(p),_=Math.sin(p);if(a){const m=i.mirror?0:_*h.width+g*d.height;e.height=Math.min(this.maxHeight,e.height+m+f)}else{const m=i.mirror?0:g*h.width+_*d.height;e.width=Math.min(this.maxWidth,e.width+m+f)}this._calculatePadding(c,u,_,g)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,r){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,f=0;l?c?(d=r*e.width,f=i*n.height):(d=i*e.height,f=r*n.width):s==="start"?f=n.width:s==="end"?d=e.width:s!=="inner"&&(d=e.width/2,f=n.width/2),this.paddingLeft=Math.max((d-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-h+o)*this.width/(this.width-h),0)}else{let u=n.height/2,h=e.height/2;s==="start"?(u=0,h=e.height):s==="end"&&(u=n.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){fe(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)se(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=LE(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:r,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/NE(n,i));let c=0,u=0,h,d,f,p,g,_,m,y,v,E,S;for(h=0;h<n;h+=l){if(p=e[h].label,g=this._resolveTickFontOptions(h),r.font=_=g.string,m=s[_]=s[_]||{data:{},gc:[]},y=g.lineHeight,v=E=0,!se(p)&&!Ee(p))v=xh(r,m.data,m.gc,v,p),E=y;else if(Ee(p))for(d=0,f=p.length;d<f;++d)S=p[d],!se(S)&&!Ee(S)&&(v=xh(r,m.data,m.gc,v,S),E+=y);o.push(v),a.push(E),c=Math.max(v,c),u=Math.max(E,u)}C3(s,n);const A=o.indexOf(c),x=a.indexOf(u),T=O=>({width:o[O]||0,height:a[O]||0});return{first:T(0),last:T(n-1),widest:T(A),highest:T(x),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return mB(this._alignToPixels?Er(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=R3(this.getContext(),e,i))}return this.$context||(this.$context=k3(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=mn(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*i>a*r?a/i:l/r:l*r<a*i?l/i:a/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:a}=r,l=s.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),d=$o(s),f=[],p=a.setContext(this.getContext()),g=p.display?p.width:0,_=g/2,m=function(he){return Er(i,he,g)};let y,v,E,S,A,x,T,O,D,U,Y,Ie;if(o==="top")y=m(this.bottom),x=this.bottom-d,O=y-_,U=m(e.top)+_,Ie=e.bottom;else if(o==="bottom")y=m(this.top),U=e.top,Ie=m(e.bottom)-_,x=y+_,O=this.top+d;else if(o==="left")y=m(this.right),A=this.right-d,T=y-_,D=m(e.left)+_,Y=e.right;else if(o==="right")y=m(this.left),D=e.left,Y=m(e.right)-_,A=y+_,T=this.left+d;else if(n==="x"){if(o==="center")y=m((e.top+e.bottom)/2+.5);else if(J(o)){const he=Object.keys(o)[0],me=o[he];y=m(this.chart.scales[he].getPixelForValue(me))}U=e.top,Ie=e.bottom,x=y+_,O=x+d}else if(n==="y"){if(o==="center")y=m((e.left+e.right)/2);else if(J(o)){const he=Object.keys(o)[0],me=o[he];y=m(this.chart.scales[he].getPixelForValue(me))}A=y-_,T=A-d,D=e.left,Y=e.right}const ct=G(r.ticks.maxTicksLimit,h),ae=Math.max(1,Math.ceil(h/ct));for(v=0;v<h;v+=ae){const he=this.getContext(v),me=s.setContext(he),M=a.setContext(he),j=me.lineWidth,W=me.color,de=M.dash||[],ye=M.dashOffset,Tn=me.tickWidth,Ft=me.tickColor,Hn=me.tickBorderDash||[],jt=me.tickBorderDashOffset;E=b3(this,v,l),E!==void 0&&(S=Er(i,E,j),c?A=T=D=Y=S:x=O=U=Ie=S,f.push({tx1:A,ty1:x,tx2:T,ty2:O,x1:D,y1:U,x2:Y,y2:Ie,width:j,color:W,borderDash:de,borderDashOffset:ye,tickWidth:Tn,tickColor:Ft,tickBorderDash:Hn,tickBorderDashOffset:jt}))}return this._ticksLength=h,this._borderValue=y,f}_computeLabelItems(e){const n=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=s,d=$o(i.grid),f=d+u,p=h?-u:f,g=-mn(this.labelRotation),_=[];let m,y,v,E,S,A,x,T,O,D,U,Y,Ie="middle";if(r==="top")A=this.bottom-p,x=this._getXAxisLabelAlignment();else if(r==="bottom")A=this.top+p,x=this._getXAxisLabelAlignment();else if(r==="left"){const ae=this._getYAxisLabelAlignment(d);x=ae.textAlign,S=ae.x}else if(r==="right"){const ae=this._getYAxisLabelAlignment(d);x=ae.textAlign,S=ae.x}else if(n==="x"){if(r==="center")A=(e.top+e.bottom)/2+f;else if(J(r)){const ae=Object.keys(r)[0],he=r[ae];A=this.chart.scales[ae].getPixelForValue(he)+f}x=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")S=(e.left+e.right)/2-f;else if(J(r)){const ae=Object.keys(r)[0],he=r[ae];S=this.chart.scales[ae].getPixelForValue(he)}x=this._getYAxisLabelAlignment(d).textAlign}n==="y"&&(l==="start"?Ie="top":l==="end"&&(Ie="bottom"));const ct=this._getLabelSizes();for(m=0,y=a.length;m<y;++m){v=a[m],E=v.label;const ae=s.setContext(this.getContext(m));T=this.getPixelForTick(m)+s.labelOffset,O=this._resolveTickFontOptions(m),D=O.lineHeight,U=Ee(E)?E.length:1;const he=U/2,me=ae.color,M=ae.textStrokeColor,j=ae.textStrokeWidth;let W=x;o?(S=T,x==="inner"&&(m===y-1?W=this.options.reverse?"left":"right":m===0?W=this.options.reverse?"right":"left":W="center"),r==="top"?c==="near"||g!==0?Y=-U*D+D/2:c==="center"?Y=-ct.highest.height/2-he*D+D:Y=-ct.highest.height+D/2:c==="near"||g!==0?Y=D/2:c==="center"?Y=ct.highest.height/2-he*D:Y=ct.highest.height-U*D,h&&(Y*=-1),g!==0&&!ae.showLabelBackdrop&&(S+=D/2*Math.sin(g))):(A=T,Y=(1-U)*D/2);let de;if(ae.showLabelBackdrop){const ye=At(ae.backdropPadding),Tn=ct.heights[m],Ft=ct.widths[m];let Hn=Y-ye.top,jt=0-ye.left;switch(Ie){case"middle":Hn-=Tn/2;break;case"bottom":Hn-=Tn;break}switch(x){case"center":jt-=Ft/2;break;case"right":jt-=Ft;break}de={left:jt,top:Hn,width:Ft+ye.width,height:Tn+ye.height,color:ae.backdropColor}}_.push({label:E,font:O,textOffset:Y,options:{rotation:g,color:me,strokeColor:M,strokeWidth:j,textAlign:W,textBaseline:Ie,translation:[S,A],backdrop:de}})}return _}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-mn(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let c,u;return n==="left"?r?(u=this.right+s,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?r?(u=this.left+s,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:r,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,r,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(s=0,o=r.length;s<o;++s){const l=r[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;const a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,d;this.isHorizontal()?(c=Er(e,this.left,o)-o/2,u=Er(e,this.right,a)+a/2,h=d=l):(h=Er(e,this.top,o)-o/2,d=Er(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,h),n.lineTo(u,d),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&Bd(i,r);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,c=o.label,u=o.textOffset;rs(i,c,0,u,l,a)}r&&Ud(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;const s=We(i.font),o=At(i.padding),a=i.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||J(n)?(l+=o.bottom,Ee(i.text)&&(l+=s.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:d}=O3(this,l,n,a);rs(e,i.text,0,0,s,{color:i.color,maxWidth:h,rotation:d,textAlign:P3(a,n,r),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=G(e.grid&&e.grid.z,-1),r=G(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==fs.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[i]===this.id&&(!e||a.type===e)&&r.push(a)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return We(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class jc{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;N3(n)&&(i=this.register(n));const r=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,D3(e,o,i),this.override&&De.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,r=this.scope;i in n&&delete n[i],r&&i in De[r]&&(delete De[r][i],this.override&&delete is[i])}}function D3(t,e,n){const i=dl(Object.create(null),[n?De.get(n):{},De.get(e),t.defaults]);De.set(e,i),t.defaultRoutes&&M3(e,t.defaultRoutes),t.descriptors&&De.describe(e,t.descriptors)}function M3(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),r=i.pop(),s=[t].concat(i).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");De.route(s,r,l,a)})}function N3(t){return"id"in t&&"defaults"in t}class L3{constructor(){this.controllers=new jc(vn,"datasets",!0),this.elements=new jc(xn,"elements"),this.plugins=new jc(Object,"plugins"),this.scales=new jc(fs,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):le(r,o=>{const a=i||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,i){const r=P_(e);fe(i["before"+r],[],i),n[e](i),fe(i["after"+r],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var kn=new L3;class V3{constructor(){this._init=[]}notify(e,n,i,r){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(s,e,n,i);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,i,r){r=r||{};for(const s of e){const o=s.plugin,a=o[i],l=[n,r,s.options];if(fe(a,l,o)===!1&&r.cancelable)return!1}return!0}invalidate(){se(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,r=G(i.options&&i.options.plugins,{}),s=F3(i);return r===!1&&!n?[]:B3(e,s,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(r(n,i),e,"stop"),this._notify(r(i,n),e,"start")}}function F3(t){const e={},n=[],i=Object.keys(kn.plugins.items);for(let s=0;s<i.length;s++)n.push(kn.getPlugin(i[s]));const r=t.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function j3(t,e){return!e&&t===!1?null:t===!0?{}:t}function B3(t,{plugins:e,localIds:n},i,r){const s=[],o=t.getContext();for(const a of e){const l=a.id,c=j3(i[l],r);c!==null&&s.push({plugin:a,options:U3(t.config,{plugin:a,local:n[l]},c,o)})}return s}function U3(t,{plugin:e,local:n},i,r){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(i,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Hg(t,e){const n=De.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function z3(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function $3(t,e){return t===e?"_index_":"_value_"}function FE(t){if(t==="x"||t==="y"||t==="r")return t}function W3(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function qg(t,...e){if(FE(t))return t;for(const n of e){const i=n.axis||W3(n.position)||t.length>1&&FE(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function jE(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function H3(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return jE(t,"x",n[0])||jE(t,"y",n[0])}return{}}function q3(t,e){const n=is[t.type]||{scales:{}},i=e.scales||{},r=Hg(t.type,e),s=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!J(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=qg(o,a,H3(o,t),De.scales[a.type]),c=$3(l,r),u=n.scales||{};s[o]=Aa(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||Hg(a,e),u=(is[a]||{}).scales||{};Object.keys(u).forEach(h=>{const d=z3(h,l),f=o[d+"AxisID"]||d;s[f]=s[f]||Object.create(null),Aa(s[f],[{axis:d},i[f],u[h]])})}),Object.keys(s).forEach(o=>{const a=s[o];Aa(a,[De.scales[a.type],De.scale])}),s}function wC(t){const e=t.options||(t.options={});e.plugins=G(e.plugins,{}),e.scales=q3(t,e)}function EC(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function K3(t){return t=t||{},t.data=EC(t.data),wC(t),t}const BE=new Map,SC=new Set;function Bc(t,e){let n=BE.get(t);return n||(n=e(),BE.set(t,n),SC.add(n)),n}const Wo=(t,e,n)=>{const i=ur(e,n);i!==void 0&&t.add(i)};class G3{constructor(e){this._config=K3(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=EC(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),wC(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Bc(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Bc(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Bc(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return Bc(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let r=i.get(e);return(!r||n)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,n,i){const{options:r,type:s}=this,o=this._cachedScopes(e,i),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(h=>Wo(l,e,h))),u.forEach(h=>Wo(l,r,h)),u.forEach(h=>Wo(l,is[s]||{},h)),u.forEach(h=>Wo(l,De,h)),u.forEach(h=>Wo(l,zg,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),SC.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,is[n]||{},De.datasets[n]||{},{type:n},De,zg]}resolveNamedOptions(e,n,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=UE(this._resolverCache,e,r);let l=o;if(Y3(o,n)){s.$shared=!1,i=hr(i)?i():i;const c=this.createResolver(e,i,a);l=fo(o,i,c)}for(const c of n)s[c]=l[c];return s}createResolver(e,n,i=[""],r){const{resolver:s}=UE(this._resolverCache,e,i);return J(n)?fo(s,n,void 0,r):s}}function UE(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const r=n.join();let s=i.get(r);return s||(s={resolver:V_(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,s)),s}const Q3=t=>J(t)&&Object.getOwnPropertyNames(t).reduce((e,n)=>e||hr(t[n]),!1);function Y3(t,e){const{isScriptable:n,isIndexable:i}=eC(t);for(const r of e){const s=n(r),o=i(r),a=(o||s)&&t[r];if(s&&(hr(a)||Q3(a))||o&&Ee(a))return!0}return!1}var X3="4.4.0";const J3=["top","bottom","left","right","chartArea"];function zE(t,e){return t==="top"||t==="bottom"||J3.indexOf(t)===-1&&e==="x"}function $E(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function WE(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),fe(n&&n.onComplete,[t],e)}function Z3(t){const e=t.chart,n=e.options.animation;fe(n&&n.onProgress,[t],e)}function AC(t){return oC()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Su={},HE=t=>{const e=AC(t);return Object.values(Su).filter(n=>n.canvas===e).pop()};function ez(t,e,n){const i=Object.keys(t);for(const r of i){const s=+r;if(s>=e){const o=t[r];delete t[r],(n>0||s>e)&&(t[s+n]=o)}}}function tz(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}function Uc(t,e,n){return t.options.clip?t[n]:e[n]}function nz(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:Uc(n,e,"left"),right:Uc(n,e,"right"),top:Uc(i,e,"top"),bottom:Uc(i,e,"bottom")}:e}class Jn{static register(...e){kn.add(...e),qE()}static unregister(...e){kn.remove(...e),qE()}constructor(e,n){const i=this.config=new G3(n),r=AC(e),s=HE(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||v3(r)),this.platform.updateConfig(i);const a=this.platform.acquireContext(r,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=rB(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new V3,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=wB(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Su[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Kn.listen(this,"complete",WE),Kn.listen(this,"progress",Z3),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:r,_aspectRatio:s}=this;return se(e)?n&&s?s:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return kn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():fE(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return uE(this.canvas,this.ctx),this}stop(){return Kn.stop(this),this}resize(e,n){Kn.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,n,s),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,fE(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),fe(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};le(n,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,r=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=qg(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),le(s,o=>{const a=o.options,l=a.id,c=qg(l,a),u=G(a.type,o.dtype);(a.position===void 0||zE(a.position,c)!==zE(o.dposition))&&(a.position=o.dposition),r[l]=!0;let h=null;if(l in i&&i[l].type===u)h=i[l];else{const d=kn.getScale(u);h=new d({id:l,type:u,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(a,e)}),le(r,(o,a)=>{o||delete i[a]}),le(i,o=>{yt.configure(this,o,o.options),yt.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((r,s)=>r.index-s.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort($E("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,r)=>{n.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const s=n[i];let o=this.getDatasetMeta(i);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=s.indexAxis||Hg(a,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=kn.getController(a),{datasetElementType:c,dataElementType:u}=De.datasets[a];Object.assign(l,{dataElementType:kn.getElement(u),datasetElementType:c&&kn.getElement(c)}),o.controller=new l(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){le(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),d=!r&&s.indexOf(h)===-1;h.buildOrUpdateElements(d),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),r||le(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort($E("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){le(this.scales,e=>{yt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!tE(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of n){const o=i==="_removeElements"?-s:s;ez(e,r,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),r=i(0);for(let s=1;s<n;s++)if(!tE(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;yt.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],le(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,hr(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Kn.has(this)?this.attached&&!Kn.running(this)&&Kn.start(this):(this.draw(),WE({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resize(i,r),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let r,s;for(r=0,s=n.length;r<s;++r){const o=n[r];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i=e._clip,r=!i.disabled,s=nz(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(r&&Bd(n,{left:i.left===!1?0:s.left-i.left,right:i.right===!1?this.width:s.right+i.right,top:i.top===!1?0:s.top-i.top,bottom:i.bottom===!1?this.height:s.bottom+i.bottom}),e.controller.draw(),r&&Ud(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return ai(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,r){const s=JU.modes[n];return typeof s=="function"?s(this,e,i,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let r=i.filter(s=>s&&s._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=vr(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const r=i?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,r);fl(n)?(s.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(s,{visible:i}),this.update(a=>a.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Kn.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),uE(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Su[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},r=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};le(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},r=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){le(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},le(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const r=i?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!Eh(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const r=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=s(n,e),a=i?e:s(e,n);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:r=[],options:s}=this,o=n,a=this._getActiveElements(e,r,i,o),l=uB(e),c=tz(e,this._lastEvent,i,l);i&&(this._lastEvent=null,fe(s.onHover,[e,a,this],this),l&&fe(s.onClick,[e,a,this],this));const u=!Eh(a,r);return(u||n)&&(this._active=a,this._updateHoverStyles(a,r,n)),this._lastEvent=c,u}_getActiveElements(e,n,i,r){if(e.type==="mouseout")return[];if(!i)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}}P(Jn,"defaults",De),P(Jn,"instances",Su),P(Jn,"overrides",is),P(Jn,"registry",kn),P(Jn,"version",X3),P(Jn,"getChart",HE);function qE(){return le(Jn.instances,t=>t._plugins.invalidate())}function iz(t,e,n){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:l}=e;let c=r/a;t.beginPath(),t.arc(s,o,a,i-c,n+c),l>r?(c=r/l,t.arc(s,o,l,n+c,i-c,!0)):t.arc(s,o,r,n+Le,i-Le),t.closePath(),t.clip()}function rz(t){return L_(t,["outerStart","outerEnd","innerStart","innerEnd"])}function sz(t,e,n,i){const r=rz(t.options.borderRadius),s=(n-e)/2,o=Math.min(s,i*e/2),a=l=>{const c=(n-Math.min(s,l))*i/2;return Ye(l,0,Math.min(s,c))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:Ye(r.innerStart,0,o),innerEnd:Ye(r.innerEnd,0,o)}}function ys(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function bh(t,e,n,i,r,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,h=Math.max(e.outerRadius+i+n-c,0),d=u>0?u+i+n+c:0;let f=0;const p=r-l;if(i){const ae=u>0?u-i:0,he=h>0?h-i:0,me=(ae+he)/2,M=me!==0?p*me/(me+i):p;f=(p-M)/2}const g=Math.max(.001,p*h-n/xe)/h,_=(p-g)/2,m=l+_+f,y=r-_-f,{outerStart:v,outerEnd:E,innerStart:S,innerEnd:A}=sz(e,d,h,y-m),x=h-v,T=h-E,O=m+v/x,D=y-E/T,U=d+S,Y=d+A,Ie=m+S/U,ct=y-A/Y;if(t.beginPath(),s){const ae=(O+D)/2;if(t.arc(o,a,h,O,ae),t.arc(o,a,h,ae,D),E>0){const j=ys(T,D,o,a);t.arc(j.x,j.y,E,D,y+Le)}const he=ys(Y,y,o,a);if(t.lineTo(he.x,he.y),A>0){const j=ys(Y,ct,o,a);t.arc(j.x,j.y,A,y+Le,ct+Math.PI)}const me=(y-A/d+(m+S/d))/2;if(t.arc(o,a,d,y-A/d,me,!0),t.arc(o,a,d,me,m+S/d,!0),S>0){const j=ys(U,Ie,o,a);t.arc(j.x,j.y,S,Ie+Math.PI,m-Le)}const M=ys(x,m,o,a);if(t.lineTo(M.x,M.y),v>0){const j=ys(x,O,o,a);t.arc(j.x,j.y,v,m-Le,O)}}else{t.moveTo(o,a);const ae=Math.cos(O)*h+o,he=Math.sin(O)*h+a;t.lineTo(ae,he);const me=Math.cos(D)*h+o,M=Math.sin(D)*h+a;t.lineTo(me,M)}t.closePath()}function oz(t,e,n,i,r){const{fullCircles:s,startAngle:o,circumference:a}=e;let l=e.endAngle;if(s){bh(t,e,n,i,l,r);for(let c=0;c<s;++c)t.fill();isNaN(a)||(l=o+(a%Ae||Ae))}return bh(t,e,n,i,l,r),t.fill(),l}function az(t,e,n,i,r){const{fullCircles:s,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:d}=l,f=l.borderAlign==="inner";if(!c)return;t.setLineDash(h||[]),t.lineDashOffset=d,f?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let p=e.endAngle;if(s){bh(t,e,n,i,p,r);for(let g=0;g<s;++g)t.stroke();isNaN(a)||(p=o+(a%Ae||Ae))}f&&iz(t,e,p),s||(bh(t,e,n,i,p,r),t.stroke())}class ra extends xn{constructor(n){super();P(this,"circumference");P(this,"endAngle");P(this,"fullCircles");P(this,"innerRadius");P(this,"outerRadius");P(this,"pixelMargin");P(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,r){const s=this.getProps(["x","y"],r),{angle:o,distance:a}=Wb(s,{x:n,y:i}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:h,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),f=(this.options.spacing+this.options.borderWidth)/2,g=G(d,c-l)>=Ae||pl(o,l,c),_=si(a,u+f,h+f);return g&&_}getCenterPoint(n){const{x:i,y:r,startAngle:s,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:u}=this.options,h=(s+o)/2,d=(a+l+u+c)/2;return{x:i+Math.cos(h)*d,y:r+Math.sin(h)*d}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:r}=this,s=(i.offset||0)/4,o=(i.spacing||0)/2,a=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=r>Ae?Math.floor(r/Ae):0,r===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*s,Math.sin(l)*s);const c=1-Math.sin(Math.min(xe,r||0)),u=s*c;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,oz(n,this,u,o,a),az(n,this,u,o,a),n.restore()}}P(ra,"id","arc"),P(ra,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),P(ra,"defaultRoutes",{backgroundColor:"backgroundColor"}),P(ra,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function xC(t,e,n=e){t.lineCap=G(n.borderCapStyle,e.borderCapStyle),t.setLineDash(G(n.borderDash,e.borderDash)),t.lineDashOffset=G(n.borderDashOffset,e.borderDashOffset),t.lineJoin=G(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=G(n.borderWidth,e.borderWidth),t.strokeStyle=G(n.borderColor,e.borderColor)}function lz(t,e,n){t.lineTo(n.x,n.y)}function cz(t){return t.stepped?OB:t.tension||t.cubicInterpolationMode==="monotone"?DB:lz}function TC(t,e,n={}){const i=t.length,{start:r=0,end:s=i-1}=n,{start:o,end:a}=e,l=Math.max(r,o),c=Math.min(s,a),u=r<o&&s<o||r>a&&s>a;return{count:i,start:l,loop:e.loop,ilen:c<l&&!u?i+c-l:c-l}}function uz(t,e,n,i){const{points:r,options:s}=e,{count:o,start:a,loop:l,ilen:c}=TC(r,n,i),u=cz(s);let{move:h=!0,reverse:d}=i||{},f,p,g;for(f=0;f<=c;++f)p=r[(a+(d?c-f:f))%o],!p.skip&&(h?(t.moveTo(p.x,p.y),h=!1):u(t,g,p,d,s.stepped),g=p);return l&&(p=r[(a+(d?c:0))%o],u(t,g,p,d,s.stepped)),!!l}function hz(t,e,n,i){const r=e.points,{count:s,start:o,ilen:a}=TC(r,n,i),{move:l=!0,reverse:c}=i||{};let u=0,h=0,d,f,p,g,_,m;const y=E=>(o+(c?a-E:E))%s,v=()=>{g!==_&&(t.lineTo(u,_),t.lineTo(u,g),t.lineTo(u,m))};for(l&&(f=r[y(0)],t.moveTo(f.x,f.y)),d=0;d<=a;++d){if(f=r[y(d)],f.skip)continue;const E=f.x,S=f.y,A=E|0;A===p?(S<g?g=S:S>_&&(_=S),u=(h*u+E)/++h):(v(),t.lineTo(E,S),p=A,h=0,g=_=S),m=S}v()}function Kg(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?hz:uz}function dz(t){return t.stepped?hU:t.tension||t.cubicInterpolationMode==="monotone"?dU:Cr}function fz(t,e,n,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,i)&&r.closePath()),xC(t,e.options),t.stroke(r)}function pz(t,e,n,i){const{segments:r,options:s}=e,o=Kg(e);for(const a of r)xC(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const gz=typeof Path2D=="function";function mz(t,e,n,i){gz&&!e.options.segment?fz(t,e,n,i):pz(t,e,n,i)}class zi extends xn{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;iU(this._points,i,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=_U(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,r=e[n],s=this.points,o=hC(this,{property:n,start:r,end:r});if(!o.length)return;const a=[],l=dz(i);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:d}=o[c],f=s[h],p=s[d];if(f===p){a.push(f);continue}const g=Math.abs((r-f[n])/(p[n]-f[n])),_=l(f,p,g,i.stepped);_[n]=e[n],a.push(_)}return a.length===1?a[0]:a}pathSegment(e,n,i){return Kg(this)(e,this,n,i)}path(e,n,i){const r=this.segments,s=Kg(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const a of r)o&=s(e,this,a,{start:n,end:n+i-1});return!!o}draw(e,n,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),mz(e,this,i,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}P(zi,"id","line"),P(zi,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),P(zi,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),P(zi,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function KE(t,e,n,i){const r=t.options,{[n]:s}=t.getProps([n],i);return Math.abs(e-s)<r.radius+r.hitRadius}class Au extends xn{constructor(n){super();P(this,"parsed");P(this,"skip");P(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,r){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],r);return Math.pow(n-o,2)+Math.pow(i-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,i){return KE(this,n,"x",i)}inYRange(n,i){return KE(this,n,"y",i)}getCenterPoint(n){const{x:i,y:r}=this.getProps(["x","y"],n);return{x:i,y:r}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const r=i&&n.borderWidth||0;return(i+r)*2}draw(n,i){const r=this.options;this.skip||r.radius<.1||!ai(this,i,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,$g(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}P(Au,"id","point"),P(Au,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),P(Au,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function IC(t,e){const{x:n,y:i,base:r,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,h;return t.horizontal?(h=o/2,a=Math.min(n,r),l=Math.max(n,r),c=i-h,u=i+h):(h=s/2,a=n-h,l=n+h,c=Math.min(i,r),u=Math.max(i,r)),{left:a,top:c,right:l,bottom:u}}function $i(t,e,n,i){return t?0:Ye(e,n,i)}function yz(t,e,n){const i=t.options.borderWidth,r=t.borderSkipped,s=Zb(i);return{t:$i(r.top,s.top,0,n),r:$i(r.right,s.right,0,e),b:$i(r.bottom,s.bottom,0,n),l:$i(r.left,s.left,0,e)}}function _z(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,s=$r(r),o=Math.min(e,n),a=t.borderSkipped,l=i||J(r);return{topLeft:$i(!l||a.top||a.left,s.topLeft,0,o),topRight:$i(!l||a.top||a.right,s.topRight,0,o),bottomLeft:$i(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:$i(!l||a.bottom||a.right,s.bottomRight,0,o)}}function vz(t){const e=IC(t),n=e.right-e.left,i=e.bottom-e.top,r=yz(t,n/2,i/2),s=_z(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function tp(t,e,n,i){const r=e===null,s=n===null,a=t&&!(r&&s)&&IC(t,i);return a&&(r||si(e,a.left,a.right))&&(s||si(n,a.top,a.bottom))}function wz(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function Ez(t,e){t.rect(e.x,e.y,e.w,e.h)}function np(t,e,n={}){const i=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-i,o=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+i,y:t.y+r,w:t.w+s,h:t.h+o,radius:t.radius}}class xu extends xn{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=vz(this),a=wz(o.radius)?gl:Ez;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,np(o,n,s)),e.clip(),a(e,np(s,-n,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),a(e,np(s,n)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,n,i){return tp(this,e,n,i)}inXRange(e,n){return tp(this,e,null,n)}inYRange(e,n){return tp(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+r)/2:n,y:s?i:(i+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}P(xu,"id","bar"),P(xu,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),P(xu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Sz=Object.freeze({__proto__:null,ArcElement:ra,BarElement:xu,LineElement:zi,PointElement:Au});const Gg=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],GE=Gg.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function bC(t){return Gg[t%Gg.length]}function CC(t){return GE[t%GE.length]}function Az(t,e){return t.borderColor=bC(e),t.backgroundColor=CC(e),++e}function xz(t,e){return t.backgroundColor=t.data.map(()=>bC(e++)),e}function Tz(t,e){return t.backgroundColor=t.data.map(()=>CC(e++)),e}function Iz(t){let e=0;return(n,i)=>{const r=t.getDatasetMeta(i).controller;r instanceof Vr?e=xz(n,e):r instanceof ba?e=Tz(n,e):r&&(e=Az(n,e))}}function QE(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function bz(t){return t&&(t.borderColor||t.backgroundColor)}var Cz={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:i},options:r}=t.config,{elements:s}=r;if(!n.forceOverride&&(QE(i)||bz(r)||s&&QE(s)))return;const o=Iz(t);i.forEach(o)}};function kz(t,e,n,i,r){const s=r.samples||i;if(s>=n)return t.slice(e,e+n);const o=[],a=(n-2)/(s-2);let l=0;const c=e+n-1;let u=e,h,d,f,p,g;for(o[l++]=t[u],h=0;h<s-2;h++){let _=0,m=0,y;const v=Math.floor((h+1)*a)+1+e,E=Math.min(Math.floor((h+2)*a)+1,n)+e,S=E-v;for(y=v;y<E;y++)_+=t[y].x,m+=t[y].y;_/=S,m/=S;const A=Math.floor(h*a)+1+e,x=Math.min(Math.floor((h+1)*a)+1,n)+e,{x:T,y:O}=t[u];for(f=p=-1,y=A;y<x;y++)p=.5*Math.abs((T-_)*(t[y].y-O)-(T-t[y].x)*(m-O)),p>f&&(f=p,d=t[y],g=y);o[l++]=d,u=g}return o[l++]=t[c],o}function Rz(t,e,n,i){let r=0,s=0,o,a,l,c,u,h,d,f,p,g;const _=[],m=e+n-1,y=t[e].x,E=t[m].x-y;for(o=e;o<e+n;++o){a=t[o],l=(a.x-y)/E*i,c=a.y;const S=l|0;if(S===u)c<p?(p=c,h=o):c>g&&(g=c,d=o),r=(s*r+a.x)/++s;else{const A=o-1;if(!se(h)&&!se(d)){const x=Math.min(h,d),T=Math.max(h,d);x!==f&&x!==A&&_.push({...t[x],x:r}),T!==f&&T!==A&&_.push({...t[T],x:r})}o>0&&A!==f&&_.push(t[A]),_.push(a),u=S,s=0,p=g=c,h=d=f=o}}return _}function kC(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function YE(t){t.data.datasets.forEach(e=>{kC(e)})}function Pz(t,e){const n=e.length;let i=0,r;const{iScale:s}=t,{min:o,max:a,minDefined:l,maxDefined:c}=s.getUserBounds();return l&&(i=Ye(oi(e,s.axis,o).lo,0,n-1)),c?r=Ye(oi(e,s.axis,a).hi+1,i,n)-i:r=n-i,{start:i,count:r}}var Oz={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){YE(t);return}const i=t.width;t.data.datasets.forEach((r,s)=>{const{_data:o,indexAxis:a}=r,l=t.getDatasetMeta(s),c=o||r.data;if(na([a,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=t.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||t.options.parsing)return;let{start:h,count:d}=Pz(l,c);const f=n.threshold||4*i;if(d<=f){kC(r);return}se(o)&&(r._data=c,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let p;switch(n.algorithm){case"lttb":p=kz(c,h,d,i,n);break;case"min-max":p=Rz(c,h,d,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}r._decimated=p})},destroy(t){YE(t)}};function Dz(t,e,n){const i=t.segments,r=t.points,s=e.points,o=[];for(const a of i){let{start:l,end:c}=a;c=z_(l,c,r);const u=Qg(n,r[l],r[c],a.loop);if(!e.segments){o.push({source:a,target:u,start:r[l],end:r[c]});continue}const h=hC(e,u);for(const d of h){const f=Qg(n,s[d.start],s[d.end],d.loop),p=uC(a,r,f);for(const g of p)o.push({source:g,target:d,start:{[n]:XE(u,f,"start",Math.max)},end:{[n]:XE(u,f,"end",Math.min)}})}}return o}function Qg(t,e,n,i){if(i)return;let r=e[t],s=n[t];return t==="angle"&&(r=zt(r),s=zt(s)),{property:t,start:r,end:s}}function Mz(t,e){const{x:n=null,y:i=null}=t||{},r=e.points,s=[];return e.segments.forEach(({start:o,end:a})=>{a=z_(o,a,r);const l=r[o],c=r[a];i!==null?(s.push({x:l.x,y:i}),s.push({x:c.x,y:i})):n!==null&&(s.push({x:n,y:l.y}),s.push({x:n,y:c.y}))}),s}function z_(t,e,n){for(;e>t;e--){const i=n[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function XE(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function RC(t,e){let n=[],i=!1;return Ee(t)?(i=!0,n=t):n=Mz(t,e),n.length?new zi({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function JE(t){return t&&t.fill!==!1}function Nz(t,e,n){let r=t[e].fill;const s=[e];let o;if(!n)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!Oe(r))return r;if(o=t[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function Lz(t,e,n){const i=Bz(t);if(J(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return Oe(r)&&Math.floor(r)===r?Vz(i[0],e,r,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function Vz(t,e,n,i){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=i?!1:n}function Fz(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:J(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function jz(t,e,n){let i;return t==="start"?i=n:t==="end"?i=e.options.reverse?e.min:e.max:J(t)?i=t.value:i=e.getBaseValue(),i}function Bz(t){const e=t.options,n=e.fill;let i=G(n&&n.target,n);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function Uz(t){const{scale:e,index:n,line:i}=t,r=[],s=i.segments,o=i.points,a=zz(e,n);a.push(RC({x:null,y:e.bottom},i));for(let l=0;l<s.length;l++){const c=s[l];for(let u=c.start;u<=c.end;u++)$z(r,o[u],a)}return new zi({points:r,options:{}})}function zz(t,e){const n=[],i=t.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===e)break;s.hidden||n.unshift(s.dataset)}return n}function $z(t,e,n){const i=[];for(let r=0;r<n.length;r++){const s=n[r],{first:o,last:a,point:l}=Wz(s,e,"x");if(!(!l||o&&a)){if(o)i.unshift(l);else if(t.push(l),!a)break}}t.push(...i)}function Wz(t,e,n){const i=t.interpolate(e,n);if(!i)return{};const r=i[n],s=t.segments,o=t.points;let a=!1,l=!1;for(let c=0;c<s.length;c++){const u=s[c],h=o[u.start][n],d=o[u.end][n];if(si(r,h,d)){a=r===h,l=r===d;break}}return{first:a,last:l,point:i}}class PC{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,i){const{x:r,y:s,radius:o}=this;return n=n||{start:0,end:Ae},e.arc(r,s,o,n.end,n.start,!0),!i.bounds}interpolate(e){const{x:n,y:i,radius:r}=this,s=e.angle;return{x:n+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function Hz(t){const{chart:e,fill:n,line:i}=t;if(Oe(n))return qz(e,n);if(n==="stack")return Uz(t);if(n==="shape")return!0;const r=Kz(t);return r instanceof PC?r:RC(r,i)}function qz(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function Kz(t){return(t.scale||{}).getPointPositionForValue?Qz(t):Gz(t)}function Gz(t){const{scale:e={},fill:n}=t,i=Fz(n,e);if(Oe(i)){const r=e.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function Qz(t){const{scale:e,fill:n}=t,i=e.options,r=e.getLabels().length,s=i.reverse?e.max:e.min,o=jz(n,e,s),a=[];if(i.grid.circular){const l=e.getPointPositionForValue(0,s);return new PC({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<r;++l)a.push(e.getPointPositionForValue(l,o));return a}function ip(t,e,n){const i=Hz(e),{line:r,scale:s,axis:o}=e,a=r.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:h=c}=l||{};i&&r.points.length&&(Bd(t,n),Yz(t,{line:r,target:i,above:u,below:h,area:n,scale:s,axis:o}),Ud(t))}function Yz(t,e){const{line:n,target:i,above:r,below:s,area:o,scale:a}=e,l=n._loop?"angle":e.axis;t.save(),l==="x"&&s!==r&&(ZE(t,i,o.top),e1(t,{line:n,target:i,color:r,scale:a,property:l}),t.restore(),t.save(),ZE(t,i,o.bottom)),e1(t,{line:n,target:i,color:s,scale:a,property:l}),t.restore()}function ZE(t,e,n){const{segments:i,points:r}=e;let s=!0,o=!1;t.beginPath();for(const a of i){const{start:l,end:c}=a,u=r[l],h=r[z_(l,c,r)];s?(t.moveTo(u.x,u.y),s=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(h.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function e1(t,e){const{line:n,target:i,property:r,color:s,scale:o}=e,a=Dz(n,i,r);for(const{source:l,target:c,start:u,end:h}of a){const{style:{backgroundColor:d=s}={}}=l,f=i!==!0;t.save(),t.fillStyle=d,Xz(t,o,f&&Qg(r,u,h)),t.beginPath();const p=!!n.pathSegment(t,l);let g;if(f){p?t.closePath():t1(t,i,h,r);const _=!!i.pathSegment(t,c,{move:p,reverse:!0});g=p&&_,g||t1(t,i,u,r)}t.closePath(),t.fill(g?"evenodd":"nonzero"),t.restore()}}function Xz(t,e,n){const{top:i,bottom:r}=e.chart.chartArea,{property:s,start:o,end:a}=n||{};s==="x"&&(t.beginPath(),t.rect(o,i,a-o,r-i),t.clip())}function t1(t,e,n,i){const r=e.interpolate(n,i);r&&t.lineTo(r.x,r.y)}var Jz={id:"filler",afterDatasetsUpdate(t,e,n){const i=(t.data.datasets||[]).length,r=[];let s,o,a,l;for(o=0;o<i;++o)s=t.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof zi&&(l={visible:t.isDatasetVisible(o),index:o,fill:Lz(a,o,i),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,r.push(l);for(o=0;o<i;++o)l=r[o],!(!l||l.fill===!1)&&(l.fill=Nz(r,o,n.propagate))},beforeDraw(t,e,n){const i=n.drawTime==="beforeDraw",r=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let o=r.length-1;o>=0;--o){const a=r[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),i&&a.fill&&ip(t.ctx,a,s))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=t.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;JE(s)&&ip(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,n){const i=e.meta.$filler;!JE(i)||n.drawTime!=="beforeDatasetDraw"||ip(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const n1=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},Zz=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class i1 extends xn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=fe(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=We(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=n1(i,s);let c,u;n.font=r.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,s,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,r,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=r+a;let h=e;s.textAlign="left",s.textBaseline="middle";let d=-1,f=-u;return this.legendItems.forEach((p,g)=>{const _=i+n/2+s.measureText(p.text).width;(g===0||c[c.length-1]+_+2*a>o)&&(h+=u,c[c.length-(g>0?0:1)]=0,f+=u,d++),l[g]={left:0,top:f,row:d,width:_,height:r},c[c.length-1]+=_+a}),h}_fitCols(e,n,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let h=a,d=0,f=0,p=0,g=0;return this.legendItems.forEach((_,m)=>{const{itemWidth:y,itemHeight:v}=e9(i,n,s,_,r);m>0&&f+v+2*a>u&&(h+=d+a,c.push({width:d,height:f}),p+=d+a,g++,d=f=0),l[m]={left:p,top:f,col:g,width:y,height:v},d=Math.max(d,y),f+=v+a}),h+=d,c.push({width:d,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:s}}=this,o=Hs(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=ft(i,this.left+r,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=ft(i,this.left+r,this.right-this.lineWidths[a])),c.top+=this.top+e+r,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+r}else{let a=0,l=ft(i,this.top+e+r,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=ft(i,this.top+e+r,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+r,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Bd(e,this),this._draw(),Ud(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:r}=this,{align:s,labels:o}=e,a=De.color,l=Hs(e.rtl,this.left,this.width),c=We(o.font),{padding:u}=o,h=c.size,d=h/2;let f;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;const{boxWidth:p,boxHeight:g,itemHeight:_}=n1(o,h),m=function(A,x,T){if(isNaN(p)||p<=0||isNaN(g)||g<0)return;r.save();const O=G(T.lineWidth,1);if(r.fillStyle=G(T.fillStyle,a),r.lineCap=G(T.lineCap,"butt"),r.lineDashOffset=G(T.lineDashOffset,0),r.lineJoin=G(T.lineJoin,"miter"),r.lineWidth=O,r.strokeStyle=G(T.strokeStyle,a),r.setLineDash(G(T.lineDash,[])),o.usePointStyle){const D={radius:g*Math.SQRT2/2,pointStyle:T.pointStyle,rotation:T.rotation,borderWidth:O},U=l.xPlus(A,p/2),Y=x+d;Jb(r,D,U,Y,o.pointStyleWidth&&p)}else{const D=x+Math.max((h-g)/2,0),U=l.leftForLtr(A,p),Y=$r(T.borderRadius);r.beginPath(),Object.values(Y).some(Ie=>Ie!==0)?gl(r,{x:U,y:D,w:p,h:g,radius:Y}):r.rect(U,D,p,g),r.fill(),O!==0&&r.stroke()}r.restore()},y=function(A,x,T){rs(r,T.text,A,x+_/2,c,{strikethrough:T.hidden,textAlign:l.textAlign(T.textAlign)})},v=this.isHorizontal(),E=this._computeTitleHeight();v?f={x:ft(s,this.left+u,this.right-i[0]),y:this.top+u+E,line:0}:f={x:this.left+u,y:ft(s,this.top+E+u,this.bottom-n[0].height),line:0},aC(this.ctx,e.textDirection);const S=_+u;this.legendItems.forEach((A,x)=>{r.strokeStyle=A.fontColor,r.fillStyle=A.fontColor;const T=r.measureText(A.text).width,O=l.textAlign(A.textAlign||(A.textAlign=o.textAlign)),D=p+d+T;let U=f.x,Y=f.y;l.setWidth(this.width),v?x>0&&U+D+u>this.right&&(Y=f.y+=S,f.line++,U=f.x=ft(s,this.left+u,this.right-i[f.line])):x>0&&Y+S>this.bottom&&(U=f.x=U+n[f.line].width+u,f.line++,Y=f.y=ft(s,this.top+E+u,this.bottom-n[f.line].height));const Ie=l.x(U);if(m(Ie,Y,A),U=EB(O,U+p+d,v?U+D:this.right,e.rtl),y(l.x(U),Y,A),v)f.x+=D+u;else if(typeof A.text!="string"){const ct=c.lineHeight;f.y+=OC(A,ct)+u}else f.y+=S}),lC(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=We(n.font),r=At(n.padding);if(!n.display)return;const s=Hs(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=i.size/2,c=r.top+l;let u,h=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),u=this.top+c,h=ft(e.align,h,this.right-d);else{const p=this.columnSizes.reduce((g,_)=>Math.max(g,_.height),0);u=c+ft(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const f=ft(a,h,h+d);o.textAlign=s.textAlign(M_(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,rs(o,n.text,f,u,i)}_computeTitleHeight(){const e=this.options.title,n=We(e.font),i=At(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,r,s;if(si(e,this.left,this.right)&&si(n,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],si(e,r.left,r.left+r.width)&&si(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!i9(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,s=Zz(r,i);r&&!s&&fe(n.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&fe(n.onHover,[e,i,this],this)}else i&&fe(n.onClick,[e,i,this],this)}}function e9(t,e,n,i,r){const s=t9(i,t,e,n),o=n9(r,i,e.lineHeight);return{itemWidth:s,itemHeight:o}}function t9(t,e,n,i){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+i.measureText(r).width}function n9(t,e,n){let i=t;return typeof e.text!="string"&&(i=OC(e,n)),i}function OC(t,e){const n=t.text?t.text.length:0;return e*n}function i9(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var r9={id:"legend",_element:i1,start(t,e,n){const i=t.legend=new i1({ctx:t.ctx,options:n,chart:t});yt.configure(t,i,n),yt.addBox(t,i)},stop(t){yt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;yt.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=At(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:r||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class $_ extends xn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=Ee(i.text)?i.text.length:1;this._padding=At(i.padding);const s=r*We(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:r,right:s,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=ft(a,i,s),h=n+e,c=s-i):(o.position==="left"?(u=i+e,h=ft(a,r,n),l=xe*-.5):(u=s-e,h=ft(a,n,r),l=xe*.5),c=r-n),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=We(n.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);rs(e,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:c,textAlign:M_(n.align),textBaseline:"middle",translation:[o,a]})}}function s9(t,e){const n=new $_({ctx:t.ctx,options:e,chart:t});yt.configure(t,n,e),yt.addBox(t,n),t.titleBlock=n}var o9={id:"title",_element:$_,start(t,e,n){s9(t,n)},stop(t){const e=t.titleBlock;yt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;yt.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const zc=new WeakMap;var a9={id:"subtitle",start(t,e,n){const i=new $_({ctx:t.ctx,options:n,chart:t});yt.configure(t,i,n),yt.addBox(t,i),zc.set(t,i)},stop(t){yt.removeBox(t,zc.get(t)),zc.delete(t)},beforeUpdate(t,e,n){const i=zc.get(t);yt.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const sa={average(t){if(!t.length)return!1;let e,n,i=0,r=0,s=0;for(e=0,n=t.length;e<n;++e){const o=t[e].element;if(o&&o.hasValue()){const a=o.tooltipPosition();i+=a.x,r+=a.y,++s}}return{x:i/s,y:r/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,r=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=Ug(e,c);u<r&&(r=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function bn(t,e){return e&&(Ee(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Gn(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function l9(t,e){const{element:n,datasetIndex:i,index:r}=e,s=t.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:t,label:o,parsed:s.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function r1(t,e){const n=t.chart.ctx,{body:i,footer:r,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=We(e.bodyFont),c=We(e.titleFont),u=We(e.footerFont),h=s.length,d=r.length,f=i.length,p=At(e.padding);let g=p.height,_=0,m=i.reduce((E,S)=>E+S.before.length+S.lines.length+S.after.length,0);if(m+=t.beforeBody.length+t.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),m){const E=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=f*E+(m-f)*l.lineHeight+(m-1)*e.bodySpacing}d&&(g+=e.footerMarginTop+d*u.lineHeight+(d-1)*e.footerSpacing);let y=0;const v=function(E){_=Math.max(_,n.measureText(E).width+y)};return n.save(),n.font=c.string,le(t.title,v),n.font=l.string,le(t.beforeBody.concat(t.afterBody),v),y=e.displayColors?o+2+e.boxPadding:0,le(i,E=>{le(E.before,v),le(E.lines,v),le(E.after,v)}),y=0,n.font=u.string,le(t.footer,v),n.restore(),_+=p.width,{width:_,height:g}}function c9(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function u9(t,e,n,i){const{x:r,width:s}=i,o=n.caretSize+n.caretPadding;if(t==="left"&&r+s+o>e.width||t==="right"&&r-s-o<0)return!0}function h9(t,e,n,i){const{x:r,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return i==="center"?c=r<=(a+l)/2?"left":"right":r<=s/2?c="left":r>=o-s/2&&(c="right"),u9(c,t,e,n)&&(c="center"),c}function s1(t,e,n){const i=n.yAlign||e.yAlign||c9(t,n);return{xAlign:n.xAlign||e.xAlign||h9(t,e,n,i),yAlign:i}}function d9(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function f9(t,e,n){let{y:i,height:r}=t;return e==="top"?i+=n:e==="bottom"?i-=r+n:i-=r/2,i}function o1(t,e,n,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=r+s,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=$r(o);let p=d9(e,a);const g=f9(e,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(u,d)+r:a==="right"&&(p+=Math.max(h,f)+r),{x:Ye(p,0,i.width-e.width),y:Ye(g,0,i.height-e.height)}}function $c(t,e,n){const i=At(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function a1(t){return bn([],Gn(t))}function p9(t,e,n){return vr(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function l1(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const DC={beforeTitle:qn,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:qn,beforeBody:qn,beforeLabel:qn,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return se(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:qn,afterBody:qn,beforeFooter:qn,footer:qn,afterFooter:qn};function kt(t,e,n,i){const r=t[e].call(n,i);return typeof r>"u"?DC[e].call(n,i):r}class Yg extends xn{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&n.options.animation&&i.animations,s=new dC(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=p9(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,r=kt(i,"beforeTitle",this,e),s=kt(i,"title",this,e),o=kt(i,"afterTitle",this,e);let a=[];return a=bn(a,Gn(r)),a=bn(a,Gn(s)),a=bn(a,Gn(o)),a}getBeforeBody(e,n){return a1(kt(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,r=[];return le(e,s=>{const o={before:[],lines:[],after:[]},a=l1(i,s);bn(o.before,Gn(kt(a,"beforeLabel",this,s))),bn(o.lines,kt(a,"label",this,s)),bn(o.after,Gn(kt(a,"afterLabel",this,s))),r.push(o)}),r}getAfterBody(e,n){return a1(kt(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,r=kt(i,"beforeFooter",this,e),s=kt(i,"footer",this,e),o=kt(i,"afterFooter",this,e);let a=[];return a=bn(a,Gn(r)),a=bn(a,Gn(s)),a=bn(a,Gn(o)),a}_createItems(e){const n=this._active,i=this.chart.data,r=[],s=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(l9(this.chart,n[l]));return e.filter&&(a=a.filter((u,h,d)=>e.filter(u,h,d,i))),e.itemSort&&(a=a.sort((u,h)=>e.itemSort(u,h,i))),le(a,u=>{const h=l1(e.callbacks,u);r.push(kt(h,"labelColor",this,u)),s.push(kt(h,"labelPointStyle",this,u)),o.push(kt(h,"labelTextColor",this,u))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const i=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const a=sa[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=r1(this,i),c=Object.assign({},a,l),u=s1(this.chart,i,c),h=o1(i,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,r){const s=this.getCaretPosition(e,i,r);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,i){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=$r(a),{x:d,y:f}=e,{width:p,height:g}=n;let _,m,y,v,E,S;return s==="center"?(E=f+g/2,r==="left"?(_=d,m=_-o,v=E+o,S=E-o):(_=d+p,m=_+o,v=E-o,S=E+o),y=_):(r==="left"?m=d+Math.max(l,u)+o:r==="right"?m=d+p-Math.max(c,h)-o:m=this.caretX,s==="top"?(v=f,E=v-o,_=m-o,y=m+o):(v=f+g,E=v+o,_=m+o,y=m-o),S=v),{x1:_,x2:m,x3:y,y1:v,y2:E,y3:S}}drawTitle(e,n,i){const r=this.title,s=r.length;let o,a,l;if(s){const c=Hs(i.rtl,this.x,this.width);for(e.x=$c(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",o=We(i.titleFont),a=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(r[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=i.titleMarginBottom-a)}}_drawColorBox(e,n,i,r,s){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=s,u=We(s.bodyFont),h=$c(this,"left",s),d=r.x(h),f=l<u.lineHeight?(u.lineHeight-l)/2:0,p=n.y+f;if(s.usePointStyle){const g={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},_=r.leftForLtr(d,c)+c/2,m=p+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,$g(e,g,_,m),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,$g(e,g,_,m)}else{e.lineWidth=J(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const g=r.leftForLtr(d,c),_=r.leftForLtr(r.xPlus(d,1),c-2),m=$r(o.borderRadius);Object.values(m).some(y=>y!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,gl(e,{x:g,y:p,w:c,h:l,radius:m}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),gl(e,{x:_,y:p+1,w:c-2,h:l-2,radius:m}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(g,p,c,l),e.strokeRect(g,p,c,l),e.fillStyle=o.backgroundColor,e.fillRect(_,p+1,c-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=i,h=We(i.bodyFont);let d=h.lineHeight,f=0;const p=Hs(i.rtl,this.x,this.width),g=function(T){n.fillText(T,p.x(e.x+f),e.y+d/2),e.y+=d+s},_=p.textAlign(o);let m,y,v,E,S,A,x;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,e.x=$c(this,_,i),n.fillStyle=i.bodyColor,le(this.beforeBody,g),f=a&&_!=="right"?o==="center"?c/2+u:c+2+u:0,E=0,A=r.length;E<A;++E){for(m=r[E],y=this.labelTextColors[E],n.fillStyle=y,le(m.before,g),v=m.lines,a&&v.length&&(this._drawColorBox(n,e,E,p,i),d=Math.max(h.lineHeight,l)),S=0,x=v.length;S<x;++S)g(v[S]),d=h.lineHeight;le(m.after,g)}f=0,d=h.lineHeight,le(this.afterBody,g),e.y-=s}drawFooter(e,n,i){const r=this.footer,s=r.length;let o,a;if(s){const l=Hs(i.rtl,this.x,this.width);for(e.x=$c(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",o=We(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(r[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,n,i,r){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=i,{topLeft:h,topRight:d,bottomLeft:f,bottomRight:p}=$r(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(a+h,l),o==="top"&&this.drawCaret(e,n,i,r),n.lineTo(a+c-d,l),n.quadraticCurveTo(a+c,l,a+c,l+d),o==="center"&&s==="right"&&this.drawCaret(e,n,i,r),n.lineTo(a+c,l+u-p),n.quadraticCurveTo(a+c,l+u,a+c-p,l+u),o==="bottom"&&this.drawCaret(e,n,i,r),n.lineTo(a+f,l+u),n.quadraticCurveTo(a,l+u,a,l+u-f),o==="center"&&s==="left"&&this.drawCaret(e,n,i,r),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const o=sa[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=r1(this,e),l=Object.assign({},o,this._size),c=s1(n,e,l),u=o1(e,l,c,n);(r._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=At(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,r,n),aC(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),lC(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,r=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!Eh(i,r),o=this._positionChanged(r,n);(s||o)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,i),a=this._positionChanged(o,e),l=n||!Eh(o,s)||a;return l&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,i,r){const s=this.options;if(e.type==="mouseout")return[];if(!r)return n;const o=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:i,caretY:r,options:s}=this,o=sa[s.position].call(this,e,n);return o!==!1&&(i!==o.x||r!==o.y)}}P(Yg,"positioners",sa);var g9={id:"tooltip",_element:Yg,positioners:sa,afterInit(t,e,n){n&&(t.tooltip=new Yg({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:DC},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},m9=Object.freeze({__proto__:null,Colors:Cz,Decimation:Oz,Filler:Jz,Legend:r9,SubTitle:a9,Title:o9,Tooltip:g9});const y9=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function _9(t,e,n,i){const r=t.indexOf(e);if(r===-1)return y9(t,e,n,i);const s=t.lastIndexOf(e);return r!==s?n:r}const v9=(t,e)=>t===null?null:Ye(Math.round(t),0,e);function c1(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Xg extends fs{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:r,label:s}of n)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(se(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:_9(i,e,G(n,e),this._addedLabels),v9(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=n;o++)r.push({value:o});return r}getLabelForValue(e){return c1.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}P(Xg,"id","category"),P(Xg,"defaults",{ticks:{callback:c1}});function w9(t,e){const n=[],{bounds:r,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:d}=t,f=s||1,p=u-1,{min:g,max:_}=e,m=!se(o),y=!se(a),v=!se(c),E=(_-g)/(h+1);let S=iE((_-g)/p/f)*f,A,x,T,O;if(S<1e-14&&!m&&!y)return[{value:g},{value:_}];O=Math.ceil(_/S)-Math.floor(g/S),O>p&&(S=iE(O*S/p/f)*f),se(l)||(A=Math.pow(10,l),S=Math.ceil(S*A)/A),r==="ticks"?(x=Math.floor(g/S)*S,T=Math.ceil(_/S)*S):(x=g,T=_),m&&y&&s&&pB((a-o)/s,S/1e3)?(O=Math.round(Math.min((a-o)/S,u)),S=(a-o)/O,x=o,T=a):v?(x=m?o:x,T=y?a:T,O=c-1,S=(T-x)/O):(O=(T-x)/S,xa(O,Math.round(O),S/1e3)?O=Math.round(O):O=Math.ceil(O));const D=Math.max(rE(S),rE(x));A=Math.pow(10,se(l)?D:l),x=Math.round(x*A)/A,T=Math.round(T*A)/A;let U=0;for(m&&(d&&x!==o?(n.push({value:o}),x<o&&U++,xa(Math.round((x+U*S)*A)/A,o,u1(o,E,t))&&U++):x<o&&U++);U<O;++U){const Y=Math.round((x+U*S)*A)/A;if(y&&Y>a)break;n.push({value:Y})}return y&&d&&T!==a?n.length&&xa(n[n.length-1].value,a,u1(a,E,t))?n[n.length-1].value=a:n.push({value:a}):(!y||T===a)&&n.push({value:T}),n}function u1(t,e,{horizontal:n,minRotation:i}){const r=mn(i),s=(n?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class Ch extends fs{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return se(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=l=>r=n?r:l,a=l=>s=i?s:l;if(e){const l=zn(r),c=zn(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(r===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(r-l)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=w9(r,s);return e.bounds==="ticks"&&$b(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-n)/Math.max(e.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return tc(e,this.chart.options.locale,this.options.ticks.format)}}class Jg extends Ch{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Oe(e)?e:0,this.max=Oe(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=mn(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}P(Jg,"id","linear"),P(Jg,"defaults",{ticks:{callback:jd.formatters.numeric}});const yl=t=>Math.floor(Ui(t)),Ar=(t,e)=>Math.pow(10,yl(t)+e);function h1(t){return t/Math.pow(10,yl(t))===1}function d1(t,e,n){const i=Math.pow(10,n),r=Math.floor(t/i);return Math.ceil(e/i)-r}function E9(t,e){const n=e-t;let i=yl(n);for(;d1(t,e,i)>10;)i++;for(;d1(t,e,i)<10;)i--;return Math.min(i,yl(t))}function S9(t,{min:e,max:n}){e=Bt(t.min,e);const i=[],r=yl(e);let s=E9(e,n),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),l=r>s?Math.pow(10,r):0,c=Math.round((e-l)*o)/o,u=Math.floor((e-l)/a/10)*a*10;let h=Math.floor((c-u)/Math.pow(10,s)),d=Bt(t.min,Math.round((l+u+h*Math.pow(10,s))*o)/o);for(;d<n;)i.push({value:d,major:h1(d),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(s++,h=2,o=s>=0?1:o),d=Math.round((l+u+h*Math.pow(10,s))*o)/o;const f=Bt(t.max,d);return i.push({value:f,major:h1(f),significand:h}),i}class Zg extends fs{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const i=Ch.prototype.parse.apply(this,[e,n]);if(i===0){this._zero=!0;return}return Oe(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Oe(e)?Math.max(0,e):null,this.max=Oe(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Oe(this._userMin)&&(this.min=e===Ar(this.min,0)?Ar(this.min,-1):Ar(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let i=this.min,r=this.max;const s=a=>i=e?i:a,o=a=>r=n?r:a;i===r&&(i<=0?(s(1),o(10)):(s(Ar(i,-1)),o(Ar(r,1)))),i<=0&&s(Ar(r,-1)),r<=0&&o(Ar(i,1)),this.min=i,this.max=r}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},i=S9(n,this);return e.bounds==="ticks"&&$b(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":tc(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Ui(e),this._valueRange=Ui(this.max)-Ui(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Ui(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}P(Zg,"id","logarithmic"),P(Zg,"defaults",{ticks:{callback:jd.formatters.logarithmic,major:{enabled:!0}}});function em(t){const e=t.ticks;if(e.display&&t.display){const n=At(e.backdropPadding);return G(e.font&&e.font.size,De.font.size)+n.height}return 0}function A9(t,e,n){return n=Ee(n)?n:[n],{w:PB(t,e.string,n),h:n.length*e.lineHeight}}function f1(t,e,n,i,r){return t===i||t===r?{start:e-n/2,end:e+n/2}:t<i||t>r?{start:e-n,end:e}:{start:e,end:e+n}}function x9(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],r=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?xe/s:0;for(let l=0;l<s;l++){const c=o.setContext(t.getPointLabelContext(l));r[l]=c.padding;const u=t.getPointPosition(l,t.drawingArea+r[l],a),h=We(c.font),d=A9(t.ctx,h,t._pointLabels[l]);i[l]=d;const f=zt(t.getIndexAngle(l)+a),p=Math.round(O_(f)),g=f1(p,u.x,d.w,0,180),_=f1(p,u.y,d.h,90,270);T9(n,e,f,g,_)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=C9(t,i,r)}function T9(t,e,n,i,r){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;i.start<e.l?(a=(e.l-i.start)/s,t.l=Math.min(t.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),r.start<e.t?(l=(e.t-r.start)/o,t.t=Math.min(t.t,e.t-l)):r.end>e.b&&(l=(r.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function I9(t,e,n){const i=t.drawingArea,{extra:r,additionalAngle:s,padding:o,size:a}=n,l=t.getPointPosition(e,i+r+o,s),c=Math.round(O_(zt(l.angle+Le))),u=P9(l.y,a.h,c),h=k9(c),d=R9(l.x,a.w,h);return{visible:!0,x:l.x,y:u,textAlign:h,left:d,top:u,right:d+a.w,bottom:u+a.h}}function b9(t,e){if(!e)return!0;const{left:n,top:i,right:r,bottom:s}=t;return!(ai({x:n,y:i},e)||ai({x:n,y:s},e)||ai({x:r,y:i},e)||ai({x:r,y:s},e))}function C9(t,e,n){const i=[],r=t._pointLabels.length,s=t.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:em(s)/2,additionalAngle:o?xe/r:0};let c;for(let u=0;u<r;u++){l.padding=n[u],l.size=e[u];const h=I9(t,u,l);i.push(h),a==="auto"&&(h.visible=b9(h,c),h.visible&&(c=h))}return i}function k9(t){return t===0||t===180?"center":t<180?"left":"right"}function R9(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function P9(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function O9(t,e,n){const{left:i,top:r,right:s,bottom:o}=n,{backdropColor:a}=e;if(!se(a)){const l=$r(e.borderRadius),c=At(e.backdropPadding);t.fillStyle=a;const u=i-c.left,h=r-c.top,d=s-i+c.width,f=o-r+c.height;Object.values(l).some(p=>p!==0)?(t.beginPath(),gl(t,{x:u,y:h,w:d,h:f,radius:l}),t.fill()):t.fillRect(u,h,d,f)}}function D9(t,e){const{ctx:n,options:{pointLabels:i}}=t;for(let r=e-1;r>=0;r--){const s=t._pointLabelItems[r];if(!s.visible)continue;const o=i.setContext(t.getPointLabelContext(r));O9(n,o,s);const a=We(o.font),{x:l,y:c,textAlign:u}=s;rs(n,t._pointLabels[r],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function MC(t,e,n,i){const{ctx:r}=t;if(n)r.arc(t.xCenter,t.yCenter,e,0,Ae);else{let s=t.getPointPosition(0,e);r.moveTo(s.x,s.y);for(let o=1;o<i;o++)s=t.getPointPosition(o,e),r.lineTo(s.x,s.y)}}function M9(t,e,n,i,r){const s=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!i||!a||!l||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(r.dash),s.lineDashOffset=r.dashOffset,s.beginPath(),MC(t,n,o,i),s.closePath(),s.stroke(),s.restore())}function N9(t,e,n){return vr(t,{label:n,index:e,type:"pointLabel"})}class oa extends Ch{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=At(em(this.options)/2),n=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=Oe(e)&&!isNaN(e)?e:0,this.max=Oe(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/em(this.options))}generateTickLabels(e){Ch.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,i)=>{const r=fe(this.options.pointLabels.callback,[n,i],this);return r||r===0?r:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?x9(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,i,r){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,i,r))}getIndexAngle(e){const n=Ae/(this._pointLabels.length||1),i=this.options.startAngle||0;return zt(e*n+mn(i))}getDistanceFromCenterForValue(e){if(se(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(se(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const i=n[e];return N9(this.getContext(),e,i)}}getPointPosition(e,n,i=0){const r=this.getIndexAngle(e)-Le+i;return{x:Math.cos(r)*n+this.xCenter,y:Math.sin(r)*n+this.yCenter,angle:r}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:i,right:r,bottom:s}=this._pointLabelItems[e];return{left:n,top:i,right:r,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),MC(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:i,grid:r,border:s}=n,o=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&D9(this,o),r.display&&this.ticks.forEach((u,h)=>{if(h!==0){l=this.getDistanceFromCenterForValue(u.value);const d=this.getContext(h),f=r.setContext(d),p=s.setContext(d);M9(this,f,l,o,p)}}),i.display){for(e.save(),a=o-1;a>=0;a--){const u=i.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:d}=u;!d||!h||(e.lineWidth=d,e.strokeStyle=h,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&!n.reverse)return;const c=i.setContext(this.getContext(l)),u=We(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const h=At(c.backdropPadding);e.fillRect(-o/2-h.left,-s-u.size/2-h.top,o+h.width,u.size+h.height)}rs(e,a.label,0,-s,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}P(oa,"id","radialLinear"),P(oa,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:jd.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),P(oa,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),P(oa,"descriptors",{angleLines:{_fallback:"grid"}});const $d={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ot=Object.keys($d);function p1(t,e){return t-e}function g1(t,e){if(se(e))return null;const n=t._adapter,{parser:i,round:r,isoWeekday:s}=t._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),Oe(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(ho(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,r)),+o)}function m1(t,e,n,i){const r=Ot.length;for(let s=Ot.indexOf(t);s<r-1;++s){const o=$d[Ot[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=i)return Ot[s]}return Ot[r-1]}function L9(t,e,n,i,r){for(let s=Ot.length-1;s>=Ot.indexOf(n);s--){const o=Ot[s];if($d[o].common&&t._adapter.diff(r,i,o)>=e-1)return o}return Ot[n?Ot.indexOf(n):0]}function V9(t){for(let e=Ot.indexOf(t)+1,n=Ot.length;e<n;++e)if($d[Ot[e]].common)return Ot[e]}function y1(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:r}=D_(n,e),s=n[i]>=e?n[i]:n[r];t[s]=!0}}function F9(t,e,n,i){const r=t._adapter,s=+r.startOf(e[0].value,i),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+r.add(a,1,i))l=n[a],l>=0&&(e[l].major=!0);return e}function _1(t,e,n){const i=[],r={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],r[a]=o,i.push({value:a,major:!1});return s===0||!n?i:F9(t,i,r,n)}class _l extends fs{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),r=this._adapter=new KU._date(e.adapters.date);r.init(n),Aa(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:g1(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(r=Math.min(r,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=Oe(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),s=Oe(s)&&!isNaN(s)?s:+n.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,a=_B(r,s,o);return this._unit=n.unit||(i.autoSkip?m1(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):L9(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:V9(this._unit),this.initOffsets(r),e.reverse&&a.reverse(),_1(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=Ye(n,0,o),i=Ye(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,r=this.options,s=r.time,o=s.unit||m1(s.minUnit,n,i,this._getLabelCapacity(n)),a=G(r.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=ho(l)||l===!0,u={};let h=n,d,f;if(c&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,c?"day":o),e.diff(i,n,o)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+o);const p=r.ticks.source==="data"&&this.getDataTimestamps();for(d=h,f=0;d<i;d=+e.add(d,a,o),f++)y1(u,d,p);return(d===i||r.bounds==="ticks"||f===1)&&y1(u,d,p),Object.keys(u).sort(p1).map(g=>+g)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,s=this._unit,o=n||r[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,i,r){const s=this.options,o=s.ticks.callback;if(o)return fe(o,[e,n,i],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],h=c&&a[c],d=i[n],f=c&&h&&d&&d.major;return this._adapter.format(e,r||(f?h:u))}generateTickLabels(e){let n,i,r;for(n=0,i=e.length;n<i;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,r=mn(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:i*s+a*o,h:i*o+a*s}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,s=this._tickFormatFunction(e,0,_1(this,[e],this._majorUnit),r),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,i=r.length;n<i;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const r=this.getLabels();for(n=0,i=r.length;n<i;++n)e.push(g1(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return qb(e.sort(p1))}}P(_l,"id","time"),P(_l,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Wc(t,e,n){let i=0,r=t.length-1,s,o,a,l;n?(e>=t[i].pos&&e<=t[r].pos&&({lo:i,hi:r}=oi(t,"pos",e)),{pos:s,time:a}=t[i],{pos:o,time:l}=t[r]):(e>=t[i].time&&e<=t[r].time&&({lo:i,hi:r}=oi(t,"time",e)),{time:s,pos:a}=t[i],{time:o,pos:l}=t[r]);const c=o-s;return c?a+(l-a)*(e-s)/c:a}class tm extends _l{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Wc(n,this.min),this._tableRange=Wc(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,r=[],s=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=i&&r.push(c);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=r.length;o<a;++o)u=r[o+1],l=r[o-1],c=r[o],Math.round((u+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Wc(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return Wc(this._table,i*this._tableRange+this._minPos,!0)}}P(tm,"id","timeseries"),P(tm,"defaults",_l.defaults);var j9=Object.freeze({__proto__:null,CategoryScale:Xg,LinearScale:Jg,LogarithmicScale:Zg,RadialLinearScale:oa,TimeScale:_l,TimeSeriesScale:tm});const B9=[qU,Sz,m9,j9];Jn.register(...B9);const U9=({name:t,data:e,labels:n,fullChart:i})=>{const r=b.useRef(null),{value:s}=Vt(o=>o.theme);return b.useEffect(()=>{const o=r.current.getContext("2d"),a=new Jn(o,{type:"line",data:{labels:n,datasets:[{label:`Percentage Change ${t}`,data:e,backgroundColor:"rgba(75,192,192,0.2)",borderColor:e[9]>e[8]?"#39FF14":"#FF3131",borderWidth:2,pointRadius:i?5:1,pointHoverRadius:0}]},options:{maintainAspectRatio:!1,responsive:!0,scales:{x:{display:i,ticks:{color:s==="dark"?K.color5:K.color3}},y:{display:i,ticks:{color:s==="dark"?K.color5:K.color3}}},plugins:{legend:{display:i,labels:{color:s==="dark"?K.color5:K.color3}}}}});return()=>{a.destroy()}},[t,e,n,i]),w.jsx("canvas",{ref:r,style:{width:"100%",height:"100%"}})};function NC({chartData:t,coinDetails:e}){const n=t||e;function i(){return w.jsx(U9,{fullChart:!!e,name:n.coin_name,data:[n.percent_change_1year,n.percent_change_30d,n.percent_change_14d,n.percent_change_7d,n.percent_change_24h,n.percent_change_4h,n.percent_change_2h,n.percent_change_1h,n.percent_change_15min,n.percent_change_5min],labels:["1y","30d","14d","7d","24h","4h","2h","1h","15min","5min"]})}return t||e?w.jsx(i,{}):w.jsx("div",{children:"Loading..."})}function z9(t){if(t.toString().split(".")[0]!=="0")return parseFloat(t).toFixed(3);if(t.toString().split(".")[1].length>6){let e=t.toString().split(".")[1].split("").findIndex(n=>n!=="0");if(e!==-1)return e>=5?parseFloat(t).toFixed(e+1):parseFloat(t).toFixed(3)}else return t}async function LC(){const t=ie==null?void 0:ie.currentUser,e=f_(I_,"users");if(!t)return;const n=S_(e,A_("id","==",t.uid));return(await T_(n)).docs.map(s=>({...s.data(),id:s.id}))[0].favorites}async function VC(t){const e=ie==null?void 0:ie.currentUser;if(e!=null&&e.uid){const n=f_(I_,"users"),i=S_(n,A_("id","==",e==null?void 0:e.uid)),r=await T_(i);if(!r.empty){const s=r.docs[0];await Jj(s.ref,{favorites:t})}}}function FC(){const t=Vt(e=>e.theme.value);return w.jsx("div",{className:"loading-container",style:{backgroundColor:t==="dark"?K.color2:K.color4},children:w.jsxs("div",{className:"lds-ring",children:[w.jsx("div",{}),w.jsx("div",{}),w.jsx("div",{}),w.jsx("div",{})]})})}function v1(t){typeof t!="string"&&(t=t.toString());const e=t.split("");return e[0]!=="-"?(e.unshift("+"),e.join("")):t}const jC=(t,e)=>[...t].filter(n=>e===""||n.coin_name.toLowerCase().includes(e.toLowerCase())||n.coin_symbol.toLowerCase().includes(e.toLowerCase())),$9="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAADxElEQVR4nO1Z3UtUQRQf+zLCIhKih0AKvXPuVmotUmZpUVAPgtCbUI/1H2RvUUjoS5CQD+FDUFL5kRQZlhUWld4zu+GLWPhgPfVgWpYVfXpi5uqy997ZdT+8tgt7YF72zvzO7zdz58xv7jKWi1zkwrcgATWysWwNEvCEBH/MsjEIoZIEkGqWuZ9lW5DgDyMCBDxg2RQUNndHkbdbyKhi2RKE/L5HgOC9LBuCwrCLEGa9AmQzKlimByHc1ZMHIoQ7LJODMFAee/aVgFmyIMgyNQj5bSdh/pQEf+YS0c0yMQjNbYTw10nWPETCPOxZhSGjlGVakIAOV9UZjDxDeO5amVssk4KGSkzv7PMjkedoHHWtguy7/f+QRSgkC/aQME+QgEZCfpMEjLsIomYcujb1+NzYRoUlMREKF4fkcNl6WbPJgnoScJYEtNsE+FTMCuMUUKsRUJvQWMGn5sS2q9yKg1EhOSUyuxcIYSKxRDEJDBOxPA82sTz1LB1shAnJMbaAcHANIe9PPQF/TyGjLiZ+yKhTfVLH75cc46/CQNFq6VtigPwhAW+lxyeEK2SZDSTgGFklZTQSKFhwiedzjAQK1Bghx5oNCktiKmyVQ7eyvZJboglWeQ4lG+Sjn36G7JP8gybvPRorzk8OrJMtJ4TrmmX8JO2yLyZQ8EnN7HdQOLgyNVApQsBVzWaalmVv0chbENRWOOQ3aKBmRXrgsnogv6wB/0ohfiBt8iGjigR81rw2bURsWbr40SJaNSJmCM3qlHHRrFYYXtxWXSlOX4TgFzXJvpHFDyaNFzb2kYAvS0LekVjwJs1G60seB/o0r02TP6zdyeXmciZuThpD8Gb3hvWHrS45QpcjuQX1SWPYPouiKluXP2x1yRHeOJKH+Y6kMYaMUpeA1/6w1VqN6OOe/451ShKCIZv22VhxvhobbVMStQppH/fOzTfq6WMVb1Z1XBFUrU3+5uknYNS5CoFy/wXYFxntu0uDgQ1zm/O7pjz+VKbt5daNkf4I3c5+xvElEOCpHudsGw5nlE9a2BLPKIwXfC0hP7/kZdRrtXlPSh5fjeE9bsvsvwDk7xIjKZ0lPz3XJhMU9c5f8lbxurhf3uZNnnxFou6w6gKjXjGYjj8WZmUO/wQIvjcOcXuTYmBT3C8asTa5iIio9FEAnNIQ/0XIr5FlbEkYR5VZaCGEHxoBJ/0U0OL6ONVJQ2ZJynivzCL7Phx1MCJcWlzWnj/t1Kw/ImHuXDRcKxBQk6H2l49/CioX6sN92PHX1FK60lzkgmV//AM7f1WAktwY2AAAAABJRU5ErkJggg==",W9="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEJ0lEQVR4nO2ZvW8bdRzGf1Q09r357MT3YikTZSgIwdAWCZA6MYBQ/oIKykCHDlUZujcUlQ2pVMAYJFQQUgckhKCxHb/cxU7sOunZvoiKdkCZUFGGVlS0gd/vQXcXv9upae4SG/mRnsny3ef5+vHd92xCJppoosAEW3sVdf0EGUfB0lTY2kPXlqaScRPq2jxsHag71ubJOAm/Ph+Crf+OuubAAzX1HoqzHBkXwU6cacHvuKp+QMZBAHkGNXWjCV5THXjAUm87r5FRF6r6221Tb8ADluL4LTLqQk1L9YW/pQDr8UUyyoKlvQRLZX3hvQDAuvIKGVXBUr/qqkwXfByozCyQkb1xWcpfPVNvh19zAkw/QiWeIKMmWMrH/SvTBr8243wCji+RURKKsxys+B994RvgLXjg5vQWLE04uOu8reioxY/B0uZgKWdhKdcGVqYd3IP3XJ6+hlLsLMrROazKx1BSdF/uE6grR7Chn4SdOIW6fgE1/Qpq6nVUtQKq6iaq6vbuV5kB8A1wDx4ox4CSZ7YadU1Xotu0KG/SFblAi5HrtBi5goJ0AcuRUyiIJ2HKz+0Ov5H4yF3AWktY9zrQfWMatjKd4H3g2UrDMlhxx4WI5+WGJcAQLw4OYOunUddZE757Heg39eEr0wHeCy+3wHvgJTBTAjUkBlN67wkV0t9FXdvumXoAlWH94Bvg3fCm9A8M8cxw34Oa+iaq2oNRqAxzJy8+RF56Zyj4Zoh1/QSqyr2DrAzz4LdgiG/8J/hWnZQjsOJ3DqIyzIHPi78hKx59KvhmCOf6vB6/5U9l5KEqwzx4G1ludk/wzRC2ImItntyPyjAXXsghFZN9ge94zq3MfBdkZZghOvDfo0i44NaIysynQVSGOfCG+DlADgUC3xGkHLvqZ2WYO3nxauDgzQCl2Cd+VYbtmOaFy/sXoBxb8qMyzHHeM83x6f2BBzmEUvT+XivTghfAcgJoln+Ai/vR/9XpF/dcmXwnPHOc5YGc+ELwAVbk9/2oTBM858G7ATL86cAD0FX5Sz8q44ELTXiW4UGXwl8EH6AYrfhVGbYD7pkDTYdvBgqPLAnTovx44NQ7dhlhC4ZwDlnhHM0JW/0qwxrwS5xrusQ9ds4RXICC9PoT19+8RGle/BoFofmnBkw5RrP8ZzQj/N0JzzXhWdpxGEiFXwsuQFH+cNf11xAzMISXB74/Kx6lGe6nXviw51QYSE6dDywAXZa+7QtuSpsw+d2fVduDpLk5mubudsM7pouhb4ILUJDudj6nin/SvDT/NL1FhRxGeuo8TYfve/AhsGQINDl1JxB4t8dmhDnw1JAoNcUF5Pk9/8aJn/kETU0t0GSIugFuhBh+JDF/qNtPtKgJ1BBvU1PKYTly3PfjJ589Tm9M5eji4V/wA+H9Pv5EE/1f9S9M4cKBWKiMUAAAAABJRU5ErkJggg==",BC=(t,e)=>e!=null&&e.includes(t)?W9:$9;function H9({limit:t,coins:e,searchInput:n,setFavorites:i,favorites:r}){const s=Vt(h=>h.theme.value),o=b.useRef(null),a=xi();function l(h,d){h.target.className!==o.current.className&&a(`/coin/${d}`)}b.useEffect(()=>{const h=Ey(ie,d=>{d&&LC().then(f=>{i(f)})});return()=>h()},[]),b.useEffect(()=>{VC(r)},[r]);function c(h){const d=r.includes(h);i(d?r.filter(f=>f!==h):[...r,h])}const u=()=>w.jsxs("table",{className:"coins-table",style:{color:s==="dark"?K.color4:"black"},children:[w.jsx("thead",{className:"coins-head-table",children:w.jsxs("tr",{children:[w.jsx("th",{children:"Favorites"}),w.jsx("th",{className:"name-title",children:"Name"}),w.jsx("th",{children:"Symbol"}),w.jsx("th",{children:"Price usd"}),w.jsx("th",{children:"Percent change 15min"}),w.jsx("th",{children:"Percent change 5min"}),w.jsx("th",{className:"chart-title",children:"Percent change chart"})]})}),w.jsx("tbody",{className:"coins-body-table",children:jC(e,n).map((h,d)=>d<=t&&w.jsxs("tr",{onClick:f=>l(f,h.coin_symbol),className:"coin",style:{borderBottom:s==="dark"?" 1px solid #636363":"1px solid #d2d2d2"},children:[w.jsx("td",{children:w.jsx("img",{onClick:()=>c(h.coin_symbol),src:BC(h.coin_symbol,r),ref:o,className:"favorite-star"})}),w.jsx("td",{className:"name-body",children:h.coin_name}),w.jsx("td",{children:h.coin_symbol}),w.jsxs("td",{children:["$",z9(h.coin_price)]}),w.jsxs("td",{style:{color:h.percent_change_15min>h.percent_change_5min?"#39FF14":"#FF3131"},children:[v1(h.percent_change_15min),"%"]}),w.jsxs("td",{style:{color:h.percent_change_5min>h.percent_change_15min?"#39FF14":"#FF3131"},children:[v1(h.percent_change_5min),"%"]}),w.jsx("td",{className:"home-charts",children:w.jsx(NC,{chartData:h})})]},h.id))})]});return w.jsx("article",{className:"all-coins",children:e?w.jsx(u,{}):w.jsx(FC,{})})}function q9({setLimit:t,limit:e,coins:n,searchInput:i,setLoading:r}){const{value:s}=Vt(c=>c.theme),[o,a]=b.useState(!0);b.useEffect(()=>{jC(n,i).length>e?a(!0):a(!1)},[n,e,i]);const l=()=>{r(!0),setTimeout(()=>{r(!1),t(c=>c+20)},2e3)};return w.jsx("button",{className:"glow-on-hover",style:{display:o?"inline-block":"none",background:s==="dark"?K.color3:"rgb(75 141 255)"},onClick:l,children:"Load more"})}function K9({coins:t,setCoins:e,coinsCopy:n,favorites:i}){return{handleSortingByUsdPriseIncreasing:()=>{const h=[...n].sort((d,f)=>d.coin_price-f.coin_price);e(h)},handleSortingByUsdPriseDecreasing:()=>{const h=[...n].sort((d,f)=>f.coin_price-d.coin_price);e(h)},handleSortByName:()=>{const h=[...n].sort((d,f)=>d.coin_name.localeCompare(f.coin_name));e(h)},handleSortByPriceChange5MinDecreasing:()=>{const h=[...n].sort((d,f)=>d.percent_change_5min-f.percent_change_5min);e(h)},handleSortByPriceChange5MinIncreasing:()=>{const h=[...n].sort((d,f)=>f.percent_change_5min-d.percent_change_5min);e(h)},removeFilters:()=>{e(n)},handleSortByFavorites:()=>{const h=[...t].filter(d=>i.includes(d.coin_symbol));e(h)}}}function G9({coins:t,setCoins:e,coinsCopy:n,favorites:i,showFilters:r}){const{handleSortingByUsdPriseIncreasing:s,handleSortingByUsdPriseDecreasing:o,handleSortByName:a,handleSortByPriceChange5MinIncreasing:l,handleSortByPriceChange5MinDecreasing:c,removeFilters:u,handleSortByFavorites:h}=K9({coins:t,setCoins:e,coinsCopy:n,favorites:i}),[d,f]=b.useState(window.innerWidth);b.useEffect(()=>{const g=()=>f(window.innerWidth);return window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[]);const p=[{name:"Sort price Increasing",handler:s},{name:"Sort price Decreasing",handler:o},{name:"Sort by name",handler:a},{name:"Sort 24h Increasing",handler:l},{name:"Sort 24h Decreasing",handler:c},{name:"Sort by Favorites",handler:h},{name:"Remove filters",handler:u}];return w.jsx("div",{className:"filters",style:{height:r?d<600?"17vh":"7vh":"0px"},children:p.map((g,_)=>w.jsx("button",{onClick:g.handler,children:g.name},_))})}function Q9({searchInput:t,setSearchInput:e}){return w.jsx("input",{className:"inputSearch",placeholder:"Search for a coin...",value:t,onChange:n=>e(n.target.value),type:"text"})}function Y9(){const[t,e]=b.useState(""),[n,i]=b.useState(),[r,s]=b.useState(""),[o,a]=b.useState(20),[l,c]=b.useState([]),{value:u}=Vt(g=>g.theme),[h,d]=b.useState(!1),[f,p]=b.useState(!1);return Pb(),b.useEffect(()=>{JO().then(g=>{tD().then(_=>{const m=_.map((y,v)=>({...y,coin_price:g[v].coin_price}));e(m),i(m)})})},[]),w.jsxs("main",{className:"home-main",style:{backgroundColor:u==="dark"?K.color2:K.color5},children:[w.jsx(P5,{coins:t}),w.jsxs("div",{className:"search-filters",children:[w.jsxs("div",{className:"search-container",children:[w.jsxs("div",{className:"search-block",children:[w.jsx("img",{src:r5,alt:"search"}),w.jsx(Q9,{searchInput:r,setSearchInput:s})]}),w.jsxs("button",{onClick:()=>d(g=>!g),children:[w.jsx("img",{src:i5,alt:"filter"}),"Filters"]})]}),w.jsx(G9,{coins:t,setCoins:e,coinsCopy:n,favorites:l,showFilters:h})]}),w.jsx(H9,{limit:o,coins:t,searchInput:r,favorites:l,setFavorites:c}),w.jsxs("footer",{className:"home-footer",children:[w.jsxs("div",{style:{display:f?"inline-block":"none"},className:"lds-ellipsis",children:[w.jsx("div",{}),w.jsx("div",{}),w.jsx("div",{}),w.jsx("div",{})]}),w.jsxs("div",{className:"home-footer-buttons",children:[w.jsx(q9,{setLimit:a,limit:o,coins:t,searchInput:r,setLoading:p}),w.jsx(N5,{})]})]})]})}function kh(t){switch(t.code){case"auth/claims-too-large":return"Oops! Something went wrong. Please try again.";case"auth/invalid-email":return"Invalid email address. Please check your email and try again.";case"auth/id-token-expired":return"Your login session has expired. Please log in again.";case"auth/id-token-revoked":return"Sorry, your login has been revoked. Please log in again.";case"auth/insufficient-permission":return"Sorry, you don't have permission for this. Please contact support.";case"auth/internal-error":return"Oops! Something unexpected happened. Please try again later.";case"auth/invalid-argument":return"Invalid input. Please check your information and try again.";case"auth/invalid-claims":return"Oops! Something went wrong. Please try again.";case"auth/invalid-continue-uri":return"Invalid link. Please use a valid link to continue.";case"auth/invalid-credential":return"Invalid user credentials. Please try again.";case"auth/invalid-disabled-field":return"Account status is invalid. Please contact support.";case"auth/invalid-display-name":return"Invalid display name. Please provide a valid name.";case"auth/missing-password":return"Please provide a password.";case"auth/passwords-don't-match":return"Passwords don't match. Please try again.";case"auth/weak-password":return"Password is too weak. It must be more than 6 characters.";case"auth/email-already-in-use":return"Email address already in use. Please try again.";default:return"Oops! Something went wrong. Please try again."}}async function UC(){const t=ie.currentUser,e=f_(I_,"users");if(!t)return;const n=S_(e,A_("id","==",t.uid));(await T_(n)).docs.map(s=>({...s.data(),id:s.id})).length===0&&await Zj(e,{id:ie.currentUser.uid,email:ie.currentUser.email,date:new Date,favorites:[]})}const X9="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='48px'%20height='48px'%3e%3cpath%20fill='%23FFC107'%20d='M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z'/%3e%3cpath%20fill='%23FF3D00'%20d='M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z'/%3e%3cpath%20fill='%234CAF50'%20d='M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z'/%3e%3cpath%20fill='%231976D2'%20d='M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z'/%3e%3c/svg%3e";function zC({prop:t}){const e=xi();async function n(){try{await tN(ie,n5),UC(),e("/home")}catch(i){console.log("Sign-in error:",i)}}return w.jsxs("button",{onClick:n,className:"auth-google-button",children:[t," ",w.jsx("img",{src:X9,alt:""})]})}function W_(){const t=xi(),e=ie==null?void 0:ie.currentUser;b.useEffect(()=>{e&&t("/home")},[])}const J9="/my-cryptos/assets/robot-checking-user-profile-eL_Z6C8W.svg",Wd="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAE/klEQVR4nO2Y21MbZRjGubeUNqWFhJDdBVJAvbWOVseraqGdhv5XSi1VwikJgSYkBJDitfWq49QLDxwkkLAJOW1O0I5jHYowAo/z7YF8JNlNArQwY96ZdwbC8r3P89vne5mhpqZa1apWtapVLbnuZ3CnJ41kTxo4j21JQ+hJo6tGreQHcM47oWrgHIhDOa1q4F5y76+zFtdTou8Je69UDbT7+Je3A38vnLXIHpW+tfxq0+xa+1fVQMfcBszeddx4GluwJPe3zg31xN7BBz8IYJ08WiZT6hHq+H4TpNunBXT6gi/v8K9Xz1r8Lf8WzO4AOFcELd4UuMl0aQOiidk0zO41fPhj/HdLcm/7rVNP7uPG0yRYux+cJyEKF9tbpgHRxJMszJ51tHtWMt386+DbEv/5yhauuwNSZDzCoXCWtKdcA3ObaJ/bwPXZLMzeGDin/+Dms9S8JbW/+6aEW5IH+OhZVqL+OAJOjgwtnvWUcQdE+sTAE2JgA+bvNtDmE8CNBdExsZK5u74TOW3xt4P/oMMbBONYBeeOFxXOTEhd+hIr4g8NZNE2k0WbLwXOFQJrWyJv4w9LCnsnpp4CPv5pA8zIErgxHuxEQlO8yV3KgBIdSryZiJ/JonU6g1ZfWny9zMgyOryrmbuRndRxxXeFdvDu1BoY2zK48XVw3qSqcMYtiTe5ktoGjkSHpj+dRetUBi2kfRmwrhhM9gBMQwv7nz7PLFlS2K9E/Cc/vwBrWwQzGgTripakrohv1jKgGp1pmb4sXhnGuBMwOdbQPLCITs/qTndop6Tw7vAu3pvhYRpeAutcAzsRL4s6Ed78WGoNA7T4nIFWhb7vqAEykHELMDnDMA75YRqYx83nL1TFf/brn+AIdZsf7HgYHFmRZVJXxBvHBQ0DsvgC+lOF9OmB4hAHMbEKw6Pf0DnF44vgNrVhtvH+bJjETYoMWZGeVEXUjeOSeOOYhgHVi6vQl/8aSoPpgdIw42gUTcMBGPoXoe/7BczwAlodSzANzovUGScPlqzIY1A3jgtoGpNa3UBedNq0okMPdVGUnDEYRngYBgPQW/3QD6yAcfBgyZaZEI5NvYm0U+oSBrQvLk0/f+ghJacAgyMGgz0CvY10TBRzEupN5ExnAobRhLqByqOTosQnD0kZyLDRBPSOBPT2BBrtcTTY4tDb4+Lz+dRNZVAn5ylnahootvOPRCefPhmaT18R75DEN9riaBiJ49pwTGzDqFAxdQN1pqqBk0THmDdQoi+LFw1I4q8NxXB1MCp+bxwTyqZOv83SBiq9uMXo24vQJ+JlA/UDUVwZiIo/L4e6eJZ8nrqBcnY+Jb7g4lJDafEKfVq8aMAaga4/In5NfkeLOjlLOU/VQCU7v/zoUPQHY6hX6FujuNIfge7bCC6T/mZdfEaNegMFQ93AaURH5eIeiY41R18ni7/0SGryWeNITnjuLebOKmmg4p1/zOjoZPGKgbq+MOoehnHxYVh8jqauiCdvSdVAYXTSx975+Re3IDr9uehcIvT7KANfh1H7IIS6vnVcHYoWLABNA6e18xuKRKe+SHQuy9GhxV98EBINXOgN4cJXvPjc4TlaBtjJtJAfHeYUdn6OfqTg4l5S6MvRUejXiuJDeOdLXmzyOXl79dao+j93GV+6i/WmhTey86no6EpEp7Y3R18xQLq2N7Srs0bvqxqoVrWqVa1q/e/qP3Oau9vfx/VtAAAAAElFTkSuQmCC",H_="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFXklEQVR4nO2XXUxbZRjHO5NpZlhizDQxcTFeeOcu9MZ4o4kwQMfilSYmZhGjF15o4o1RbliiLtHNnIJEw8b4aA+bFs5pwSFON8cY35SedjDOaU9LoUChtJSWr0J7Do95CoXT00PpBzKy9J88yZv2Pc/z+79f5z0qVU455ZRTTjnl9AioQqd7htBQ59Ra6jJB0gOElpolSDoUjc32QPQ/DXUO+6oOgwDgiJqkSwgt3aYmaVFN0pBiiFvPlGCOhwJPaAyvqUmqMw1oxSBwtsjmNw4M/NJ1/UmCpOlkUBWNBrhC/RlqaL25iIFt/C2pGS1FVWip5/9X+AqSfpcgKZ8SwK+61sjN7kHntMfrEkRxA2TC3/A/7IN9lWeD8mGNfQevrq4+SpB0JaGlNuRFq5tuhM1WBy9KoAPhCPzhnodfHNPRwPZCOLJtBvtarA4en00woaU2sBbW3Bf4Kp0ujyDpdnmhqmuGjQ6j2R4RhHAMzLa0Cu/3jcLjdCeomu/GxVG6E97rGwXr0uq2kYggRDAH5lLYG+1YOyv4ixrqWTVJD8qT1+jbV/2BxRnpEvltcg6e1N9LAJfHE/Q9qB+fjVte/uCi56q+fVVhWQ1mfOT+pNM9TWhpizyp4U73lHTUUU1TXjiyB7g0sG+jyxNnAnNi7sQlRVuQJS34H2oMx+UjX9Goh38HzLx8c46vhOBYCiMvD3xmfCUkTwcdRrMDa8lnAplSgi8vL39MTdItcQka9TA4YrUlVAOAj43WtOFjUWq0KqWEwRGbFWvKjtlWZNvTgFpLXZCPfN8wp1hpTRThuKFLGVBdC6ovv9kMolaxT56hC0KCqGii/z5rU3hXXEgO39j8jvyovN3POBQrAEDvfFAZvlIDqo8+iY/KBsW+3b7gbunhVu/QmPyIRUZF+EuNrSfUJGUltJS/8po+XHW9BZr/7ow/LmSiprzKBr4+n2jgq/OKfXWTc8lKRBmQBZmQDRmRNelMMKxdw3B2cLpnjfgS3S15i9unbKDsu0QDZd8q9jVM+5LxixNuTz+ymFj776pUNTIyksewvBkf9C4EOnbLbg4sKxu43ASq0k934LF9pVmxr2lhaVd6rI0MDMtbkEmVjoYejL1gYnkPJggsLt9RHJ4NgOdu9CqbuEqDqvzHzaihd45PQxecujsMBcYxKB5yQlh5D4M/EHD4/X7wen2iyz33pioTWUb5V00sv5DMRNmIM+Vj80RbPxSbnHDWPBGNUoszKbzP59twTc9+kBH89kyM8q8zrD2IJjzzfjQRN2Z4cdt1FqQvLkPXNvyZ3h4oaPocirVnIb++KN0I5dcX3S6offtUyibMNtsrDMfPoAncVDhIUhN984t73oNw2cTg8xtKMgEHuZH0THDciwzLs2jigWN8ShDEYamJQf8inGzr29VAgdERNVDQ/MV+wAPGW/WFt9JaTj0u1zGG4ys2jzVedM/5ugBg+yBfjgjwPTsBL/01kGCgaMgBnw1PxC2bBkYL4fh7YVKtC+tQz2h2TNQVrqoyEcPZPmQ4uw+N3LeOBYPLK7g3FqTFJlbWoMsXjAa2Y5KO4LqwnjK81IQ0R0YGoiaczqcYzn7RxNrX0IjF5liZ9Hh7Qmvr3aIouuSFI4LgXlpesUmLZ6p9MSDdGybO/jPD8oHoS2cr0NCwfXwGA9t4LGIcOgNx+8PqOMNw9koTy3cyHO9mWD4UDY53z3rmAtMzs6ZDayBV5QxAbgayU24JQW4JZadHagmtP8yrRBYGQrHi9YwmLRPYt45pyP4yl43wCrxv1+m6wn8O3AB+hEhnIT+LD5rTmtMvH7iBmImtmcjESAhHPgb/H0oCIM46csHVAAAAAElFTkSuQmCC",q_="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFxElEQVR4nO2XbWwadRjAmck0M11izDQxcTF+8Jv7oF+MXzSx3Ytui580MTGLNfrBD5r4xei+dIlziW7zaNdoutcWrpvS3sHqZt2b2zoofaEcrF0POCgta2kplELfaOHuHvPQQY/jYEC7jRie5EkO+N//+f3+b3eoVJWoRCUqUYlKVOJ/EPU63QuEhjqg1lInCZLuI7TUFEHSsWSuXvclf9NQB7CtqhwCADapSXofoaUvq0laUJM0FJjCg3v2YR9PBJ7QGN5Sk1RXEdCKSeBske3vPDbwYxf02wmSpvNB1bca4BT1d6yl48ocJl7jd3lltBRVr6VefqTw9ST9IUFSISWA33UdiSumfu9EIOjjBUEEWeB3+Bu2wbbKs0GFsMaGgzc1NW0mSLqB0FKivGhT26W4zenhBAl0JJ6Av/wz8JtnIpl4PRtPpGWwrd3p4fDeLAktJWItrLkh8I06XRVB0p3yQo3nDeIti82d4Pl4Csw1vwQf9wzD03QXqNpvZ+Rmugs+6hkG5/xSWiTB8wnsA/tS2BudWHtd8Ec11Itqku6Xd35a37kUjsxNSpfIH/en4Vn9nSxweT5D34Hm0amM5RWOzgXO6DuXFJZVf8lH7nGd7nlCS9vlnRpumsalo47RNh6ETQ8Blya2bfUFMiSwT+w7e0nRdmQpCv7n04at8pGvb9XDv302Tr45RxdjsKWAkZcn3jO6GJN3B7csNg/Wks8EMhUEX1dX95SapC9mdNCqh/4hpyurGgB8bnEWDZ/KWotTqUvoH3I5sabsmO1AtocKqLXUEfnI9ww6FCstCwJsNRiVAdVnQfXtD6tJnFVsU2UwQowXFCV677IuhWfFkfzwre0fyI/KG72MR7ECAJhnosrwDRpQffZFZja0KLY1haK5uofr5oER+RGLjIrwx1o7tqlJykloqXDDeX288cJFaL/alXlcyIIaDyoLfH8oW+C7Q4ptdfen85VIMiALMiEbMiJr3plgWLeGcbjB65+y4EM0V+cX/SFlgYOHswUO/qjY1jARyscvjPkDvchiZd1/qgqNoaGhKoblbHhjcDZyK1fvtsiCssDJNlDVfrkGj9en2hXbWmfnc9JjbWRgWM6OTKpiYuDeyCtWlgtgB5G5hZuKwyMCvHTJrCxxhgZV3S+reZpeOz4NRthxexBqLCOwZ8ALceU9DOFIxBMOhyEYDAk+//S7qlLCPsy9aWW52XwSB4e8BR+b2y73wh6rF/bbxpJZa/fmhQ+FQqJvYuqTkuDTMzHMvc2w7ihKBGbCKJExZvjilnMWpA8ugzENv9fcDTVtX8Me7X6obt5dbMaqm3ffqDn7/o6CJWwu1xuMg5tECdxUOEhSiZ6ZuYe+B+GyScFXt+wrBRzkIsVJOByvMizHosQ9z+g4zwuDUon+8Bxsv9yTU6DG4kkK1LR/sxHwgPle867rRS2nbp9vC+Pg6lePNU7wT4eMAJA+yBcSPPzEjsFr//RlCewe8MBXg2MZy6aF0UI8870wb6zwK9DMaNYkzu1aUpUSjMP1KeNwh1DkrnMkGl1YxL0xKy02trgMxlA0mXidCukIrvArBcNLJaR9lCSQlPB6n2Mc7qNW1r2MInaXZ/F+INgdW14xCYLgkxdO8Lx/fmHRJS1eSIiiCCafOeO7DRGQ7g2rw32CYblI8qHzIFFo0D06iYnXeCxiFiMggghqc0Oy7SnLmUcjkLE/nJ69jMPdYGW5LsbB+RmWiyXTwfmnAtORickpa6ECoijCUdOvGbAmX/ejEyg0cgmYfOYkdC54/Jz6vewEWhjtKqTxOAiikF42aXjj8TR82QmYfN0ZQAeo2pwjX5YComSjylMJvuwE1iROFARflgJyiXzwZSuAgdBX3dfywpeVwMqTfJVYh0AsVbyZ0RQlgW3PMS3rf5lbT+Ar8Ia9Tp/bde2xC+CfEOksVK/jD81Ozc7XH7tASuLBTJQiEsORT8H/B7EC20XdTXVSAAAAAElFTkSuQmCC";function Z9(){const[t,e]=b.useState(""),[n,i]=b.useState(""),[r,s]=b.useState(!1),[o,a]=b.useState(null),{value:l}=Vt(d=>d.theme),c=xi();W_();async function u(d){var f;d.preventDefault();try{await qx(ie,t,n),(f=ie==null?void 0:ie.currentUser)!=null&&f.emailVerified?(UC(),c("/home"),e(""),i("")):(a("Please verify your email first"),to(ie))}catch(p){const g=kh(p);a(g)}}function h(){s(!r)}return w.jsxs("main",{className:"auth-container",children:[w.jsx("div",{className:"auth-img",children:w.jsx("img",{src:J9,alt:"login-img"})}),w.jsxs("section",{className:"auth-content",style:{backgroundColor:l==="dark"?K.color2:K.color5},children:[w.jsxs("div",{className:"auth-welcoming-title",style:{color:l==="dark"?K.color4:"black"},children:[w.jsx("h1",{children:"Hello Again!"}),w.jsx("p",{children:"Log in to your account to continue"})]}),w.jsx("div",{className:"auth-error-display",style:{display:o?"initial":"none"},children:o&&w.jsx("p",{children:o})}),w.jsxs("form",{onSubmit:d=>u(d),style:{color:l==="dark"?K.color4:"black"},children:[w.jsxs("div",{className:"auth-input-field",children:[w.jsx("label",{children:"Email"}),w.jsxs("div",{className:"auth-input",children:[w.jsx("input",{type:"email",value:t,onChange:d=>e(d.target.value),placeholder:"Example@gmail.com"}),w.jsx("div",{className:"auth-icon-container",children:w.jsx("img",{className:"auth-icons-1",src:Wd,alt:"email"})})]})]}),w.jsxs("div",{className:"auth-input-field",children:[w.jsx("label",{children:"Password"}),w.jsxs("div",{className:"auth-input",children:[w.jsx("input",{type:r?"text":"password",value:n,onChange:d=>i(d.target.value),placeholder:"********"}),w.jsx("div",{className:"auth-icon-container",children:w.jsx("img",{onClick:h,className:"auth-icons-2",src:r?q_:H_,alt:"eye"})})]})]}),w.jsx("button",{className:"submit-button",type:"submit",children:"Log In"})]}),w.jsx(zC,{prop:"Log in with Google"}),w.jsxs("div",{className:"auth-navigate",children:[w.jsx("button",{onClick:()=>c("/reset-password"),children:"Forgot Password?"}),w.jsx("button",{onClick:()=>c("/register"),children:"Go to Register"})]})]})]})}const e6="/my-cryptos/assets/register-Unv8Mv9D.svg",t6="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEQElEQVR4nO2Zb0wbZRzHL3HtZrYYhxJhmQtxUZiLgiDoKlD+hGBHGDXOlxpNpm/mNh0MxtQQ9IUmTtrJLAGXmE2zLWxZuSt/2g7Wob3DLAzn6F3RZZkbExKj8Q++0dj7mnsYlbv+uTLaa2f6S77p9enz/J7v5/n97u5FKSpO0ef159Ks0EJzwjDN8X6aFf4kkq6lMVZokeZQqRZ9Xv+TDCeMMJyA2MSzNDf1TLJ9U93j4zqGFWw0y4uxm5+XtIbm+MNSjqSYd3K+DJrlPUs1HqYa5/q/urxWU/PSqUUyT3O8i+GEHVKvuy5dWi2JYafyHF7hVYbl3ZEgurWshNQ2YUxMObx8mdraPpYvp1n+u5D1LN+pkfnJYmXP0yx/3u755t5Yc0gtw3DCqPKe6P/aX5R4AI4/pzz5pZhfDEGzwvfyKghnE+N6YdOxyU3K0jvG/BW3m09qJ0aRL6HvCelFpOhb97JzcsKwoqL74uM2ps2EHcvOyfpfi/ehRNlM/vSIR7kZdipPeU/Fx224zThhbvFmvR7fmuXm7PX41iiqOkclKpQ3XKrn/f8BHDkzjMVKybzPzaLOPIOb5hkgldQwg2nzDEyqALcmIkV1QxUgBUwimtIA5nQFkG6hqFE8+jtSWZRaJNtgcRpgNA4nNfIztrRaYXi2HgbTNjzdaiFjd0wFthyworS0VCZp7I4BKKszo7y8XKayrQ2xrT//G4qGbqLAfgVFzh+TA2Dcug0VFRUyGetiAyhyzaLJbsGcO4N8St+XBJD96Q0sV/k7P0RVVZVM+TsPqq/tvoZcywh+GnwAonslfhnIxCbLWTK+MEcTgHU911Dw+keorq4mkq6lMbV1WdZJnDxRT8yLrnmdOF5PxjUFWFBNTQ1RLHOzbFdgtnUh4F4VNC+69EQv2DrJ75oD1NbWEqnO7fkBGzo4XHU8FGJe0nXHBuR0eMk8TQFMJhOR6ul/7IP12CtB84eaNpP75lBjbhDCcvRlMk9TAOOLu2F8aU90811XYew8jr+cq4Mnb218FJWVlbDufSQI8LfzblR3fq4tgHrrXEd2x0VcOPOErG0+ac6F0WhEV/NGWStdtD8O9FJ3RSfY74Nm2nsBuw/uCun5ntaN5O195ECObFx06gHnyl2pAdD8LdY1nsKv/WvlJl16fPZ2DgwGA469sz5ofEEBp/4POFc9mHyAPV7Yj5aFmJf0Rdt6lJSU4GR7tsz8fxC6geQCNI1j+3ttYc2LLj3o97NQWFiIgQ8ywwLMt5L++eQAtFzGPW8MYLovOyKAqGibCFWYhYcK88/Qft90QgHeHIOtuyGq+dPvZqIwPw+n2u+PAKAjCgzpbKEAzbwpYRD7JvDUW4fxj+KpIypO/nT7fSh47GH0tmVENH8LIIDBFaWUlhFw6idut23ERebFoXkFhlZMaA3gXbpxfVjzBGBQ96WmAOmgQuNfV0sHhzmGVGgAAAAASUVORK5CYII=";function n6(){const[t,e]=b.useState(""),[n,i]=b.useState(""),[r,s]=b.useState(""),[o,a]=b.useState(null),[l,c]=b.useState(!1),[u,h]=b.useState(null),{value:d}=Vt(_=>_.theme),f=xi();W_();async function p(){if(n===r)try{await O2(ie,t,n),await Kx(ie.currentUser),e(""),i(""),s(""),h("An email has been sent to your email address. Please verify your email address to continue."),a(null),to(ie)}catch(_){const m=kh(_);a(m),console.log(_.code)}else{const _=kh({code:"auth/passwords-don't-match"});a(_)}}function g(){c(!l)}return w.jsxs("main",{className:"auth-container",children:[w.jsx("div",{className:"auth-img",children:w.jsx("img",{src:e6,alt:"register-img"})}),w.jsxs("section",{className:"auth-content",style:{backgroundColor:d==="dark"?K.color2:K.color5},children:[w.jsxs("div",{className:"auth-welcoming-title",style:{color:d==="dark"?K.color4:"black"},children:[w.jsx("h1",{children:"Welcome!"}),w.jsx("p",{children:"Create an account and get started"})]}),w.jsx("div",{className:"auth-error-display",style:{display:o?"initial":"none"},children:o&&w.jsx("p",{children:o})}),w.jsx("div",{className:"auth-info-display",style:{display:u?"initial":"none"},children:u&&w.jsx("p",{children:u})}),w.jsxs("form",{onSubmit:_=>p(),style:{color:d==="dark"?K.color4:"black"},children:[w.jsxs("div",{className:"auth-input-field",children:[w.jsx("label",{children:"Email"}),w.jsxs("div",{className:"auth-input",children:[w.jsx("input",{type:"email",value:t,onChange:_=>e(_.target.value),placeholder:"Example@gmail.com"}),w.jsx("div",{className:"auth-icon-container",children:w.jsx("img",{className:"auth-icons-1",src:Wd,alt:"email"})})]})]}),w.jsxs("div",{className:"auth-input-field",children:[w.jsx("label",{children:"Password"}),w.jsxs("div",{className:"auth-input",children:[w.jsx("input",{type:l?"text":"password",value:n,onChange:_=>i(_.target.value),placeholder:"********"}),w.jsx("div",{className:"auth-icon-container",children:w.jsx("img",{onClick:g,className:"auth-icons-2",src:l?q_:H_,alt:"eye"})})]})]}),w.jsxs("div",{className:"auth-input-field",children:[w.jsx("label",{children:"Confirm Password"}),w.jsxs("div",{className:"auth-input",children:[w.jsx("input",{type:"password",value:r,onChange:_=>s(_.target.value),placeholder:"********"}),w.jsx("div",{className:"auth-icon-container",children:w.jsx("img",{className:"auth-icons-1",src:t6,alt:"key"})})]})]}),w.jsx("button",{className:"submit-button",type:"submit",children:"Register"})]}),w.jsx(zC,{prop:"Register with Google"}),w.jsxs("div",{className:"auth-navigate",children:[w.jsx("button",{onClick:()=>f("/email-verification"),children:"Resend Email Verification"}),w.jsx("button",{onClick:()=>f("/login"),children:"Go to Log In"})]})]})]})}async function i6(t){try{await P2(ie,t),alert("Password reset email sent")}catch(e){console.log(e)}}const r6="/my-cryptos/assets/new-messages-Po_WNEzm.svg";function s6(){const[t,e]=b.useState(""),n=xi(),{value:i}=Vt(s=>s.theme);W_();async function r(s){s.preventDefault(),i6(t)}return w.jsxs("main",{className:"auth-container",children:[w.jsx("div",{className:"auth-img",children:w.jsx("img",{src:r6,alt:"login-img",style:{width:"80%",height:"80%"}})}),w.jsxs("section",{className:"auth-content",style:{backgroundColor:i==="dark"?K.color2:K.color5},children:[w.jsxs("div",{className:"auth-welcoming-title",style:{color:i==="dark"?K.color4:"black"},children:[w.jsx("h1",{children:"Reset Password"}),w.jsx("p",{children:"Please enter your email address to receive a password reset email."})]}),w.jsxs("form",{onSubmit:s=>r(s),style:{color:i==="dark"?K.color4:"black"},children:[w.jsxs("div",{className:"auth-input-field",children:[w.jsx("label",{children:"Email"}),w.jsxs("div",{className:"auth-input",children:[w.jsx("input",{type:"email",value:t,onChange:s=>e(s.target.value),placeholder:"Example@gmail.com"}),w.jsx("div",{className:"auth-icon-container",children:w.jsx("img",{className:"auth-icons-1",src:Wd,alt:"email"})})]})]}),w.jsx("button",{className:"submit-button",type:"submit",children:"Reset Password"})]}),w.jsxs("div",{className:"auth-navigate",children:[w.jsx("button",{onClick:()=>n("/login"),children:"Go to Log In"}),w.jsx("button",{onClick:()=>n("/register"),children:"Go to Sign Up"})]})]})]})}const o6="/my-cryptos/assets/woman-doing-bitcoin-trading-EBfQD6-i.svg",a6="/my-cryptos/assets/bitcoin-investment-profit-QBVWhEI0.svg",l6="/my-cryptos/assets/access-denied-_8y-2MN9.svg",c6="/my-cryptos/assets/bitcoin-investment-uFMUmcoB.svg",u6=[{title:"Discover the simplicity of managing your crypto favorites.",content:"Effortlessly add and track your preferred cryptocurrencies, making it easy to stay updated and in control of your digital assets. Start optimizing your crypto experience today!",image:o6},{title:"Our platform provides you with live, up-to-the-minute data on your favorite cryptocurrencies.",content:"Witness the dynamic changes in prices and market trends, all displayed with precision every 5 minutes. Stay ahead of the curve and make informed decisions with our real-time updates. Elevate your crypto journey with a seamless and responsive experience, ensuring you never miss a beat in the ever-evolving world of digital assets.",image:a6},{title:"Experience the power of our platform as you seamlessly search and click on any coin to delve into detailed insights.",content:"Our user-friendly interface allows you to effortlessly navigate through a wealth of information, from live prices to historical data. Stay informed and make confident decisions by exploring the comprehensive details of each cryptocurrency at your fingertips.",image:c6},{title:"Rest easy knowing that our robust authentication system employs a multi-layered approach to safeguard your data.",content:"Our verification email process ensures that only authorized users gain access to their accounts, adding an extra layer of protection. For added convenience and security, we offer Google login, leveraging the reliability and trust associated with your Google account. Your personal information and crypto data are encrypted and stored securely, providing you with peace of mind as you explore the exciting world of cryptocurrencies on our platform.",image:l6}],$C="/my-cryptos/assets/my-cryptos-nx2qz24p.svg",h6="data:image/svg+xml,%3c?xml%20version='1.0'?%3e%3csvg%20fill='%23228BE6'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='50px'%20height='50px'%3e%3cpath%20d='M17.791,46.836C18.502,46.53,19,45.823,19,45v-5.4c0-0.197,0.016-0.402,0.041-0.61C19.027,38.994,19.014,38.997,19,39%20c0,0-3,0-3.6,0c-1.5,0-2.8-0.6-3.4-1.8c-0.7-1.3-1-3.5-2.8-4.7C8.9,32.3,9.1,32,9.7,32c0.6,0.1,1.9,0.9,2.7,2c0.9,1.1,1.8,2,3.4,2%20c2.487,0,3.82-0.125,4.622-0.555C21.356,34.056,22.649,33,24,33v-0.025c-5.668-0.182-9.289-2.066-10.975-4.975%20c-3.665,0.042-6.856,0.405-8.677,0.707c-0.058-0.327-0.108-0.656-0.151-0.987c1.797-0.296,4.843-0.647,8.345-0.714%20c-0.112-0.276-0.209-0.559-0.291-0.849c-3.511-0.178-6.541-0.039-8.187,0.097c-0.02-0.332-0.047-0.663-0.051-0.999%20c1.649-0.135,4.597-0.27,8.018-0.111c-0.079-0.5-0.13-1.011-0.13-1.543c0-1.7,0.6-3.5,1.7-5c-0.5-1.7-1.2-5.3,0.2-6.6%20c2.7,0,4.6,1.3,5.5,2.1C21,13.4,22.9,13,25,13s4,0.4,5.6,1.1c0.9-0.8,2.8-2.1,5.5-2.1c1.5,1.4,0.7,5,0.2,6.6c1.1,1.5,1.7,3.2,1.6,5%20c0,0.484-0.045,0.951-0.11,1.409c3.499-0.172,6.527-0.034,8.204,0.102c-0.002,0.337-0.033,0.666-0.051,0.999%20c-1.671-0.138-4.775-0.28-8.359-0.089c-0.089,0.336-0.197,0.663-0.325,0.98c3.546,0.046,6.665,0.389,8.548,0.689%20c-0.043,0.332-0.093,0.661-0.151,0.987c-1.912-0.306-5.171-0.664-8.879-0.682C35.112,30.873,31.557,32.75,26,32.969V33%20c2.6,0,5,3.9,5,6.6V45c0,0.823,0.498,1.53,1.209,1.836C41.37,43.804,48,35.164,48,25C48,12.318,37.683,2,25,2S2,12.318,2,25%20C2,35.164,8.63,43.804,17.791,46.836z'/%3e%3c/svg%3e",d6="data:image/svg+xml,%3c?xml%20version='1.0'?%3e%3csvg%20fill='%23228BE6'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='50px'%20height='50px'%3e%3cpath%20d='M41,4H9C6.24,4,4,6.24,4,9v32c0,2.76,2.24,5,5,5h32c2.76,0,5-2.24,5-5V9C46,6.24,43.76,4,41,4z%20M17,20v19h-6V20H17z%20M11,14.47c0-1.4,1.2-2.47,3-2.47s2.93,1.07,3,2.47c0,1.4-1.12,2.53-3,2.53C12.2,17,11,15.87,11,14.47z%20M39,39h-6c0,0,0-9.26,0-10%20c0-2-1-4-3.5-4.04h-0.08C27,24.96,26,27.02,26,29c0,0.91,0,10,0,10h-6V20h6v2.56c0,0,1.93-2.56,5.81-2.56%20c3.97,0,7.19,2.73,7.19,8.26V39z'/%3e%3c/svg%3e";function f6(){const t=xi(),{value:e}=Vt(r=>r.theme),n=b.useRef(null),i=[b.useRef(null),b.useRef(null),b.useRef(null),b.useRef(null)];return b.useEffect(()=>{function r(){return window.innerWidth<600?"0":"9"}const s=()=>{i.forEach((o,a)=>{o.current.getBoundingClientRect().top<window.innerHeight-200&&(o.current.style.left=a%2===0?`${r()}%`:"auto",o.current.style.right=a%2!==0?`-${r()}%`:"auto",o.current.style.opacity="1")})};return window.addEventListener("scroll",s),window.addEventListener("resize",s),()=>{window.removeEventListener("scroll",s)}},[]),w.jsxs("main",{className:"welcome-page-all",children:[w.jsx("div",{className:"welcome-background-svg"}),w.jsx("section",{className:"welcome-section",style:{backgroundColor:e==="dark"?K.color3:K.color4},children:w.jsxs("div",{className:"section-one",ref:n,children:[w.jsx("h2",{children:"Unleash Your MyCryptos Adventure"}),w.jsx("p",{children:"Navigating the Waves of Digital Wealth, Securing Your Financial Odyssey!"}),w.jsxs("div",{className:"section-buttons-container",children:[w.jsx("button",{onClick:()=>t("/login"),children:"Log In"}),w.jsx("button",{onClick:()=>t("/register"),children:"Sign Up"})]})]})}),w.jsx("summary",{className:"welcome-summary",style:{backgroundColor:e==="dark"?K.color2:K.color5,color:e==="dark"?"rgb(228, 228, 228)":K.color3},children:u6.map((r,s)=>w.jsx("article",{className:`welcome-article-${s+1}`,style:{backgroundColor:e==="dark"?K.color3:K.color4},ref:i[s],children:s%2===0?w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:`welcome-article-div-${s+1}`,children:[r.title,w.jsx("br",{}),w.jsx("br",{}),r.content]}),w.jsx("img",{src:r.image,alt:`Article ${s+1}`})]}):w.jsxs(w.Fragment,{children:[w.jsx("img",{src:r.image,alt:`Article ${s+1}`}),w.jsxs("div",{className:`welcome-article-div-${s+1}`,children:[r.title,w.jsx("br",{}),w.jsx("br",{}),r.content]})]})},s))}),w.jsxs("footer",{className:"welcome-footer",children:[w.jsx("div",{className:"footer-logo",children:w.jsx("img",{src:$C,alt:"logo",className:"footer-logo"})}),w.jsxs("div",{className:"footer-content",children:[w.jsx("h2",{children:"Contact"}),w.jsx("hr",{}),w.jsx("p",{children:"Phone: 1-800-555-5555"}),w.jsx("hr",{}),w.jsx("p",{children:"Email: example@gmail.com"}),w.jsx("hr",{}),w.jsx("p",{children:"Address: 1234 Example Street, City, State 12345"}),w.jsx("hr",{}),w.jsxs("div",{className:"footer-social-media",children:[w.jsx("a",{href:"https://github.com/ionathansideras",target:"_blank",children:w.jsx("img",{src:h6,alt:"github"})}),w.jsx("a",{href:"https://www.linkedin.com/in/ionathan-sideras-072a60255/",target:"_blank",children:w.jsx("img",{src:d6,alt:"linkedin"})})]})]})]})]})}const p6="/my-cryptos/assets/verify2-I3dHcQmM.svg";function g6(){const[t,e]=b.useState(""),[n,i]=b.useState(""),[r,s]=b.useState(null),[o,a]=b.useState(!1),{value:l}=Vt(d=>d.theme),c=xi();async function u(d){var f;d.preventDefault();try{if(await qx(ie,t,n),(f=ie==null?void 0:ie.currentUser)!=null&&f.emailVerified){alert("Email already verified"),to(ie);return}await Kx(ie.currentUser),e(""),i(""),to(ie)}catch(p){const g=kh(p);s(g)}}function h(){a(!o)}return w.jsxs("main",{className:"auth-container",children:[w.jsx("div",{className:"auth-img",children:w.jsx("img",{src:p6,alt:"login-img",style:{width:"80%",height:"80%"}})}),w.jsxs("section",{className:"auth-content",style:{backgroundColor:l==="dark"?K.color2:K.color5},children:[w.jsxs("div",{className:"auth-welcoming-title",style:{color:l==="dark"?K.color4:"black"},children:[w.jsx("h1",{children:"Resend Verification Email"}),w.jsx("p",{children:"Please enter your email address to receive a verification email."})]}),w.jsx("div",{className:"auth-error-display",style:{display:r?"initial":"none"},children:r&&w.jsx("p",{children:r})}),w.jsxs("form",{onSubmit:d=>u(d),style:{color:l==="dark"?K.color4:"black"},children:[w.jsxs("div",{className:"auth-input-field",children:[w.jsx("label",{children:"Email"}),w.jsxs("div",{className:"auth-input",children:[w.jsx("input",{type:"email",placeholder:"Email",value:t,onChange:d=>e(d.target.value)}),w.jsx("div",{className:"auth-icon-container",children:w.jsx("img",{className:"auth-icons-1",src:Wd,alt:"email"})})]})]}),w.jsxs("div",{className:"auth-input-field",children:[w.jsx("label",{children:"Password"}),w.jsxs("div",{className:"auth-input",children:[w.jsx("input",{type:o?"text":"password",placeholder:"Password",value:n,onChange:d=>i(d.target.value)}),w.jsx("div",{className:"auth-icon-container",children:w.jsx("img",{onClick:h,className:"auth-icons-2",src:o?q_:H_,alt:"eye"})})]})]}),w.jsx("button",{className:"submit-button",type:"submit",children:"Send"})]}),w.jsxs("div",{className:"auth-navigate",children:[w.jsx("button",{onClick:()=>c("/login"),children:"Go to Log In"}),w.jsx("button",{onClick:()=>c("/register"),children:"Go to Register"})]})]})]})}const m6="KW9OH19UOXYXJLUEWL3A",y6="Nya94uvgPtekyjJJ4BPYhpo8VoYgO7HefY9S6rIsXebREQcN";async function _6(t){try{return(await Rl.get(`https://quantifycrypto.com/api/v1/coins/${t}`,{headers:{"QC-Access-Key":m6,"QC-Secret-Key":y6}})).data.data}catch(e){throw console.error("Error fetching data:",e.message),e}}async function v6(t){try{return(await Rl.get(`https://api.coingecko.com/api/v3/search?query=${t}`)).data.coins}catch(e){throw console.error("Error fetching data:",e.message),e}}function w6(){const{symbol:t}=SL(),[e,n]=b.useState(),[i,r]=b.useState(""),{value:s}=Vt(c=>c.theme),[o,a]=b.useState([]);Pb();function l(c){const u=o.includes(c);a(u?o.filter(h=>h!==c):[...o,c])}return b.useEffect(()=>{VC(o)},[o]),b.useEffect(()=>{_6(t).then(c=>{r(c)}),v6(t).then(c=>{n(c[0].large)}),LC().then(c=>{a(c)})},[]),i?w.jsxs("main",{className:"coin-detail-main",style:{backgroundColor:s==="dark"?K.color2:K.color5},children:[w.jsxs("div",{className:"crypto-info",style:{color:s==="dark"?K.color4:"black"},children:[w.jsxs("div",{className:"crypto-info-head",children:[w.jsx("img",{src:e,alt:"coin thumb"}),w.jsx("h1",{children:i.coin_name}),w.jsx("h2",{children:i.coin_symbol}),w.jsx("img",{className:"info-set-favorites",src:BC(i.coin_symbol,o),alt:"favorites",onClick:()=>l(i.coin_symbol)})]}),w.jsxs("div",{className:"crypto-info-content",children:[w.jsxs("div",{className:"info-container",children:[w.jsx("h3",{children:"Price:"}),w.jsxs("p",{children:["$",i.coin_price]})]}),w.jsxs("div",{className:"info-container",children:[w.jsx("h3",{children:"Rank:"}),w.jsx("p",{children:i.rank})]}),w.jsxs("div",{className:"info-container",children:[w.jsx("h3",{children:"Market Cap:"}),w.jsxs("p",{children:["$",i.marketcap]})]}),w.jsxs("div",{className:"info-container",children:[w.jsx("h3",{children:"Market Cap BTC:"}),w.jsx("p",{children:i.coin_price_btc})]})]})]}),w.jsx("div",{className:"detail-chart",children:w.jsx(NC,{coinDetails:i})})]}):w.jsx(FC,{})}const E6="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAACYUlEQVR4nO2ZzWoUQRCAPyYBIxpIjgpeVkRwH0JfxDWrMTE5JIK4a8wlR18ij6DxLfxDwfWQBHLQfYBEYg7elIJaKZpedqa3e5qV+aCgmZmun6aqp3oGGhoaUnEbGALfgVvMIC+BPyo7zCB7JgAZzxx7sx5A3wQg46xcAl4AG0BRck4LOFGRcRkKYFNtic1o9Mxq7lcIogqF6h7ZEZvReGwUpwiicJwXeURiA92I+h8mXiBvEFIPLssa2FvgCLhQkfEBsAIseeZt1pCi/4LoqvPz5vplfVn9dFbSJ2dapAtm/rwG0U3p/DiuAx9LOO7KF+BG3c76nB86jn0FtoA7wBWVNrANDJxnh6ojC5I2n4wzv4H1CSkg957os6N5H5x0qo0dx/m7Febec4LoUTPLTsHKyldFNgJb2L7dKRldJ+dDdo45pyYeUCMHxrAUbCjbRs/rWM7dBJ5pB9nXsduMHRvDstuE0jZ6jgL88HLi2bPlmuXc3FucIoBFo+c8wI//M4AWsAu8UtnNlEKtEn5EKWIpxFCepijiMqwYw4MpttFvRk+Hml9kZ8a4tAdVsS30ad0vMrQltq2EtAehrcRzMrCgjZgNYtKhf05X3jr/LvYBftp2eqCFLTvMVZW2FqzNeZEfwDUyIw68DzjQfM5xoJH0WNVUkXSw6dRzCnucnGrO27QZpdZq6vPw/oQWekm7yjfAIfBL5VD3+c6Y3WY99aHe91nlfkT9HUd39CA2EhsoPAsUckgqdXys69NiP/YBXl5caxWcD/lDU+jKu9+NstD8oclN84cmNyF/aBoaGqjGX4HXL4DrkUaxAAAAAElFTkSuQmCC",S6="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAACe0lEQVR4nO2Zz2oTURTGh7RgRQu6rOAmUoTmIeyLWK21TM2iKYQmajdd+hJ9hKpv4T8UjAsrdKF9AC3VRXc/OXiGHm9n0pnMvTOkzAcXhmTud78vOefcc2eiqEGDBkEA3AWOgO/AYjRtAJ5zhmfRtAHYNQZ2o2kDl8DA0BgY1i3misQx8ARo5ZzTBg51tHPOaQFd4KmsWVq4IR6YX3Mvr4mCa7SUO8HAJ/m6IfZugvPiBWtR4AVWPfKvhfyBskxspNxzU4wBr4ED4I8OuX4FPARupMzrhg5Ra+KRJvOs+fyqJvkxF+OXJumcmT+rJlaDiR9j6hbwnuL4BNyuVGyGeOl3LD4Dm8AScE1HB+gBI+feI+GoS7yEzQcj5hSIx4WAhuCG3pvgnQ2nyqAxb8XfKzB32TExCKs2vdrYhI0n4JBCYBP7XHUKBq0WNuYLVw5gxsmJB2HUpi8uNT3BZgmenuHZ9yXuDtDXbnKo1/81Y8A3s/BSibU6huegqI4sUukeXRw695yY7+ZLGJg3PCdFdVxaA21gB3ihY6emEGpfpMNXEvdK8Gx5T+KcC0tXmWBUoox+MTwrYdRmb2Sy+WS21jk4bAv9s9KNTAVIS5xA2oLlEq3Edli16SLmtBGzJsYe+jVsuo74N14P8B7a6ZHusFJhruvoaMLamBf8ABZqEW9MLABvKY6PlR9otJ9f11CZccJp4CR2FiRht23YcBZaj0Ofh/fGtdBSSaSrBF4CX4HfOuR6X0plxqE+rvqJhOC+R/4Vh9uviZoebMWRxwX6Qf/iKNWEvwfCmqT9Ikk2yRsa/pmI3edGtaB5Q1M3mjc0dWOSNzQNGjSICuMvH5OmQACh1uwAAAAASUVORK5CYII=";function et(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var A6=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")(),w1=A6,rp=()=>Math.random().toString(36).substring(7).split("").join("."),x6={INIT:`@@redux/INIT${rp()}`,REPLACE:`@@redux/REPLACE${rp()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${rp()}`},Rh=x6;function K_(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function WC(t,e,n){if(typeof t!="function")throw new Error(et(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(et(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(et(1));return n(WC)(t,e)}let i=t,r=e,s=new Map,o=s,a=0,l=!1;function c(){o===s&&(o=new Map,s.forEach((_,m)=>{o.set(m,_)}))}function u(){if(l)throw new Error(et(3));return r}function h(_){if(typeof _!="function")throw new Error(et(4));if(l)throw new Error(et(5));let m=!0;c();const y=a++;return o.set(y,_),function(){if(m){if(l)throw new Error(et(6));m=!1,c(),o.delete(y),s=null}}}function d(_){if(!K_(_))throw new Error(et(7));if(typeof _.type>"u")throw new Error(et(8));if(typeof _.type!="string")throw new Error(et(17));if(l)throw new Error(et(9));try{l=!0,r=i(r,_)}finally{l=!1}return(s=o).forEach(y=>{y()}),_}function f(_){if(typeof _!="function")throw new Error(et(10));i=_,d({type:Rh.REPLACE})}function p(){const _=h;return{subscribe(m){if(typeof m!="object"||m===null)throw new Error(et(11));function y(){const E=m;E.next&&E.next(u())}return y(),{unsubscribe:_(y)}},[w1](){return this}}}return d({type:Rh.INIT}),{dispatch:d,subscribe:h,getState:u,replaceReducer:f,[w1]:p}}function T6(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Rh.INIT})>"u")throw new Error(et(12));if(typeof n(void 0,{type:Rh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(et(13))})}function I6(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(n[o]=t[o])}const i=Object.keys(n);let r;try{T6(n)}catch(s){r=s}return function(o={},a){if(r)throw r;let l=!1;const c={};for(let u=0;u<i.length;u++){const h=i[u],d=n[h],f=o[h],p=d(f,a);if(typeof p>"u")throw a&&a.type,new Error(et(14));c[h]=p,l=l||p!==f}return l=l||i.length!==Object.keys(o).length,l?c:o}}function Ph(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...i)=>e(n(...i)))}function b6(...t){return e=>(n,i)=>{const r=e(n,i);let s=()=>{throw new Error(et(15))};const o={getState:r.getState,dispatch:(l,...c)=>s(l,...c)},a=t.map(l=>l(o));return s=Ph(...a)(r.dispatch),{...r,dispatch:s}}}function C6(t){return K_(t)&&"type"in t&&typeof t.type=="string"}var HC=Symbol.for("immer-nothing"),E1=Symbol.for("immer-draftable"),Yt=Symbol.for("immer-state");function gn(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var go=Object.getPrototypeOf;function dr(t){return!!t&&!!t[Yt]}function _i(t){var e;return t?qC(t)||Array.isArray(t)||!!t[E1]||!!((e=t.constructor)!=null&&e[E1])||qd(t)||Kd(t):!1}var k6=Object.prototype.constructor.toString();function qC(t){if(!t||typeof t!="object")return!1;const e=go(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===k6}function vl(t,e){Hd(t)===0?Object.entries(t).forEach(([n,i])=>{e(n,i,t)}):t.forEach((n,i)=>e(i,n,t))}function Hd(t){const e=t[Yt];return e?e.type_:Array.isArray(t)?1:qd(t)?2:Kd(t)?3:0}function nm(t,e){return Hd(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function KC(t,e,n){const i=Hd(t);i===2?t.set(e,n):i===3?t.add(n):t[e]=n}function R6(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function qd(t){return t instanceof Map}function Kd(t){return t instanceof Set}function kr(t){return t.copy_||t.base_}function im(t,e){if(qd(t))return new Map(t);if(Kd(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&qC(t))return go(t)?{...t}:Object.assign(Object.create(null),t);const n=Object.getOwnPropertyDescriptors(t);delete n[Yt];let i=Reflect.ownKeys(n);for(let r=0;r<i.length;r++){const s=i[r],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create(go(t),n)}function G_(t,e=!1){return Gd(t)||dr(t)||!_i(t)||(Hd(t)>1&&(t.set=t.add=t.clear=t.delete=P6),Object.freeze(t),e&&vl(t,(n,i)=>G_(i,!0))),t}function P6(){gn(2)}function Gd(t){return Object.isFrozen(t)}var O6={};function ss(t){const e=O6[t];return e||gn(0,t),e}var wl;function GC(){return wl}function D6(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function S1(t,e){e&&(ss("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function rm(t){sm(t),t.drafts_.forEach(M6),t.drafts_=null}function sm(t){t===wl&&(wl=t.parent_)}function A1(t){return wl=D6(wl,t)}function M6(t){const e=t[Yt];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function x1(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Yt].modified_&&(rm(e),gn(4)),_i(t)&&(t=Oh(e,t),e.parent_||Dh(e,t)),e.patches_&&ss("Patches").generateReplacementPatches_(n[Yt].base_,t,e.patches_,e.inversePatches_)):t=Oh(e,n,[]),rm(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==HC?t:void 0}function Oh(t,e,n){if(Gd(e))return e;const i=e[Yt];if(!i)return vl(e,(r,s)=>T1(t,i,e,r,s,n)),e;if(i.scope_!==t)return e;if(!i.modified_)return Dh(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const r=i.copy_;let s=r,o=!1;i.type_===3&&(s=new Set(r),r.clear(),o=!0),vl(s,(a,l)=>T1(t,i,r,a,l,n,o)),Dh(t,r,!1),n&&t.patches_&&ss("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function T1(t,e,n,i,r,s,o){if(dr(r)){const a=s&&e&&e.type_!==3&&!nm(e.assigned_,i)?s.concat(i):void 0,l=Oh(t,r,a);if(KC(n,i,l),dr(l))t.canAutoFreeze_=!1;else return}else o&&n.add(r);if(_i(r)&&!Gd(r)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Oh(t,r),(!e||!e.scope_.parent_)&&Dh(t,r)}}function Dh(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&G_(e,n)}function N6(t,e){const n=Array.isArray(t),i={type_:n?1:0,scope_:e?e.scope_:GC(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=i,s=Q_;n&&(r=[i],s=El);const{revoke:o,proxy:a}=Proxy.revocable(r,s);return i.draft_=a,i.revoke_=o,a}var Q_={get(t,e){if(e===Yt)return t;const n=kr(t);if(!nm(n,e))return L6(t,n,e);const i=n[e];return t.finalized_||!_i(i)?i:i===sp(t.base_,e)?(op(t),t.copy_[e]=am(i,t)):i},has(t,e){return e in kr(t)},ownKeys(t){return Reflect.ownKeys(kr(t))},set(t,e,n){const i=QC(kr(t),e);if(i!=null&&i.set)return i.set.call(t.draft_,n),!0;if(!t.modified_){const r=sp(kr(t),e),s=r==null?void 0:r[Yt];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(R6(n,r)&&(n!==void 0||nm(t.base_,e)))return!0;op(t),om(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return sp(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,op(t),om(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=kr(t),i=Reflect.getOwnPropertyDescriptor(n,e);return i&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:i.enumerable,value:n[e]}},defineProperty(){gn(11)},getPrototypeOf(t){return go(t.base_)},setPrototypeOf(){gn(12)}},El={};vl(Q_,(t,e)=>{El[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});El.deleteProperty=function(t,e){return El.set.call(this,t,e,void 0)};El.set=function(t,e,n){return Q_.set.call(this,t[0],e,n,t[0])};function sp(t,e){const n=t[Yt];return(n?kr(n):t)[e]}function L6(t,e,n){var r;const i=QC(e,n);return i?"value"in i?i.value:(r=i.get)==null?void 0:r.call(t.draft_):void 0}function QC(t,e){if(!(e in t))return;let n=go(t);for(;n;){const i=Object.getOwnPropertyDescriptor(n,e);if(i)return i;n=go(n)}}function om(t){t.modified_||(t.modified_=!0,t.parent_&&om(t.parent_))}function op(t){t.copy_||(t.copy_=im(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var V6=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,i)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const o=this;return function(l=s,...c){return o.produce(l,u=>n.call(this,u,...c))}}typeof n!="function"&&gn(6),i!==void 0&&typeof i!="function"&&gn(7);let r;if(_i(e)){const s=A1(this),o=am(e,void 0);let a=!0;try{r=n(o),a=!1}finally{a?rm(s):sm(s)}return S1(s,i),x1(r,s)}else if(!e||typeof e!="object"){if(r=n(e),r===void 0&&(r=e),r===HC&&(r=void 0),this.autoFreeze_&&G_(r,!0),i){const s=[],o=[];ss("Patches").generateReplacementPatches_(e,r,s,o),i(s,o)}return r}else gn(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,l=>e(l,...a));let i,r;return[this.produce(e,n,(o,a)=>{i=o,r=a}),i,r]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){_i(t)||gn(8),dr(t)&&(t=YC(t));const e=A1(this),n=am(t,void 0);return n[Yt].isManual_=!0,sm(e),n}finishDraft(t,e){const n=t&&t[Yt];(!n||!n.isManual_)&&gn(9);const{scope_:i}=n;return S1(i,e),x1(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const r=e[n];if(r.path.length===0&&r.op==="replace"){t=r.value;break}}n>-1&&(e=e.slice(n+1));const i=ss("Patches").applyPatches_;return dr(t)?i(t,e):this.produce(t,r=>i(r,e))}};function am(t,e){const n=qd(t)?ss("MapSet").proxyMap_(t,e):Kd(t)?ss("MapSet").proxySet_(t,e):N6(t,e);return(e?e.scope_:GC()).drafts_.push(n),n}function YC(t){return dr(t)||gn(10,t),XC(t)}function XC(t){if(!_i(t)||Gd(t))return t;const e=t[Yt];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=im(t,e.scope_.immer_.useStrictShallowCopy_)}else n=im(t,!0);return vl(n,(i,r)=>{KC(n,i,XC(r))}),e&&(e.finalized_=!1),n}var Xt=new V6,JC=Xt.produce;Xt.produceWithPatches.bind(Xt);Xt.setAutoFreeze.bind(Xt);Xt.setUseStrictShallowCopy.bind(Xt);Xt.applyPatches.bind(Xt);Xt.createDraft.bind(Xt);Xt.finishDraft.bind(Xt);function F6(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function j6(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(i=>typeof i=="function"?`function ${i.name||"unnamed"}()`:typeof i).join(", ");throw new TypeError(`${e}[${n}]`)}}var I1=t=>Array.isArray(t)?t:[t];function B6(t){const e=Array.isArray(t[0])?t[0]:t;return j6(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function U6(t,e){const n=[],{length:i}=t;for(let r=0;r<i;r++)n.push(t[r].apply(null,e));return n}var z6=class{constructor(t){this.value=t}deref(){return this.value}},$6=typeof WeakRef<"u"?WeakRef:z6,W6=0,b1=1;function Hc(){return{s:W6,v:void 0,o:null,p:null}}function ZC(t,e={}){let n=Hc();const{resultEqualityCheck:i}=e;let r,s=0;function o(){let a=n;const{length:l}=arguments;for(let h=0,d=l;h<d;h++){const f=arguments[h];if(typeof f=="function"||typeof f=="object"&&f!==null){let p=a.o;p===null&&(a.o=p=new WeakMap);const g=p.get(f);g===void 0?(a=Hc(),p.set(f,a)):a=g}else{let p=a.p;p===null&&(a.p=p=new Map);const g=p.get(f);g===void 0?(a=Hc(),p.set(f,a)):a=g}}const c=a;let u;if(a.s===b1?u=a.v:(u=t.apply(null,arguments),s++),c.s=b1,i){const h=(r==null?void 0:r.deref())??r;h!=null&&i(h,u)&&(u=h,s!==0&&s--),r=typeof u=="object"&&u!==null||typeof u=="function"?new $6(u):u}return c.v=u,u}return o.clearCache=()=>{n=Hc(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function H6(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t;return(...r)=>{let s=0,o=0,a,l={},c=r.pop();typeof c=="object"&&(l=c,c=r.pop()),F6(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...n,...l},{memoize:h,memoizeOptions:d=[],argsMemoize:f=ZC,argsMemoizeOptions:p=[],devModeChecks:g={}}=u,_=I1(d),m=I1(p),y=B6(r),v=h(function(){return s++,c.apply(null,arguments)},..._),E=f(function(){o++;const A=U6(y,arguments);return a=v.apply(null,A),a},...m);return Object.assign(E,{resultFunc:c,memoizedResultFunc:v,dependencies:y,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:h,argsMemoize:f})}}function ek(t){return({dispatch:n,getState:i})=>r=>s=>typeof s=="function"?s(n,i,t):r(s)}var q6=ek(),K6=ek,G6=(...t)=>{const e=H6(...t);return(...n)=>{const i=e(...n),r=(s,...o)=>i(dr(s)?YC(s):s,...o);return Object.assign(r,i),r}};G6(ZC);var Q6=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ph:Ph.apply(null,arguments)};function Sl(t,e){function n(...i){if(e){let r=e(...i);if(!r)throw new Error(wn(0));return{type:t,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:t,payload:i[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=i=>C6(i)&&i.type===t,n}var tk=class aa extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,aa.prototype)}static get[Symbol.species](){return aa}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new aa(...e[0].concat(this)):new aa(...e.concat(this))}};function C1(t){return _i(t)?JC(t,()=>{}):t}function k1(t,e,n){if(t.has(e)){let r=t.get(e);return n.update&&(r=n.update(r,e,t),t.set(e,r)),r}if(!n.insert)throw new Error(wn(10));const i=n.insert(e,t);return t.set(e,i),i}function Y6(t){return typeof t=="boolean"}var X6=()=>function(e){const{thunk:n=!0,immutableCheck:i=!0,serializableCheck:r=!0,actionCreatorCheck:s=!0}=e??{};let o=new tk;return n&&(Y6(n)?o.push(q6):o.push(K6(n.extraArgument))),o},J6="RTK_autoBatch",nk=t=>e=>{setTimeout(e,t)},Z6=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:nk(10),e$=(t={type:"raf"})=>e=>(...n)=>{const i=e(...n);let r=!0,s=!1,o=!1;const a=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?Z6:t.type==="callback"?t.queueNotification:nk(t.timeout),c=()=>{o=!1,s&&(s=!1,a.forEach(u=>u()))};return Object.assign({},i,{subscribe(u){const h=()=>r&&u(),d=i.subscribe(h);return a.add(u),()=>{d(),a.delete(u)}},dispatch(u){var h;try{return r=!((h=u==null?void 0:u.meta)!=null&&h[J6]),s=!r,s&&(o||(o=!0,l(c))),i.dispatch(u)}finally{r=!0}}})},t$=t=>function(n){const{autoBatch:i=!0}=n??{};let r=new tk(t);return i&&r.push(e$(typeof i=="object"?i:void 0)),r},n$=!0;function i$(t){const e=X6(),{reducer:n=void 0,middleware:i,devTools:r=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let a;if(typeof n=="function")a=n;else if(K_(n))a=I6(n);else throw new Error(wn(1));let l;typeof i=="function"?l=i(e):l=e();let c=Ph;r&&(c=Q6({trace:!n$,...typeof r=="object"&&r}));const u=b6(...l),h=t$(u);let d=typeof o=="function"?o(h):h();const f=c(...d);return WC(a,s,f)}function ik(t){const e={},n=[];let i;const r={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(wn(28));if(a in e)throw new Error(wn(29));return e[a]=o,r},addMatcher(s,o){return n.push({matcher:s,reducer:o}),r},addDefaultCase(s){return i=s,r}};return t(r),[e,n,i]}function r$(t){return typeof t=="function"}function s$(t,e){let[n,i,r]=ik(e),s;if(r$(t))s=()=>C1(t());else{const a=C1(t);s=()=>a}function o(a=s(),l){let c=[n[l.type],...i.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[r]),c.reduce((u,h)=>{if(h)if(dr(u)){const f=h(u,l);return f===void 0?u:f}else{if(_i(u))return JC(u,d=>h(d,l));{const d=h(u,l);if(d===void 0){if(u===null)return u;throw new Error(wn(9))}return d}}return u},a)}return o.getInitialState=s,o}var o$=Symbol.for("rtk-slice-createasyncthunk");function a$(t,e){return`${t}/${e}`}function l$({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[o$];return function(r){const{name:s,reducerPath:o=s}=r;if(!s)throw new Error(wn(11));typeof process<"u";const a=(typeof r.reducers=="function"?r.reducers(h$()):r.reducers)||{},l=Object.keys(a),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(_,m){const y=typeof _=="string"?_:_.type;if(!y)throw new Error(wn(12));if(y in c.sliceCaseReducersByType)throw new Error(wn(13));return c.sliceCaseReducersByType[y]=m,u},addMatcher(_,m){return c.sliceMatchers.push({matcher:_,reducer:m}),u},exposeAction(_,m){return c.actionCreators[_]=m,u},exposeCaseReducer(_,m){return c.sliceCaseReducersByName[_]=m,u}};l.forEach(_=>{const m=a[_],y={reducerName:_,type:a$(s,_),createNotation:typeof r.reducers=="function"};f$(m)?g$(y,m,u,e):d$(y,m,u)});function h(){const[_={},m=[],y=void 0]=typeof r.extraReducers=="function"?ik(r.extraReducers):[r.extraReducers],v={..._,...c.sliceCaseReducersByType};return s$(r.initialState,E=>{for(let S in v)E.addCase(S,v[S]);for(let S of c.sliceMatchers)E.addMatcher(S.matcher,S.reducer);for(let S of m)E.addMatcher(S.matcher,S.reducer);y&&E.addDefaultCase(y)})}const d=_=>_,f=new WeakMap;let p;const g={name:s,reducerPath:o,reducer(_,m){return p||(p=h()),p(_,m)},actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState(){return p||(p=h()),p.getInitialState()},getSelectors(_=d){const m=k1(f,this,{insert:()=>new WeakMap});return k1(m,_,{insert:()=>{const y={};for(const[v,E]of Object.entries(r.selectors??{}))y[v]=c$(this,E,_,this!==g);return y}})},selectSlice(_){let m=_[this.reducerPath];return typeof m>"u"&&this!==g&&(m=this.getInitialState()),m},get selectors(){return this.getSelectors(this.selectSlice)},injectInto(_,{reducerPath:m,...y}={}){const v=m??this.reducerPath;return _.inject({reducerPath:v,reducer:this.reducer},y),{...this,reducerPath:v}}};return g}}function c$(t,e,n,i){function r(s,...o){let a=n.call(t,s);return typeof a>"u"&&i&&(a=t.getInitialState()),e(a,...o)}return r.unwrapped=e,r}var u$=l$();function h$(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function d$({type:t,reducerName:e,createNotation:n},i,r){let s,o;if("reducer"in i){if(n&&!p$(i))throw new Error(wn(17));s=i.reducer,o=i.prepare}else s=i;r.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?Sl(t,o):Sl(t))}function f$(t){return t._reducerDefinitionType==="asyncThunk"}function p$(t){return t._reducerDefinitionType==="reducerWithPrepare"}function g$({type:t,reducerName:e},n,i,r){if(!r)throw new Error(wn(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:l,settled:c,options:u}=n,h=r(t,s,u);i.exposeAction(e,h),o&&i.addCase(h.fulfilled,o),a&&i.addCase(h.pending,a),l&&i.addCase(h.rejected,l),c&&i.addMatcher(h.settled,c),i.exposeCaseReducer(e,{fulfilled:o||qc,pending:a||qc,rejected:l||qc,settled:c||qc})}function qc(){}var Y_="listenerMiddleware";Sl(`${Y_}/add`);Sl(`${Y_}/removeAll`);Sl(`${Y_}/remove`);function wn(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}function m$(){return localStorage.getItem("theme")}function y$(t){return localStorage.setItem("theme",t)}const _$={value:m$()||"dark"},rk=u$({name:"theme",initialState:_$,reducers:{changeTheme:t=>{t.value=t.value==="dark"?"light":"dark",y$(t.value)}}}),{changeTheme:v$}=rk.actions,w$=rk.reducer;function E$(){const t=b.useRef(null),[e,n]=b.useState(0),i=b.useRef(null),r=Vt(a=>a.theme.value),s=R5();b.useEffect(()=>{Ey(ie,a=>{a?t.current.style.display="inline-block":t.current.style.display="none"})},[]);function o(){s(v$()),n(a=>a+180)}return w.jsxs("header",{style:{backgroundColor:r==="dark"?K.color1:K.color4},children:[w.jsx("img",{src:$C,alt:"logo",className:"header-logo"}),w.jsxs("div",{children:[w.jsx("img",{src:r==="dark"?S6:E6,alt:"sun",ref:i,style:{transform:`rotate(${e}deg)`},onClick:o,className:"header-sun"}),w.jsx("button",{ref:t,onClick:()=>to(ie),children:"LogOut"})]})]})}function S$(){return w.jsxs(w.Fragment,{children:[w.jsx(E$,{}),w.jsx(FL,{children:w.jsxs(LL,{children:[w.jsx(Ci,{path:"/",element:w.jsx(f6,{})}),w.jsx(Ci,{path:"/home",element:w.jsx(Y9,{})}),w.jsx(Ci,{path:"/login",element:w.jsx(Z9,{})}),w.jsx(Ci,{path:"/register",element:w.jsx(n6,{})}),w.jsx(Ci,{path:"/reset-password",element:w.jsx(s6,{})}),w.jsx(Ci,{path:"/email-verification",element:w.jsx(g6,{})}),w.jsx(Ci,{path:"/coin/:symbol",element:w.jsx(w6,{})})]})})]})}const A$=i$({reducer:{theme:w$}});lp.createRoot(document.getElementById("root")).render(w.jsx(dm.StrictMode,{children:w.jsx(b5,{store:A$,children:w.jsx(S$,{})})}));
